<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦¥éˆç§˜ç¢¼ Hour Light v8.1 - ç”Ÿå‘½æ•¸å­—è§£ç¢¼ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --gold-light: #F5E6A3; --cream: #FDF8E8; --brown: #4A3728; --night-bg: #1A1A2E; --night-card: #16213E; --purple: #9F5FDB; }
        body { font-family: 'Noto Sans TC', sans-serif; }
        .serif { font-family: 'Noto Serif TC', serif; }
        body.day-mode { background: linear-gradient(135deg, #FDF8E8 0%, #F5E6A3 50%, #FDF8E8 100%); color: #4A3728; }
        body.night-mode { background: linear-gradient(135deg, #1A1A2E 0%, #16213E 50%, #0F0F23 100%); color: #E0D4FC; }
        .gold-text { color: var(--gold); }
        .night-mode .gold-text { color: #FFD700; text-shadow: 0 0 15px rgba(255,215,0,0.3); }
        .gold-btn { background: linear-gradient(135deg, #D4AF37 0%, #F5E6A3 50%, #D4AF37 100%); color: #2D1B0E; font-weight: 600; box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3); transition: all 0.3s; }
        .gold-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4); }
        .night-mode .gold-btn { background: linear-gradient(135deg, #6B2C91 0%, #9F5FDB 50%, #6B2C91 100%); color: #fff; }
        .card { backdrop-filter: blur(10px); border-radius: 1rem; transition: all 0.3s; }
        .day-mode .card { background: rgba(255, 255, 255, 0.9); border: 1px solid rgba(212, 175, 55, 0.2); box-shadow: 0 4px 20px rgba(139, 115, 85, 0.1); }
        .night-mode .card { background: rgba(22, 33, 62, 0.9); border: 1px solid rgba(159, 95, 219, 0.3); }
        .tab-btn { transition: all 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn.active { border-bottom-color: var(--gold); }
        .night-mode .tab-btn.active { border-bottom-color: var(--purple); }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; z-index: 100; }
        .modal-content { max-height: 90vh; overflow-y: auto; }
        select { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12'%3E%3Cpath fill='%23D4AF37' d='M6 8L1 3h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 12px center; appearance: none; }
        .score-bar { height: 8px; border-radius: 4px; overflow: hidden; }
        .score-fill { height: 100%; transition: width 0.8s ease-out; }
        .master-badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 10px; font-weight: bold; animation: glow 2s ease-in-out infinite alternate; }
        .day-mode .master-badge { background: linear-gradient(135deg, #D4AF37, #F5E6A3); color: #4A3728; }
        .night-mode .master-badge { background: linear-gradient(135deg, #9F5FDB, #E066FF); color: #1A1A2E; }
        @keyframes glow { from { box-shadow: 0 0 5px rgba(212, 175, 55, 0.5); } to { box-shadow: 0 0 15px rgba(212, 175, 55, 0.8); } }
        .sexy-gradient { background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 25%, #FF6B9D 50%, #C44569 75%, #6B2D5C 100%); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        @media (max-width: 768px) { .tab-btn { font-size: 0.75rem; padding: 0.5rem; } }
    </style>
</head>
<body class="day-mode">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        /* ============================================
           æ™‚è¾°å°ç…§è¡¨ï¼ˆæˆŒæ™‚=11å¤§å¸«æ•¸ï¼‰
           ============================================ */
        const HOURS = [
            { id: 'zi', name: 'å­æ™‚ (23:00-01:00)', num: 1 },
            { id: 'chou', name: 'ä¸‘æ™‚ (01:00-03:00)', num: 2 },
            { id: 'yin', name: 'å¯…æ™‚ (03:00-05:00)', num: 3 },
            { id: 'mao', name: 'å¯æ™‚ (05:00-07:00)', num: 4 },
            { id: 'chen', name: 'è¾°æ™‚ (07:00-09:00)', num: 5 },
            { id: 'si', name: 'å·³æ™‚ (09:00-11:00)', num: 6 },
            { id: 'wu', name: 'åˆæ™‚ (11:00-13:00)', num: 7 },
            { id: 'wei', name: 'æœªæ™‚ (13:00-15:00)', num: 8 },
            { id: 'shen', name: 'ç”³æ™‚ (15:00-17:00)', num: 9 },
            { id: 'you', name: 'é…‰æ™‚ (17:00-19:00)', num: 10 },
            { id: 'xu', name: 'æˆŒæ™‚ (19:00-21:00)', num: 11 },
            { id: 'hai', name: 'äº¥æ™‚ (21:00-23:00)', num: 12 },
            { id: 'unknown', name: 'æ™‚è¾°ä¸è©³', num: 0 }
        ];
        
        const getHourData = (hourId) => HOURS.find(h => h.id === hourId) || HOURS[12];

        /* ============================================
           å®Œæ•´æ•¸å­—è³‡æ–™åº«
           ============================================ */
        const NUMBER_DATA = {
            1: { 
                title: 'é ˜èˆªè€…', essence: 'ç¨ç«‹ã€é–‹å‰µã€é ˜å°',
                light: 'ç¨ç«‹é–‹å‰µã€æœ‰æ–¹å‘æ„Ÿã€æ•¢åšæ±ºå®š', dark: 'å­¤ç¨ã€æ§åˆ¶ã€ä¸é¡˜æ±‚åŠ©',
                oils: ['é›ªæ¾', 'å²©è˜­è‰', 'é»‘èƒ¡æ¤’'],
                soulLesson: 'å¾ã€Œæˆ‘è¦è­‰æ˜è‡ªå·±ã€åˆ°ã€Œæˆ‘æœ¬ä¾†å°±å¤ å¥½ã€',
                uniqueReading: '1è™Ÿäººæ˜¯å®‡å®™æ´¾ä¾†çš„å…ˆé‹’ï¼Œä½†æœ€å¤§çš„åŠŸèª²ä¸æ˜¯ã€Œæ›´ç¨ç«‹ã€ï¼Œè€Œæ˜¯ã€Œæ•¢æ–¼è„†å¼±ã€ã€‚ç•¶ä½ èƒ½èªªå‡ºã€Œæˆ‘éœ€è¦ä½ ã€ï¼Œæ‰æ˜¯çœŸæ­£çš„å¼·å¤§ã€‚',
                // HRå°ˆç”¨
                hr: {
                    type: 'é–‹å‰µå‹é ˜å°è€…',
                    style: 'ç¨ç«‹æ±ºç­–ã€ä¸å–œæ­¡è¢«ç®¡ã€éœ€è¦è‡ªä¸»æ¬Š',
                    strengths: ['æ±ºç­–åŠ›å¼·', 'åŸ·è¡ŒåŠ›é«˜', 'ä¸æ€•å›°é›£', 'ç›®æ¨™æ˜ç¢º'],
                    weaknesses: ['ä¸å–„æˆæ¬Š', 'å¯èƒ½ç¨æ–·', 'ä¸æ„›æ±‚åŠ©', 'åœ˜éšŠé…åˆè¼ƒå¼±'],
                    bestRoles: ['å‰µæ¥­è€…', 'éƒ¨é–€ä¸»ç®¡', 'å°ˆæ¡ˆè² è²¬äºº', 'æ¥­å‹™é–‹ç™¼'],
                    worstRoles: ['è¡Œæ”¿åŠ©ç†', 'å®¢æœäººå“¡', 'éœ€é«˜åº¦é…åˆçš„è·ä½'],
                    manageTips: 'çµ¦äºˆè‡ªä¸»æ¬Šå’Œæ±ºç­–ç©ºé–“ï¼Œä¸è¦å¾®ç®¡ç†ï¼Œç”¨ç›®æ¨™ç®¡ç†è€Œééç¨‹ç®¡ç†',
                    motivate: 'æŒ‘æˆ°æ€§ä»»å‹™ã€ç¨ç«‹å®Œæˆçš„æˆå°±æ„Ÿã€è¢«å°Šé‡',
                    warning: 'å¯èƒ½æœƒæ¶åŠŸã€ä¸æ˜“æ¥å—æ‰¹è©•ã€åœ˜éšŠè¡çªé¢¨éšª'
                },
                // è¦ªå¯†å°ˆç”¨
                intimacy: {
                    type: 'å¾æœè€…',
                    coreDesire: 'è¢«å´‡æ‹œã€è¢«éœ€è¦',
                    turnOn: ['è®“ä»–ä¸»å°', 'è¡¨é”å´‡æ‹œ', 'çµ¦ä»–å¾æœçš„æ„Ÿè¦º', 'é©åº¦çš„æŒ‘æˆ°'],
                    turnOff: ['è¢«å‹•æ”»æ“Š', 'æ‰¹è©•ä»–çš„è¡¨ç¾', 'æ¶ä»–çš„ä¸»å°æ¬Š'],
                    inBed: 'å–œæ­¡ä¸»å°ç¯€å¥ï¼Œè¿½æ±‚éç¨‹æ¯”çµæœæ›´èˆˆå¥®ï¼Œè‡ªå°Šå¿ƒå¼·ç„¡æ³•æ¥å—è¢«æ‹’çµ•',
                    healthyState: 'è‡ªä¿¡åœ°è¡¨é”æ…¾æœ›ï¼Œèƒ½çµ¦äºˆä¹Ÿèƒ½æ¥å—ï¼Œäº«å—å¸¶é ˜çš„éç¨‹',
                    shadowState: 'åªé¡§è‡ªå·±çš„æ»¿è¶³ï¼ŒæŠŠæ€§ç•¶æˆå¾æœå’Œè­‰æ˜',
                    healingTip: 'å­¸ç¿’å¶çˆ¾äº¤å‡ºä¸»å°æ¬Šï¼Œé«”é©—è¢«ç…§é¡§çš„æ„Ÿè¦º',
                    partnerTip: 'è®“ä»–æ„Ÿè¦ºè¢«éœ€è¦ï¼Œé©æ™‚è®“ä»–ä¸»å°ï¼Œäº‹å¾Œçµ¦äºˆè®šç¾'
                }
            },
            2: { 
                title: 'èª¿å’Œè€…', essence: 'åˆä½œã€æ•æ„Ÿã€é€£çµ',
                light: 'æ•æ„Ÿé«”è²¼ã€å–„æ–¼èª¿è§£ã€ç›´è¦ºå¼·', dark: 'è¨å¥½ã€æ²’æœ‰ç•Œé™ã€å¤±å»è‡ªæˆ‘',
                oils: ['ç«ç‘°', 'èŒ‰è‰', 'å¤©ç«ºè‘µ'],
                soulLesson: 'å¾ã€Œä½ é–‹å¿ƒæˆ‘å°±é–‹å¿ƒã€åˆ°ã€Œæˆ‘å€‘éƒ½å¯ä»¥é–‹å¿ƒã€',
                uniqueReading: '2è™Ÿäººèƒ½æ„Ÿå—åˆ°åˆ¥äººæ„Ÿå—ä¸åˆ°çš„æƒ…ç·’æš—æµï¼Œä½†æœ€å¤§çš„åŠŸèª²æ˜¯åˆ†æ¸…æ¥šã€Œå“ªäº›æ˜¯æˆ‘çš„æƒ…ç·’ï¼Œå“ªäº›æ˜¯åˆ¥äººçš„ã€ã€‚',
                hr: {
                    type: 'å”èª¿å‹å¤¥ä¼´',
                    style: 'é‡è¦–å’Œè«§ã€æ“…é•·åœ˜éšŠåˆä½œã€éœ€è¦è¢«èªå¯',
                    strengths: ['é«˜EQ', 'å–„æ–¼å‚¾è½', 'åœ˜éšŠé»è‘—åŠ‘', 'ç´°è†©é«”è²¼'],
                    weaknesses: ['å®¹æ˜“è¨å¥½', 'æ±ºç­–è¼ƒæ…¢', 'ç•Œé™ä¸æ¸…', 'å¯èƒ½è¢«å‹•æ”»æ“Š'],
                    bestRoles: ['HR', 'å®¢æœ', 'ç§˜æ›¸åŠ©ç†', 'è«®è©¢é¡§å•', 'åœ˜éšŠå”èª¿'],
                    worstRoles: ['é«˜å£“æ¥­å‹™', 'éœ€ç¨æ–·æ±ºç­–çš„ä¸»ç®¡', 'ç«¶çˆ­å‹ç’°å¢ƒ'],
                    manageTips: 'çµ¦äºˆæƒ…æ„Ÿæ”¯æŒå’Œåœ˜éšŠæ­¸å±¬æ„Ÿï¼Œå…¬é–‹è‚¯å®šè²¢ç»',
                    motivate: 'åœ˜éšŠå’Œè«§ã€è¢«éœ€è¦çš„æ„Ÿè¦ºã€ç©©å®šçš„é—œä¿‚',
                    warning: 'å¯èƒ½éåº¦æ‰¿æ“”ã€éš±è—çœŸå¯¦æƒ³æ³•ã€ç´¯ç©æ€¨æ°£'
                },
                intimacy: {
                    type: 'é€£çµè€…',
                    coreDesire: 'è¢«ç†è§£ã€è¢«é™ªä¼´ã€æƒ…æ„Ÿé€£çµ',
                    turnOn: ['å‰æˆ²å’Œæ°›åœ', 'çœ¼ç¥äº¤æµ', 'è‚¢é«”æ’«è§¸', 'äº‹å¾Œçš„æ“æŠ±', 'èªªã€Œæˆ‘æ„›ä½ ã€'],
                    turnOff: ['å¤ªå¿«é€²å…¥ä¸»é¡Œ', 'å†·æ¼ ç–é›¢', 'å®Œäº‹å¾Œç«‹åˆ»é›¢é–‹'],
                    inBed: 'é‡è¦–æƒ…æ„Ÿé€£çµå‹éæŠ€å·§ï¼Œéœ€è¦æ„Ÿè¦ºè¢«æ„›æ‰èƒ½æ•é–‹ï¼Œæ¥µåº¦æ•æ„Ÿ',
                    healthyState: 'æ·±åº¦çš„èº«å¿ƒåˆä¸€é«”é©—ï¼Œæ¥µå¼·çš„æ„Ÿå—åŠ›ï¼Œèƒ½æ„Ÿæ‡‰ä¼´ä¾¶çš„éœ€æ±‚',
                    shadowState: 'éåº¦è¨å¥½ï¼Œç”¨æ€§ä¾†æ›å–æ„›ï¼Œç„¡æ³•è¡¨é”è‡ªå·±çš„éœ€æ±‚',
                    healingTip: 'ç·´ç¿’èªªå‡ºè‡ªå·±æƒ³è¦çš„ï¼Œã€Œæˆ‘ä¹Ÿæœ‰éœ€æ±‚ã€ä¸æ˜¯è‡ªç§',
                    partnerTip: 'æƒ…æ„Ÿæ¯”æŠ€å·§é‡è¦ï¼Œå‰æˆ²è¦è¶³å¤ ï¼Œäº‹å¾Œçš„æ“æŠ±è·Ÿéç¨‹ä¸€æ¨£é‡è¦'
                }
            },
            3: { 
                title: 'å‰µé€ è€…', essence: 'å‰µæ„ã€è¡¨é”ã€æ¨‚è§€',
                light: 'å‰µæ„ç„¡é™ã€æœ‰æ„ŸæŸ“åŠ›ã€æ¨‚è§€é–‹æœ—', dark: 'è™é ­è›‡å°¾ã€è†šæ·ºã€é€ƒé¿æ·±å±¤',
                oils: ['ä½›æ‰‹æŸ‘', 'ç”œæ©™', 'æª¸æª¬'],
                soulLesson: 'å¾ã€Œé–‹å§‹ä¸€ç™¾å€‹ã€åˆ°ã€Œå®Œæˆä¸€å€‹ã€',
                uniqueReading: '3è™Ÿäººæœ‰æ»¿è…¦å­çš„å¥½é»å­ï¼Œä½†æœ€å¤§çš„åŠŸèª²æ˜¯ã€Œå®Œæˆã€ã€‚ä¸å®Œç¾çš„å®Œæˆï¼Œå‹éå®Œç¾çš„ç©ºæƒ³ã€‚',
                hr: {
                    type: 'å‰µæ„å‹è¡¨é”è€…',
                    style: 'å–œæ­¡è®ŠåŒ–ã€å‰µæ„ç™¼æƒ³ã€éœ€è¦è®šç¾å’Œèˆå°',
                    strengths: ['å‰µæ„ç„¡é™', 'è¡¨é”åŠ›å¼·', 'æ„ŸæŸ“åŠ›é«˜', 'åæ‡‰å¿«'],
                    weaknesses: ['å®¹æ˜“åˆ†å¿ƒ', 'è™é ­è›‡å°¾', 'é€ƒé¿ç´°ç¯€', 'ç©©å®šæ€§è¼ƒä½'],
                    bestRoles: ['è¡ŒéŠ·ä¼åŠƒ', 'è¨­è¨ˆå¸«', 'è¬›å¸«åŸ¹è¨“', 'å…¬é—œ', 'å…§å®¹å‰µä½œ'],
                    worstRoles: ['æœƒè¨ˆ', 'å“ç®¡', 'éœ€è¦é«˜åº¦é‡è¤‡çš„å·¥ä½œ'],
                    manageTips: 'çµ¦äºˆè¡¨é”çš„èˆå°ï¼Œå®šæœŸè®šç¾ï¼Œç”¨æˆªæ­¢æ—¥æœŸé€¼ä»–å®Œæˆ',
                    motivate: 'è®šç¾ã€æ–°é®®æ„Ÿã€è¢«çœ‹è¦‹çš„æ©Ÿæœƒã€å‰µæ„ç©ºé–“',
                    warning: 'å¯èƒ½éåº¦æ‰¿è«¾ã€é€ƒé¿å›°é›£å°è©±ã€è¡¨é¢åŠŸå¤«å¤š'
                },
                intimacy: {
                    type: 'è¡¨æ¼”è€…',
                    coreDesire: 'è¢«è®šç¾ã€è¢«æ¬£è³ã€æ–°é®®æ„Ÿ',
                    turnOn: ['è¨€èªèª¿æƒ…', 'è®šç¾å¤–è¡¨', 'è§’è‰²æ‰®æ¼”', 'æ–°åœ°é»æ–°æ–¹å¼', 'é©šå–œ'],
                    turnOff: ['ä¸€æˆä¸è®Š', 'æ‰¹è©•å¤–è²Œ', 'å¤ªåš´è‚…'],
                    inBed: 'å–œæ­¡è®ŠåŒ–å’Œæ–°é®®æ„Ÿï¼Œç”¨è¨€èªèª¿æƒ…å¾ˆå²å®³ï¼Œå–œæ­¡éŠæˆ²å’Œè§’è‰²æ‰®æ¼”',
                    healthyState: 'å……æ»¿å‰µæ„å’Œæ¨‚è¶£ï¼Œèƒ½è®“æ€§è®Šå¾—è¼•é¬†å¥½ç©ï¼Œå¸¶ä¾†æ­¡ç¬‘',
                    shadowState: 'å¤ªåœ¨æ„è¡¨æ¼”ï¼Œç”¨æ€§ä¾†è­‰æ˜è‡ªå·±æœ‰é­…åŠ›ï¼Œç„¡æ³•æ·±å…¥',
                    healingTip: 'å­¸ç¿’åœ¨ç†Ÿæ‚‰ä¸­æ‰¾åˆ°æ·±åº¦ï¼Œä¸æ˜¯æ¯æ¬¡éƒ½è¦ã€Œç²¾å½©ã€',
                    partnerTip: 'ä¿æŒæ–°é®®æ„Ÿå¾ˆé‡è¦ï¼Œè®šç¾ä»–çš„å‰µæ„å’Œé­…åŠ›'
                }
            },
            4: { 
                title: 'å»ºé€ è€…', essence: 'ç©©å®šã€å‹™å¯¦ã€å»ºè¨­',
                light: 'è…³è¸å¯¦åœ°ã€è² è²¬å¯é ã€è€åŠ›é©šäºº', dark: 'å®³æ€•è®ŠåŒ–ã€åƒµåŒ–ã€å·¥ä½œç‹‚',
                oils: ['å°¤åŠ åˆ©', 'çµ²æŸ', 'èŒ¶æ¨¹'],
                soulLesson: 'å¾ã€Œæ­»å®ˆä¸è®Šã€åˆ°ã€Œç©©ä¸­æ±‚è®Šã€',
                uniqueReading: '4è™Ÿäººè¢«ã€Œ4=æ­»ã€çš„è©›å’’å›°ä½å¤ªä¹…äº†ã€‚4ä¸æ˜¯æ­»äº¡ï¼Œæ˜¯é‡ç”Ÿã€‚ä½ æœ€å¤§çš„åŠŸèª²æ˜¯ã€Œå­¸æœƒå‘Šåˆ¥ã€ã€‚',
                hr: {
                    type: 'åŸ·è¡Œå‹å»ºé€ è€…',
                    style: 'æŒ‰éƒ¨å°±ç­ã€é‡è¦–æµç¨‹ã€éœ€è¦æ˜ç¢ºçš„çµæ§‹',
                    strengths: ['åŸ·è¡ŒåŠ›å¼·', 'å¯é ç©©å®š', 'è€åŠ›é©šäºº', 'é‡è¦–å“è³ª'],
                    weaknesses: ['ä¸å¤ å½ˆæ€§', 'å®³æ€•è®ŠåŒ–', 'å¯èƒ½å¤ªæ­»æ¿', 'å‰µæ„è¼ƒå¼±'],
                    bestRoles: ['å°ˆæ¡ˆç¶“ç†', 'å“ç®¡', 'è²¡å‹™', 'å·¥ç¨‹å¸«', 'è¡Œæ”¿ä¸»ç®¡'],
                    worstRoles: ['éœ€è¦é«˜åº¦å‰µæ„çš„è·ä½', 'å¿«é€Ÿè®ŠåŒ–çš„ç’°å¢ƒ'],
                    manageTips: 'å»ºç«‹æ˜ç¢ºçš„æµç¨‹å’Œçµæ§‹ï¼Œè®Šå‹•æ™‚æå‰æºé€š',
                    motivate: 'ç©©å®šã€æ˜ç¢ºçš„è¦å‰‡ã€è¢«ä¿¡ä»»ã€é•·æœŸæ‰¿è«¾',
                    warning: 'å¯èƒ½æŠ—æ‹’è®ŠåŒ–ã€éåº¦å …æŒå·±è¦‹ã€å¿½ç•¥äººçš„å› ç´ '
                },
                intimacy: {
                    type: 'ç©©å®šè€…',
                    coreDesire: 'å®‰å…¨æ„Ÿã€ä¿¡ä»»ã€å¯é æœŸ',
                    turnOn: ['å›ºå®šçš„å„€å¼', 'ç†Ÿæ‚‰çš„ç’°å¢ƒ', 'æ…¢æ…¢ä¾†', 'å»ºç«‹ä¿¡ä»»'],
                    turnOff: ['å¤ªå¤šé©šå–œ', 'å€‰ä¿ƒ', 'ä¸ç†Ÿæ‚‰çš„ç’°å¢ƒ'],
                    inBed: 'å›ºå®šçš„ç¯€å¥å’Œæ¨¡å¼ï¼Œé‡è¦–å®‰å…¨æ„Ÿå’Œä¿¡ä»»ï¼Œéœ€è¦æ™‚é–“æš–æ©Ÿ',
                    healthyState: 'ç©©å®šã€æŒä¹…ã€å¯é ï¼Œæ·±åšçš„ä¿¡ä»»åŸºç¤ï¼Œè®“ä¼´ä¾¶æ„Ÿè¦ºå®‰å…¨',
                    shadowState: 'å¤ªåˆ¶å¼ï¼ŒæŠŠæ€§ç•¶æˆã€Œä¾‹è¡Œå…¬äº‹ã€ï¼Œç¼ºä¹æ¿€æƒ…',
                    healingTip: 'å¶çˆ¾æ‰“ç ´æ¨¡å¼ï¼Œå˜—è©¦ä¸€é»å°è®ŠåŒ–',
                    partnerTip: 'ä¸è¦å¤ªå¤šé©šå–œï¼Œå»ºç«‹å›ºå®šçš„è¦ªå¯†å„€å¼ï¼Œæ…¢æ…¢ä¾†'
                }
            },
            5: { 
                title: 'è®Šé©è€…', essence: 'è‡ªç”±ã€è®ŠåŒ–ã€å†’éšª',
                light: 'é©æ‡‰åŠ›å¼·ã€å¤šæ‰å¤šè—ã€ä¸æ€•æ”¹è®Š', dark: 'æ¼‚æ³Šä¸å®šã€ç„¡æ³•æ‰¿è«¾ã€ç„¦èº',
                oils: ['è–‘', 'ç”œæ©™', 'è–„è·'],
                soulLesson: 'å¾ã€Œä¸€ç›´åœ¨é€ƒã€åˆ°ã€Œé¸æ“‡åœç•™ã€',
                uniqueReading: '5è™Ÿäººä»¥ç‚ºè‡ªç”±æ˜¯ã€Œä¸è¢«ç¶ä½ã€ï¼Œä½†çœŸæ­£çš„è‡ªç”±æ˜¯ã€Œé¸æ“‡ç•™ä¸‹ä¾†ã€ã€‚',
                hr: {
                    type: 'å†’éšªå‹è®Šé©è€…',
                    style: 'å–œæ­¡è®ŠåŒ–ã€ä¸æ€•æŒ‘æˆ°ã€è¨å­è¢«æŸç¸›',
                    strengths: ['é©æ‡‰åŠ›å¼·', 'åæ‡‰å¿«', 'ä¸æ€•é¢¨éšª', 'å¤šæ‰å¤šè—'],
                    weaknesses: ['ç©©å®šæ€§ä½', 'å¯èƒ½ä¸å¤ å°ˆæ³¨', 'æ‰¿è«¾è¼ƒå¼±', 'å®¹æ˜“å­å€¦'],
                    bestRoles: ['æ¥­å‹™é–‹ç™¼', 'æ–°å‰µå…¬å¸', 'å±æ©Ÿè™•ç†', 'è‡ªç”±å·¥ä½œè€…'],
                    worstRoles: ['å›ºå®šé‡è¤‡çš„å·¥ä½œ', 'éœ€è¦é•·æœŸè€•è€˜çš„è·ä½'],
                    manageTips: 'çµ¦äºˆå½ˆæ€§å’Œæ–°æŒ‘æˆ°ï¼Œä¸è¦ç”¨å¤ªå¤šè¦å‰‡ç¶ä½ä»–',
                    motivate: 'è‡ªç”±ã€æ–°æŒ‘æˆ°ã€è®ŠåŒ–ã€å†’éšªçš„æ©Ÿæœƒ',
                    warning: 'å¯èƒ½çªç„¶é›¢è·ã€æ‰¿è«¾å¯é åº¦è¼ƒä½ã€å®¹æ˜“åˆ†å¿ƒ'
                },
                intimacy: {
                    type: 'å†’éšªè€…',
                    coreDesire: 'åˆºæ¿€ã€æ–°é®®ã€è‡ªç”±',
                    turnOn: ['æ–°å˜—è©¦', 'ä¸åŒåœ°é»', 'å†’éšªæ„Ÿ', 'è‡¨æ™‚èµ·æ„'],
                    turnOff: ['ä¸€æˆä¸è®Š', 'å¤ªå¤šè¦å‰‡', 'è¢«æŸç¸›'],
                    inBed: 'å–œæ­¡å†’éšªå’Œå˜—è©¦ï¼Œå®¹æ˜“å­å€¦é‡è¤‡ï¼Œè¿½æ±‚åˆºæ¿€å’Œè‡ªç”±',
                    healthyState: 'é–‹æ”¾ã€å¥½å¥‡ã€æœ‰å¯¦é©—ç²¾ç¥ï¼Œå¸¶ä¾†é©šå–œå’Œåˆºæ¿€',
                    shadowState: 'ç”¨æ€§ä¾†é€ƒé¿æ‰¿è«¾ï¼Œæˆç™®å‚¾å‘ï¼Œç„¡æ³•å°ˆæ³¨ä¸€äºº',
                    healingTip: 'å­¸ç¿’åœ¨ä¸€å€‹äººèº«ä¸Šç™¼ç¾ç„¡é™çš„è®ŠåŒ–',
                    partnerTip: 'ä¿æŒè®ŠåŒ–å’Œé©šå–œï¼Œä¸€èµ·æ¢ç´¢æ–°äº‹ç‰©'
                }
            },
            6: { 
                title: 'ç…§é¡§è€…', essence: 'è²¬ä»»ã€æ„›ã€æœå‹™',
                light: 'æœ‰æ„›å¿ƒã€è² è²¬ä»»ã€å‰µé€ å’Œè«§', dark: 'éåº¦ä»˜å‡ºã€æ§åˆ¶ã€çŠ§ç‰²è‡ªå·±',
                oils: ['ç«ç‘°', 'ä¾è˜­', 'å¤©ç«ºè‘µ'],
                soulLesson: 'å¾ã€Œç…§é¡§æ‰€æœ‰äººã€åˆ°ã€Œä¹Ÿç…§é¡§è‡ªå·±ã€',
                uniqueReading: '6è™Ÿäººå¾ˆæœƒæ„›åˆ¥äººï¼Œå»å¾ˆé›£æ¥å—åˆ¥äººçš„æ„›ã€‚ä½ æœ€å¤§çš„åŠŸèª²æ˜¯ã€Œè®“åˆ¥äººä¹Ÿç…§é¡§ä½ ã€ã€‚',
                hr: {
                    type: 'ç…§é¡§å‹æœå‹™è€…',
                    style: 'é‡è¦–åœ˜éšŠå’Œè«§ã€æ¨‚æ–¼åŠ©äººã€éœ€è¦è¢«éœ€è¦',
                    strengths: ['è²¬ä»»æ„Ÿå¼·', 'ç…§é¡§ä»–äºº', 'åœ˜éšŠå’Œè«§', 'ç©©å®šå¯é '],
                    weaknesses: ['éåº¦ä»˜å‡º', 'å¯èƒ½æ§åˆ¶', 'ä¸å–„æ‹’çµ•', 'çŠ§ç‰²è‡ªå·±'],
                    bestRoles: ['HR', 'è­·ç†ç…§è­·', 'æ•™è‚²è¨“ç·´', 'å®¢æˆ¶æœå‹™', 'åœ˜éšŠä¸»ç®¡'],
                    worstRoles: ['é«˜åº¦ç«¶çˆ­çš„ç’°å¢ƒ', 'éœ€è¦å†·é…·æ±ºç­–çš„è·ä½'],
                    manageTips: 'è®“ä»–æ„Ÿè¦ºè¢«éœ€è¦å’Œè¢«é‡è¦–ï¼Œæ³¨æ„ä»–æ˜¯å¦éåº¦æ‰¿æ“”',
                    motivate: 'è¢«éœ€è¦ã€åœ˜éšŠå’Œè«§ã€å¹«åŠ©ä»–äººæˆåŠŸ',
                    warning: 'å¯èƒ½éåº¦ä»‹å…¥ã€æ§åˆ¶ä»–äººã€ç´¯ç©æ€¨æ°£'
                },
                intimacy: {
                    type: 'ç…§é¡§è€…',
                    coreDesire: 'è¢«éœ€è¦ã€èƒ½ä»˜å‡ºã€æ„Ÿè¦ºæœ‰åƒ¹å€¼',
                    turnOn: ['è®“ä»–ç…§é¡§ä½ ', 'è¡¨é”éœ€è¦ä»–', 'æº«é¦¨çš„æ°›åœ', 'æ„Ÿè¬'],
                    turnOff: ['æ‹’çµ•ä»–çš„ä»˜å‡º', 'æ‰¹è©•ä»–çš„ç…§é¡§æ–¹å¼'],
                    inBed: 'é‡è¦–çµ¦äºˆå°æ–¹æ„‰æ‚…ï¼Œå–œæ­¡ç…§é¡§å’Œè¢«éœ€è¦ï¼Œé‡è¦–ç’°å¢ƒå’Œæ°›åœ',
                    healthyState: 'æº«æš–ã€é«”è²¼ã€ç´°è†©ï¼Œèƒ½è®“å°æ–¹æ„Ÿè¦ºè¢«æ„›å’Œè¢«ç…§é¡§',
                    shadowState: 'åªé¡§å°æ–¹ï¼Œç„¡æ³•äº«å—è‡ªå·±çš„æ„‰æ‚…ï¼Œç”¨ä»˜å‡ºæ›å–æ„›',
                    healingTip: 'ç·´ç¿’æ¥å—â€”â€”è®“åˆ¥äººä¹Ÿç…§é¡§ä½ çš„èº«é«”',
                    partnerTip: 'ä¸»å‹•ç…§é¡§ä»–ï¼Œå‘Šè¨´ä»–ï¼šã€Œä½ çš„æ„‰æ‚…å°æˆ‘å¾ˆé‡è¦ã€'
                }
            },
            7: { 
                title: 'æ¢ç´¢è€…', essence: 'å…§çœã€æ™ºæ…§ã€éˆæ€§',
                light: 'æ™ºæ…§æ·±åˆ»ã€ç›´è¦ºæ•éŠ³ã€å–„æ–¼åˆ†æ', dark: 'éåº¦æ‡·ç–‘ã€å­¤åƒ»ã€å†·æ¼ ',
                oils: ['ä¹³é¦™', 'æª€é¦™', 'è–°è¡£è‰'],
                soulLesson: 'å¾ã€Œä¸æ–·åˆ†æã€åˆ°ã€Œå…è¨±ä¸çŸ¥é“ã€',
                uniqueReading: '7è™Ÿäººç”¨æ€è€ƒä¾†ä¿è­·è‡ªå·±ï¼Œä½†æœ‰äº›äº‹æ˜¯æƒ³ä¸é€šçš„ã€‚ä½ æœ€å¤§çš„åŠŸèª²æ˜¯ã€Œå­¸æœƒä¿¡ä»»ã€ã€‚',
                hr: {
                    type: 'åˆ†æå‹æ€è€ƒè€…',
                    style: 'ç¨ç«‹æ€è€ƒã€éœ€è¦ç¨è™•ç©ºé–“ã€ä¸å–œæ­¡è¢«æ‰“æ“¾',
                    strengths: ['åˆ†æåŠ›å¼·', 'ç¨ç«‹æ€è€ƒ', 'è¿½æ±‚å®Œç¾', 'å°ˆæ¥­æ·±åº¦'],
                    weaknesses: ['å¯èƒ½å­¤åƒ»', 'ä¸å–„ç¤¾äº¤', 'éåº¦åˆ†æ', 'æ±ºç­–è¼ƒæ…¢'],
                    bestRoles: ['ç ”ç©¶å“¡', 'åˆ†æå¸«', 'é¡§å•', 'æŠ€è¡“å°ˆå®¶', 'ç­–ç•¥è¦åŠƒ'],
                    worstRoles: ['å¤§é‡ç¤¾äº¤çš„è·ä½', 'éœ€è¦å¿«é€Ÿæ±ºç­–çš„ç’°å¢ƒ'],
                    manageTips: 'çµ¦äºˆç¨è™•ç©ºé–“ï¼Œä¸è¦å¾®ç®¡ç†ï¼Œå°Šé‡ä»–çš„å°ˆæ¥­åˆ¤æ–·',
                    motivate: 'å°ˆæ¥­æˆé•·ã€è¢«å°Šé‡å°ˆæ¥­ã€ç¨è™•ç©ºé–“ã€æ·±åº¦ç ”ç©¶',
                    warning: 'å¯èƒ½éåº¦åˆ†æå°è‡´å»¶èª¤ã€èˆ‡åœ˜éšŠè„«ç¯€ã€å¤ªå†·æ¼ '
                },
                intimacy: {
                    type: 'æ¢ç´¢è€…',
                    coreDesire: 'å¿ƒéˆé€£çµã€è¢«ç†è§£ã€æ·±åº¦',
                    turnOn: ['æ·±åº¦å°è©±', 'å¿ƒéˆé€£çµ', 'è¢«ç†è§£', 'æ…¢æ…¢æ¢ç´¢'],
                    turnOff: ['è†šæ·ºçš„äº’å‹•', 'å¤ªå¿«é€²å…¥èº«é«”', 'è¢«å‚¬ä¿ƒ'],
                    inBed: 'éœ€è¦å¿ƒéˆé€£çµæ‰èƒ½èº«é«”é€£çµï¼Œå¯èƒ½å°èº«é«”ç–é›¢ï¼Œå–œæ­¡ç ”ç©¶å’Œæ¢ç´¢',
                    healthyState: 'èº«å¿ƒéˆåˆä¸€çš„æ·±åº¦é«”é©—ï¼Œå¸¶ä¾†æ·±åˆ»çš„é€£çµ',
                    shadowState: 'å¤ªåœ¨è…¦è¢‹è£¡ï¼Œèº«é«”ä¸åœ¨å ´ï¼Œéåº¦åˆ†æ',
                    healingTip: 'ç·´ç¿’ã€Œå›åˆ°èº«é«”ã€ï¼Œæ„Ÿå—è€Œéæ€è€ƒ',
                    partnerTip: 'å¿ƒéˆé€£çµæ˜¯å‰æï¼Œçµ¦ä»–æ™‚é–“ã€Œå›åˆ°èº«é«”ã€ï¼Œä¸è¦å‚¬ä¿ƒ'
                }
            },
            8: { 
                title: 'æŒæ¬Šè€…', essence: 'æ¬ŠåŠ›ã€è±ç››ã€å½±éŸ¿åŠ›',
                light: 'é ˜å°åŠ›å¼·ã€å•†æ¥­é ­è…¦ã€æœ‰å½±éŸ¿åŠ›', dark: 'æ§åˆ¶ã€è²ªå©ªã€å·¥ä½œç‹‚',
                oils: ['æ²’è—¥', 'æª€é¦™', 'é›ªæ¾'],
                soulLesson: 'å¾ã€Œæ“æœ‰æ›´å¤šã€åˆ°ã€Œåˆ†äº«æ›´å¤šã€',
                uniqueReading: '8è™Ÿäººæœ‰èšé›†è³‡æºçš„å¤©è³¦ï¼Œä½†æ¬ŠåŠ›æ˜¯æ‹¿ä¾†æœå‹™çš„ã€‚',
                hr: {
                    type: 'æŒæ§å‹é ˜å°è€…',
                    style: 'ç›®æ¨™å°å‘ã€é‡è¦–çµæœã€éœ€è¦æŒæ§æ„Ÿ',
                    strengths: ['é ˜å°åŠ›å¼·', 'ç›®æ¨™æ˜ç¢º', 'æŠ—å£“æ€§é«˜', 'åŸ·è¡ŒåŠ›é©šäºº'],
                    weaknesses: ['æ§åˆ¶æ…¾å¼·', 'å¯èƒ½å¼·å‹¢', 'å¿½ç•¥äººçš„å› ç´ ', 'å·¥ä½œç‹‚'],
                    bestRoles: ['é«˜éšä¸»ç®¡', 'æ¥­å‹™ä¸»ç®¡', 'å‰µæ¥­å®¶', 'æŠ•è³‡è€…'],
                    worstRoles: ['éœ€è¦æœå¾çš„è·ä½', 'æ²’æœ‰æ±ºç­–æ¬Šçš„è§’è‰²'],
                    manageTips: 'çµ¦äºˆæ˜ç¢ºçš„KPIå’Œå‡é·è·¯å¾‘ï¼Œç”¨çµæœç®¡ç†',
                    motivate: 'æ¬ŠåŠ›ã€æˆå°±ã€æŒæ§æ„Ÿã€è¢«å°Šé‡',
                    warning: 'å¯èƒ½è¶Šæ¬Šã€åœ˜éšŠè¡çªã€éåº¦å·¥ä½œå½±éŸ¿å¥åº·'
                },
                intimacy: {
                    type: 'æŒæ§è€…',
                    coreDesire: 'æ¬ŠåŠ›æ„Ÿã€æŒæ§ã€å¼·åº¦',
                    turnOn: ['æ¬ŠåŠ›éŠæˆ²', 'å¼·åº¦', 'æŒæ§æˆ–è‡£æœ', 'è¢«å´‡æ‹œ'],
                    turnOff: ['è»Ÿå¼±', 'æ²’æœ‰å¼·åº¦', 'è¢«å¿½è¦–'],
                    inBed: 'å¼·çƒˆçš„èƒ½é‡å’Œè€åŠ›ï¼Œå–œæ­¡æŒæ§æˆ–è¢«å¾¹åº•æŒæ§ï¼Œè¿½æ±‚æ¥µè‡´é«”é©—',
                    healthyState: 'å¼·å¤§çš„æ€§èƒ½é‡ï¼Œèƒ½çµ¦äºˆå¼·çƒˆçš„é«”é©—ï¼Œå¸¶ä¾†æ·±åˆ»çš„æ»¿è¶³',
                    shadowState: 'ç”¨æ€§ä¾†å±•ç¾æ¬ŠåŠ›ï¼Œæ§åˆ¶æ…¾éå¼·ï¼ŒæŠŠä¼´ä¾¶ç•¶æˆ°åˆ©å“',
                    healingTip: 'å­¸ç¿’æ”¾ä¸‹æ§åˆ¶ï¼Œé«”é©—ã€Œè‡£æœã€çš„åŠ›é‡',
                    partnerTip: 'å¯ä»¥é©åº¦è®“ä»–æŒæ§ï¼Œå¼·åº¦è¦å¤ ï¼Œä¸è¦å¤ªè»Ÿå¼±'
                }
            },
            9: { 
                title: 'æ™ºè€…', essence: 'æ…ˆæ‚²ã€æ™ºæ…§ã€å®Œæˆ',
                light: 'æ…ˆæ‚²å¤§æ„›ã€æ™ºæ…§æ·±é ã€æœå‹™äººé¡', dark: 'éåº¦ç†æƒ³ã€è„«é›¢ç¾å¯¦ã€æ®‰é“è€…',
                oils: ['ä¹³é¦™', 'èŠ±æ¢¨æœ¨', 'å»£è—¿é¦™'],
                soulLesson: 'å¾ã€Œæ‹¯æ•‘ä¸–ç•Œã€åˆ°ã€Œå…ˆç…§é¡§å¥½è‡ªå·±ã€',
                uniqueReading: '9è™Ÿäººå¤©ç”Ÿæœ‰å¤§æ„›ï¼Œä½†æœ€å¤§çš„åŠŸèª²æ˜¯ã€Œè½åœ°ã€ã€‚å…ˆæŠŠè‡ªå·±çš„ç”Ÿæ´»éå¥½ã€‚',
                hr: {
                    type: 'æœå‹™å‹æ™ºè€…',
                    style: 'é‡è¦–æ„ç¾©ã€é¡˜æ™¯å°å‘ã€éœ€è¦é€£çµæ›´å¤§çš„ç›®æ¨™',
                    strengths: ['è¦–é‡å¯¬å»£', 'åŒç†å¿ƒå¼·', 'é¡˜æ™¯æ„Ÿ', 'æ¨‚æ–¼åŠ©äºº'],
                    weaknesses: ['å¯èƒ½è„«é›¢ç¾å¯¦', 'å¤ªç†æƒ³åŒ–', 'ä¸å¤ å‹™å¯¦', 'å®¹æ˜“çŠ§ç‰²'],
                    bestRoles: ['éç‡Ÿåˆ©çµ„ç¹”', 'æ•™è‚²åŸ¹è¨“', 'é¡§å•å°å¸«', 'å…¬ç›Šæ…ˆå–„'],
                    worstRoles: ['ç´”ç²¹è¿½æ±‚åˆ©æ½¤çš„ç’°å¢ƒ', 'å†·è¡€ç«¶çˆ­çš„è·å ´'],
                    manageTips: 'é€£çµå·¥ä½œèˆ‡æ›´å¤§çš„æ„ç¾©ï¼Œè®“ä»–çŸ¥é“è‡ªå·±åœ¨è²¢ç»ä»€éº¼',
                    motivate: 'æ„ç¾©æ„Ÿã€å¹«åŠ©ä»–äººã€æ›´å¤§çš„é¡˜æ™¯',
                    warning: 'å¯èƒ½éåº¦çŠ§ç‰²ã€ä¸åˆ‡å¯¦éš›ã€èˆ‡å•†æ¥­ç¾å¯¦è„«ç¯€'
                },
                intimacy: {
                    type: 'å¥‰ç»è€…',
                    coreDesire: 'éˆé­‚é€£çµã€æ„ç¾©ã€è¶…è¶Šè‚‰é«”',
                    turnOn: ['éˆæ€§é€£çµ', 'æ·±åº¦æ„ç¾©', 'å„€å¼æ„Ÿ', 'ç¥è–æ„Ÿ'],
                    turnOff: ['ç´”ç²¹è‚‰é«”', 'å¤ªç²—ä¿—', 'æ²’æœ‰æ„ç¾©'],
                    inBed: 'è¿½æ±‚èº«å¿ƒéˆåˆä¸€ï¼Œå¯èƒ½è¦ºå¾—ã€Œæ€§å¤ªä½å±¤æ¬¡ã€ï¼Œé‡è¦–æ„ç¾©å’Œé€£çµ',
                    healthyState: 'ç„¡æ¢ä»¶çš„æ„›èˆ‡æ¥ç´ï¼Œè¶…è¶Šè‚‰é«”çš„é€£çµï¼Œå¸¶ä¾†éˆæ€§é«”é©—',
                    shadowState: 'é€ƒé¿èº«é«”ï¼Œåªæ´»åœ¨ç²¾ç¥å±¤é¢ï¼Œç„¡æ³•äº«å—è‚‰é«”æ„‰æ‚…',
                    healingTip: 'æ¥å—ã€Œè‚‰é«”æ„‰æ‚…ä¹Ÿæ˜¯éˆæ€§çš„ä¸€éƒ¨åˆ†ã€',
                    partnerTip: 'é€£çµåˆ°æ›´å¤§çš„æ„ç¾©ï¼Œå¹«åŠ©ä»–å›åˆ°èº«é«”ï¼Œå‰µé€ ç¥è–æ„Ÿ'
                }
            },
            11: { 
                title: 'éˆæ€§ç›´è¦ºè€…', essence: 'ç›´è¦ºã€éˆæ€§ã€å•Ÿç™¼', isMaster: true,
                light: 'æ¥µå¼·ç›´è¦ºåŠ›ã€éˆæ€§é€šé“ã€å¤©ç”Ÿç™‚ç™’è€…', dark: 'éåº¦æ•æ„Ÿã€ç„¦æ…®ã€èˆ‡ç¾å¯¦è„«ç¯€',
                oils: ['ä¹³é¦™', 'æª€é¦™', 'è–°è¡£è‰', 'æ©™èŠ±'],
                soulLesson: 'æŠŠéˆæ€§è¨Šæ¯è½‰åŒ–ç‚ºå¯¦éš›è¡Œå‹•',
                uniqueReading: '11æ˜¯ã€ŒåŠ å¼·ç‰ˆçš„2ã€ï¼Œä½ èƒ½æ¥æ”¶åˆ°åˆ¥äººæ¥æ”¶ä¸åˆ°çš„è¨Šæ¯ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ·¹æ²’ã€‚å­¸æœƒåˆ†è¾¨ã€Œè¨Šæ¯ã€å’Œã€Œé›œè¨Šã€ã€‚',
                hr: {
                    type: 'å•Ÿç™¼å‹ç›´è¦ºè€…',
                    style: 'ç›´è¦ºæ±ºç­–ã€éœ€è¦éˆæ„Ÿç©ºé–“ã€é©åˆé¡§å•è«®è©¢',
                    strengths: ['ç›´è¦ºæ•éŠ³', 'æ´å¯ŸåŠ›å¼·', 'å•Ÿç™¼ä»–äºº', 'éˆæ€§é€£çµ'],
                    weaknesses: ['éåº¦æ•æ„Ÿ', 'å¯èƒ½ç„¦æ…®', 'ä¸å¤ è½åœ°', 'æƒ…ç·’æ³¢å‹•'],
                    bestRoles: ['é¡§å•è«®è©¢', 'å¿ƒéˆç™‚ç™’', 'å‰µæ„ç¸½ç›£', 'è¬›å¸«å°å¸«'],
                    worstRoles: ['é«˜å£“æ•¸å­—å°å‘çš„ç’°å¢ƒ', 'å®Œå…¨ç†æ€§çš„è·ä½'],
                    manageTips: 'çµ¦äºˆéˆæ„Ÿç©ºé–“ï¼Œä¸è¦ç”¨ç´”æ•¸å­—è¡¡é‡ï¼Œå°Šé‡ä»–çš„ç›´è¦º',
                    motivate: 'éˆæ„Ÿã€è¢«ç†è§£ã€å¹«åŠ©ä»–äººè¦ºé†’',
                    warning: 'å¯èƒ½éåº¦æ•æ„Ÿã€æƒ…ç·’ä¸ç©©ã€èˆ‡ç¾å¯¦è„«ç¯€'
                },
                intimacy: {
                    type: 'éˆæ€§é€£çµè€…',
                    coreDesire: 'æ·±åº¦éˆæ€§é€£çµã€ç¥è–æ„Ÿã€è¢«ç†è§£',
                    turnOn: ['ç¥è–çš„æ°›åœ', 'çœ¼ç¥äº¤æµ', 'èƒ½é‡é€£çµ', 'å†¥æƒ³å¼çš„è¦ªå¯†'],
                    turnOff: ['å¤ªç²—é­¯', 'æ²’æœ‰éˆæ€§é€£çµ', 'ç´”è‚‰é«”'],
                    inBed: 'éœ€è¦æ·±åº¦éˆæ€§é€£çµï¼Œæ¥µåº¦æ•æ„Ÿï¼Œèƒ½æ„Ÿæ‡‰å°æ–¹çš„æƒ…ç·’å’Œèƒ½é‡',
                    healthyState: 'èº«å¿ƒéˆå®Œå…¨åˆä¸€çš„ç¥è–é«”é©—ï¼Œå¸¶ä¾†éˆæ€§è¦ºé†’',
                    shadowState: 'å¤ªæ•æ„Ÿè€Œç„¡æ³•æ”¾é¬†äº«å—ï¼Œå®¹æ˜“è¢«è² é¢èƒ½é‡å½±éŸ¿',
                    healingTip: 'å­¸ç¿’å»ºç«‹èƒ½é‡ç•Œé™ï¼Œä¸æ˜¯æ‰€æœ‰æ„Ÿå—éƒ½æ˜¯ä½ çš„',
                    partnerTip: 'å‰µé€ ç¥è–çš„ç©ºé–“å’Œæ°›åœï¼Œè®“ä»–æ„Ÿè¦ºå®‰å…¨ï¼Œæ…¢æ…¢ä¾†'
                }
            },
            22: { 
                title: 'å¤§å¸«å»ºé€ è€…', essence: 'é¡˜æ™¯ã€å»ºè¨­ã€å¯¦ç¾', isMaster: true,
                light: 'æŠŠå¤¢æƒ³è½åœ°ã€å»ºç«‹ç³»çµ±ã€é è¦‹åŸ·è¡ŒåŠ›', dark: 'éåº¦å·¥ä½œã€å£“åŠ›æ¥µå¤§ã€æ§åˆ¶',
                oils: ['é›ªæ¾', 'æª€é¦™', 'æ²’è—¥', 'å²©è˜­è‰'],
                soulLesson: 'ä¸åªå»ºé€ ç‰©è³ªä¸–ç•Œï¼Œä¹Ÿå»ºé€ éˆæ€§æ©‹æ¨‘',
                uniqueReading: '22æ˜¯ã€ŒåŠ å¼·ç‰ˆçš„4ã€ï¼Œæœ‰æŠŠé¡˜æ™¯è½åœ°çš„è¶…å¼·èƒ½åŠ›ã€‚å»ºé€ çš„ç›®çš„ä¸æ˜¯æ§åˆ¶ï¼Œè€Œæ˜¯æœå‹™ã€‚',
                hr: {
                    type: 'ç³»çµ±å‹å»ºé€ è€…',
                    style: 'é•·é è¦åŠƒã€ç³»çµ±æ€ç¶­ã€éœ€è¦è¶³å¤ çš„è³‡æºå’Œæ™‚é–“',
                    strengths: ['é¡˜æ™¯å®å¤§', 'åŸ·è¡ŒåŠ›å¼·', 'ç³»çµ±æ€ç¶­', 'æŒä¹…è€åŠ›'],
                    weaknesses: ['å£“åŠ›æ¥µå¤§', 'å¯èƒ½éå‹', 'å¤ªè¿½æ±‚å®Œç¾', 'æ§åˆ¶éåº¦'],
                    bestRoles: ['CEO', 'ç³»çµ±æ¶æ§‹å¸«', 'å¤§å‹å°ˆæ¡ˆè² è²¬äºº', 'ä¼æ¥­å‰µè¾¦äºº'],
                    worstRoles: ['çŸ­æœŸå°ˆæ¡ˆ', 'æ²’æœ‰è³‡æºçš„è·ä½'],
                    manageTips: 'çµ¦äºˆé•·é çš„ç›®æ¨™å’Œè¶³å¤ çš„è³‡æºï¼Œæ³¨æ„ä»–çš„èº«å¿ƒå¥åº·',
                    motivate: 'å®å¤§çš„é¡˜æ™¯ã€å»ºé€ legacyã€è¢«å°Šé‡',
                    warning: 'éå‹é¢¨éšªæ¥µé«˜ã€å¯èƒ½å¿½ç•¥äººéš›é—œä¿‚ã€æ§åˆ¶éåº¦'
                },
                intimacy: {
                    type: 'æ·±åº¦å»ºé€ è€…',
                    coreDesire: 'å»ºç«‹æ·±åšçš„é€£çµã€é•·æœŸæ‰¿è«¾',
                    turnOn: ['æ·±åº¦æ‰¿è«¾', 'ä¸€èµ·å»ºç«‹æœªä¾†', 'ç©©å®šæ„Ÿ'],
                    turnOff: ['å¤ªéš¨ä¾¿', 'æ²’æœ‰æœªä¾†æ„Ÿ'],
                    inBed: 'è¿½æ±‚é•·æœŸç©©å®šï¼Œæ·±åº¦æ‰¿è«¾ï¼Œè¦å»ºç«‹ã€ŒçœŸæ­£çš„é—œä¿‚ã€',
                    healthyState: 'å»ºç«‹æ·±åšçš„è¦ªå¯†åŸºç¤ï¼Œè®“é—œä¿‚æˆç‚ºäººç”Ÿçš„æ ¹åŸº',
                    shadowState: 'å¤ªå°ˆæ³¨äº‹æ¥­å¿½ç•¥è¦ªå¯†ï¼ŒæŠŠä¼´ä¾¶ç•¶æˆã€Œå°ˆæ¡ˆã€ç®¡ç†',
                    healingTip: 'å­¸ç¿’ã€Œå­˜åœ¨ã€è€Œéã€Œå»ºé€ ã€ï¼Œæœ‰æ™‚å€™ä»€éº¼éƒ½ä¸åšä¹Ÿå¯ä»¥',
                    partnerTip: 'è®“ä»–çŸ¥é“è¦ªå¯†é—œä¿‚ä¹Ÿæ˜¯é‡è¦çš„äººç”Ÿå»ºè¨­'
                }
            },
            33: { 
                title: 'å¤§å¸«ç™‚ç™’è€…', essence: 'ç™‚ç™’ã€æ…ˆæ‚²ã€æœå‹™', isMaster: true,
                light: 'ç„¡æ¢ä»¶çš„æ„›ã€ç™‚ç™’ä»–äººã€å¤©ç”Ÿå°å¸«', dark: 'çŠ§ç‰²éåº¦ã€ç„¡æ³•è¨­é™ã€ç‡ƒç‡’è‡ªå·±',
                oils: ['ç«ç‘°', 'ä¹³é¦™', 'èŠ±æ¢¨æœ¨', 'æ©™èŠ±'],
                soulLesson: 'åœ¨æœå‹™ä»–äººçš„åŒæ™‚ï¼Œä¹Ÿè¦ç…§é¡§å¥½è‡ªå·±',
                uniqueReading: '33æ˜¯ã€ŒåŠ å¼·ç‰ˆçš„6ã€ï¼Œæ˜¯æœ€é«˜å±¤æ¬¡çš„ç™‚ç™’å’Œæœå‹™ã€‚ä½ ä¸éœ€è¦ç‡ƒç‡’è‡ªå·±ä¾†ç…§äº®åˆ¥äººã€‚',
                hr: {
                    type: 'ç™‚ç™’å‹å°å¸«',
                    style: 'æœå‹™å°å‘ã€éœ€è¦æ„ç¾©æ„Ÿã€é©åˆæ•™è‚²ç™‚ç™’é ˜åŸŸ',
                    strengths: ['ç™‚ç™’èƒ½åŠ›', 'ç„¡æ¢ä»¶çš„æ„›', 'å•Ÿç™¼ä»–äºº', 'æ·±åº¦åŒç†'],
                    weaknesses: ['éåº¦çŠ§ç‰²', 'ç•Œé™ä¸æ¸…', 'å¯èƒ½è¢«æ¶ˆè€—', 'å¿½ç•¥è‡ªå·±'],
                    bestRoles: ['ç™‚ç™’å¸«', 'æ•™è‚²è€…', 'éˆæ€§å°å¸«', 'ç¤¾å·¥', 'å¿ƒç†è«®è©¢'],
                    worstRoles: ['å†·è¡€ç«¶çˆ­çš„ç’°å¢ƒ', 'ç´”åˆ©æ½¤å°å‘çš„è·ä½'],
                    manageTips: 'ç¢ºä¿ä»–æœ‰è‡ªæˆ‘ç…§é¡§çš„æ™‚é–“ï¼Œä¸è¦è®“ä»–éåº¦ä»˜å‡º',
                    motivate: 'ç™‚ç™’ä»–äººã€æœå‹™æ›´å¤§çš„ç›®æ¨™ã€è¢«æ„Ÿè¬',
                    warning: 'ç‡ƒç›¡é¢¨éšªæ¥µé«˜ã€å¯èƒ½è¢«ä»–äººæ¶ˆè€—ã€å¿½ç•¥è‡ªå·±çš„éœ€æ±‚'
                },
                intimacy: {
                    type: 'ç™‚ç™’è€…',
                    coreDesire: 'çµ¦äºˆç„¡æ¢ä»¶çš„æ„›ã€ç™‚ç™’å°æ–¹',
                    turnOn: ['è¢«éœ€è¦', 'ç™‚ç™’å°æ–¹', 'æ·±åº¦é€£çµ'],
                    turnOff: ['è¢«æ‹’çµ•ä»˜å‡º', 'å¤ªè‡ªç§'],
                    inBed: 'çµ¦äºˆç„¡æ¢ä»¶çš„æ„›å’Œæ¥ç´ï¼Œèƒ½ç™‚ç™’å°æ–¹çš„å‰µå‚·ï¼Œå¸¶ä¾†æ·±åº¦è¢«æ„›çš„é«”é©—',
                    healthyState: 'è®“å°æ–¹æ„Ÿå—åˆ°è¢«å®Œå…¨æ¥ç´ï¼Œæ€§æˆç‚ºç™‚ç™’çš„ç®¡é“',
                    shadowState: 'åªä»˜å‡ºä¸æ¥å—ï¼Œç„¡æ³•äº«å—è¢«æ„›ï¼Œç‡ƒç‡’è‡ªå·±',
                    healingTip: 'å…è¨±è‡ªå·±ä¹Ÿè¢«æ„›ã€è¢«ç…§é¡§ã€è¢«æ»¿è¶³',
                    partnerTip: 'ä¸»å‹•ç…§é¡§ä»–ï¼Œè®“ä»–çŸ¥é“ã€Œæ¥å—ã€ä¹Ÿæ˜¯ä¸€ç¨®çµ¦äºˆ'
                }
            }
        };

        const getNumData = (num) => NUMBER_DATA[num] || NUMBER_DATA[reduceToSingle(num)] || NUMBER_DATA[1];
        const isMasterNumber = (num) => num === 11 || num === 22 || num === 33;
        const reduceToSingle = (num) => { while (num > 9) { num = String(num).split('').reduce((a, b) => parseInt(a) + parseInt(b), 0); } return num; };
        const reduceNumber = (num) => { if (isMasterNumber(num)) return num; while (num > 9) { num = String(num).split('').reduce((a, b) => parseInt(a) + parseInt(b), 0); if (isMasterNumber(num)) return num; } return num; };
        const getBaseNum = (num) => NUMBER_DATA[num] ? num : reduceToSingle(num);

        /* ============================================
           12å®®ä½è³‡æ–™
           ============================================ */
        const PALACE_DATA = {
            1: { name: 'å‹‡æ°£æ®¿', meridian: 'è†½ç¶“', theme: 'æˆ‘æ•¢ä¸æ•¢åšè‡ªå·±ï¼Ÿ', oils: ['è–‘', 'é»‘èƒ¡æ¤’', 'æœæ¾'] },
            2: { name: 'åŠ›é‡å»³', meridian: 'è‚ç¶“', theme: 'æˆ‘çš„åŠ›é‡å¡åœ¨å“ªï¼Ÿ', oils: ['ä½›æ‰‹æŸ‘', 'è–„è·', 'æ´‹ç”˜èŠ'] },
            3: { name: 'å‘Šåˆ¥è‹‘', meridian: 'è‚ºç¶“', theme: 'æˆ‘æ”¾ä¸ä¸‹ä»€éº¼ï¼Ÿ', oils: ['çµ²æŸ', 'ä¹³é¦™', 'å°¤åŠ åˆ©'] },
            4: { name: 'æ·¨åŒ–å®¤', meridian: 'å¤§è…¸ç¶“', theme: 'æˆ‘è©²ä¸Ÿæ‰ä»€éº¼ï¼Ÿ', oils: ['æª¸æª¬', 'è‘¡è„æŸš', 'èŒ¶æ¨¹'] },
            5: { name: 'æ¶ˆåŒ–é–£', meridian: 'èƒƒç¶“', theme: 'æˆ‘æ¶ˆåŒ–ä¸äº†ä»€éº¼ï¼Ÿ', oils: ['ç”œæ©™', 'è–‘', 'è±†è”»'] },
            6: { name: 'ä¿¡ä»»æ®¿', meridian: 'è„¾ç¶“', theme: 'æˆ‘æƒ³å¤ªå¤šä»€éº¼ï¼Ÿ', oils: ['æª€é¦™', 'å²©è˜­è‰', 'é¼ å°¾è‰'] },
            7: { name: 'å¿ƒé–€å®®', meridian: 'å¿ƒç¶“', theme: 'æˆ‘æ¸´æœ›ä»€éº¼æ„›ï¼Ÿ', oils: ['ç«ç‘°', 'èŒ‰è‰', 'ä¾è˜­'] },
            8: { name: 'æ˜è¾¨å»³', meridian: 'å°è…¸ç¶“', theme: 'æˆ‘åˆ†ä¸æ¸…ä»€éº¼ï¼Ÿ', oils: ['è¿·è¿­é¦™', 'ç¾…å‹’', 'è–„è·'] },
            9: { name: 'å¸è¼‰è‹‘', meridian: 'è†€èƒ±ç¶“', theme: 'æˆ‘æ‰›è‘—ä»€éº¼ï¼Ÿ', oils: ['è–°è¡£è‰', 'é¦¬é¬±è˜­', 'è‹¦æ©™è‘‰'] },
            10: { name: 'å¿—æ°£æ®¿', meridian: 'è…ç¶“', theme: 'æˆ‘å®³æ€•ä»€éº¼ï¼Ÿ', oils: ['é›ªæ¾', 'æª€é¦™', 'æ²’è—¥'] },
            11: { name: 'æ•é–‹é–£', meridian: 'å¿ƒåŒ…ç¶“', theme: 'æˆ‘åœ¨ä¿è­·ä»€éº¼ï¼Ÿ', oils: ['ç«ç‘°è‰', 'æ©™èŠ±', 'å»£è—¿é¦™'] },
            12: { name: 'å¹³è¡¡å®¤', meridian: 'ä¸‰ç„¦ç¶“', theme: 'æˆ‘å“ªè£¡ä¸å¹³è¡¡ï¼Ÿ', oils: ['å¤©ç«ºè‘µ', 'ä¹³é¦™', 'èŠ±æ¢¨æœ¨'] }
        };

        // 7å®®æ„›çš„èªè¨€
        const LOVE_LANGUAGE_7 = {
            1: { desire: 'è¢«å°Šé‡ã€æœ‰ç©ºé–“', issue: 'é›£ä»¥æ•é–‹è„†å¼±', tip: 'çµ¦ä»–ç¨ç«‹ç©ºé–“ï¼Œå°Šé‡ä»–çš„æ±ºå®š' },
            2: { desire: 'è¢«é™ªä¼´ã€è¢«ç†è§£', issue: 'éåº¦ä¾è³´', tip: 'å¤šé™ªä¼´ï¼Œå¤šå‚¾è½ï¼Œä¸è¦æ‰¹è©•ä»–çš„æ•æ„Ÿ' },
            3: { desire: 'æœ‰è¶£ã€æœ‰è®ŠåŒ–', issue: 'é›£ä»¥æ·±å…¥', tip: 'ä¿æŒæ–°é®®æ„Ÿï¼Œè®šç¾ä»–çš„è¡¨é”' },
            4: { desire: 'ç©©å®šã€å®‰å…¨', issue: 'å¯èƒ½å¤ªç„¡èŠ', tip: 'çµ¦ä»–æ‰¿è«¾å’Œç©©å®šï¼Œä¸è¦å¤ªå¤šé©šå–œ' },
            5: { desire: 'è‡ªç”±ã€åˆºæ¿€', issue: 'å®³æ€•æ‰¿è«¾', tip: 'çµ¦ä»–è‡ªç”±ï¼Œä¸€èµ·å†’éšª' },
            6: { desire: 'è¢«ç…§é¡§ã€è¢«éœ€è¦', issue: 'éåº¦ä»˜å‡º', tip: 'è®“ä»–ç…§é¡§ä½ ï¼Œä¹Ÿä¸»å‹•ç…§é¡§ä»–' },
            7: { desire: 'æ·±åº¦ã€è¢«æ‡‚', issue: 'é›£ä»¥ä¿¡ä»»', tip: 'æ·±åº¦å°è©±ï¼Œçµ¦ä»–æ™‚é–“ä¿¡ä»»' },
            8: { desire: 'æ¬ŠåŠ›å¹³è¡¡', issue: 'æ§åˆ¶è­°é¡Œ', tip: 'å»ºç«‹å°ç­‰é—œä¿‚ï¼Œä¸å‘ä¸äº¢' },
            9: { desire: 'éˆé­‚é€£çµ', issue: 'å¤ªç†æƒ³åŒ–', tip: 'é€£çµæ›´é«˜çš„æ„ç¾©ï¼Œæ¥å—ä¸å®Œç¾' }
        };

        // 10å®®æ·±å±¤ææ‡¼
        const FEAR_10 = {
            1: { fear: 'å®³æ€•å¤±å»æ§åˆ¶', inBed: 'ç„¡æ³•æ”¾é¬†äº«å—ï¼Œå¿…é ˆæŒæ§ä¸€åˆ‡', heal: 'ç·´ç¿’äº¤å‡ºæ§åˆ¶æ¬Š' },
            2: { fear: 'å®³æ€•è¢«æ‹‹æ£„', inBed: 'ç”¨æ€§ä¾†ç¶ä½å°æ–¹ï¼Œéåº¦è¨å¥½', heal: 'ç›¸ä¿¡è‡ªå·±å€¼å¾—è¢«æ„›' },
            3: { fear: 'å®³æ€•ä¸å¤ æœ‰é­…åŠ›', inBed: 'éåº¦è¡¨æ¼”ï¼Œå¤ªåœ¨æ„è©•åƒ¹', heal: 'ç›¸ä¿¡çœŸå¯¦æ¯”è¡¨æ¼”æ›´å¸å¼•äºº' },
            4: { fear: 'å®³æ€•å¤±å»å®‰å…¨æ„Ÿ', inBed: 'åªåœ¨ç†Ÿæ‚‰ç’°å¢ƒæ‰è¡Œï¼Œå¾ˆé›£æ”¾é–‹', heal: 'ç›¸ä¿¡è®ŠåŒ–ä¸­ä¹Ÿæœ‰ç©©å®š' },
            5: { fear: 'å®³æ€•è¢«æŸç¸›', inBed: 'é€ƒé¿è¦ªå¯†ï¼Œå®³æ€•æ‰¿è«¾', heal: 'ç›¸ä¿¡æ‰¿è«¾ä¹Ÿæ˜¯ä¸€ç¨®è‡ªç”±' },
            6: { fear: 'å®³æ€•ä¸è¢«éœ€è¦', inBed: 'éåº¦ä»˜å‡ºï¼Œç„¡æ³•æ¥å—', heal: 'ç›¸ä¿¡ä½ çš„åƒ¹å€¼ä¸åªæ˜¯ä»˜å‡º' },
            7: { fear: 'å®³æ€•è¢«çœ‹ç©¿', inBed: 'èº«é«”ç–é›¢ï¼Œæ´»åœ¨è…¦è¢‹è£¡', heal: 'ç›¸ä¿¡è¢«ç†è§£æ˜¯å®‰å…¨çš„' },
            8: { fear: 'å®³æ€•å¤±å»æ¬ŠåŠ›', inBed: 'éœ€è¦æ§åˆ¶æˆ–è¢«å¾¹åº•æ§åˆ¶', heal: 'ç›¸ä¿¡æ”¾ä¸‹æ§åˆ¶æœƒå¾—åˆ°æ›´å¤š' },
            9: { fear: 'å®³æ€•ä¸å¤ å®Œç¾', inBed: 'é€ƒé¿è‚‰é«”ï¼Œåªæ´»åœ¨ç²¾ç¥å±¤é¢', heal: 'ç›¸ä¿¡ä¸å®Œç¾ä¹Ÿå€¼å¾—è¢«æ„›' }
        };

        // 11å®®æ•é–‹æ–¹å¼
        const OPEN_11 = {
            1: { way: 'éœ€è¦è‡ªå·±æ±ºå®šæ‰æ•é–‹', learn: 'è®“å°æ–¹ä¹Ÿæœ‰ä¸»å°æ¬Š' },
            2: { way: 'å°æ–¹å…ˆæ•é–‹æ‰æ•¢æ•é–‹', learn: 'ç·´ç¿’ä¸»å‹•ä¸€é»' },
            3: { way: 'ç”¨è¨€èªå’Œç¬‘ä¾†æ•é–‹', learn: 'ä¹Ÿç”¨èº«é«”è¡¨é”' },
            4: { way: 'éœ€è¦æ™‚é–“å’Œä¿¡ä»»', learn: 'å¶çˆ¾å¯ä»¥å¿«ä¸€é»' },
            5: { way: 'å®¹æ˜“æ•é–‹ä½†ä¸æ·±å…¥', learn: 'åœç•™ä¹…ä¸€é»' },
            6: { way: 'ç‚ºäº†å°æ–¹è€Œæ•é–‹', learn: 'ç‚ºäº†è‡ªå·±ä¹Ÿæ•é–‹' },
            7: { way: 'å¿ƒå…ˆé–‹èº«é«”æ‰é–‹', learn: 'æœ‰æ™‚å€™èº«é«”å¯ä»¥å…ˆé–‹' },
            8: { way: 'æŒæ§æ„Ÿä¸­æ•é–‹', learn: 'ä¹Ÿå¯ä»¥æ”¾ä¸‹æŒæ§' },
            9: { way: 'æœ‰æ„ç¾©æ‰æ•é–‹', learn: 'ç´”ç²¹çš„æ„‰æ‚…ä¹Ÿå¯ä»¥' }
        };

        /* ============================================
           è¨ˆç®—é‚è¼¯
           ============================================ */
        const calculateHourLight = (data) => {
            const { year, month, day, lunarMonth, lunarDay, hourId } = data;
            const hourData = getHourData(hourId);
            let hourValue = hourData.num;
            
            let uNum = 0;
            if (hourValue > 0) {
                if (hourValue === 11) uNum = 11;
                else if (hourValue === 10) uNum = 1;
                else if (hourValue === 12) uNum = 3;
                else uNum = hourValue;
            }
            
            const hNum = reduceNumber(parseInt(lunarMonth) + parseInt(lunarDay));
            const oNumRaw = String(year) + String(month).padStart(2, '0') + String(day).padStart(2, '0');
            const oNum = reduceNumber(oNumRaw.split('').reduce((a, b) => parseInt(a) + parseInt(b), 0));
            const rNum = uNum ? reduceNumber(hNum + oNum + uNum) : reduceNumber(hNum + oNum);

            const lNum = parseInt(lunarMonth) > 9 ? reduceNumber(parseInt(lunarMonth)) : parseInt(lunarMonth);
            const iNum = uNum || 5;
            const gNum = reduceNumber(String(year).split('').reduce((a, b) => parseInt(a) + parseInt(b), 0));
            const hEnergyNum = parseInt(lunarDay) > 9 ? reduceNumber(parseInt(lunarDay)) : parseInt(lunarDay);
            const tNum = reduceNumber(lNum + iNum + gNum + hEnergyNum);

            const yearStr = String(year);
            const lastTwo = parseInt(yearStr.slice(-2));
            const p2Num = reduceNumber(Math.floor(lastTwo / 10) + (lastTwo % 10));
            const p3Num = parseInt(month) === 11 ? 11 : reduceNumber(parseInt(month));
            const p4Num = [11, 22].includes(parseInt(day)) ? parseInt(day) : reduceNumber(parseInt(day));
            const p5Num = parseInt(lunarMonth) === 11 ? 11 : lNum;
            const p6Num = [11, 22].includes(parseInt(lunarDay)) ? parseInt(lunarDay) : hEnergyNum;
            const p9Num = parseInt(yearStr.charAt(yearStr.length - 3)) || 9;

            const palaces = { 1: getBaseNum(hNum), 2: p2Num, 3: p3Num, 4: p4Num, 5: p5Num, 6: p6Num, 7: getBaseNum(oNum), 8: gNum, 9: p9Num, 10: uNum || 5, 11: tNum, 12: getBaseNum(rNum) };
            const bridgeHO = Math.abs(getBaseNum(hNum) - getBaseNum(oNum));
            const bridgeOU = uNum ? Math.abs(getBaseNum(oNum) - uNum) : 0;
            const bridgeUR = uNum ? Math.abs(uNum - getBaseNum(rNum)) : 0;
            
            const numberCount = {};
            for (let i = 1; i <= 9; i++) numberCount[i] = 0;
            numberCount[11] = 0; numberCount[22] = 0; numberCount[33] = 0;
            [hNum, oNum, rNum].forEach(num => { if (isMasterNumber(num)) numberCount[num]++; else { const r = reduceToSingle(num); if (r >= 1 && r <= 9) numberCount[r]++; } });
            Object.values(palaces).forEach(num => { if (isMasterNumber(num)) numberCount[num]++; else { const r = reduceToSingle(num); if (r >= 1 && r <= 9) numberCount[r]++; } });

            return {
                inputData: { year, month, day, lunarMonth, lunarDay, hourId, hourValue, hourData },
                hour: { h: hNum, o: oNum, u: uNum, r: rNum },
                light: { l: lNum, i: iNum, g: gNum, h: hEnergyNum, t: tNum },
                palaces,
                bridges: { ho: bridgeHO, ou: bridgeOU, ur: bridgeUR },
                analysis: {
                    numberCount,
                    missingNumbers: Object.entries(numberCount).filter(([n, c]) => c === 0 && parseInt(n) <= 9).map(([n]) => parseInt(n)),
                    hasMasterNumbers: isMasterNumber(hNum) || isMasterNumber(oNum) || isMasterNumber(rNum) || isMasterNumber(uNum),
                    masterNumbersList: [hNum, oNum, uNum, rNum].filter(isMasterNumber)
                }
            };
        };

        /* ============================================
           Google Sheets è¨˜éŒ„
           ============================================ */
        const SHEET_URL = 'https://script.google.com/macros/s/AKfycbzlPM5yIuAlrQKbYa01bysqxYo3woLAfp1Tc0Ebk8-W4_3KiUfipUx9Li-10YTw2voIVA/exec';
        const logToSheet = (data) => { try { const params = new URLSearchParams({ birthday: `${data.year}-${data.month}-${data.day}`, lunarMonth: data.lunarMonth || '', lunarDay: data.lunarDay || '', hour: data.hourId || 'æœªå¡«', source: 'hourlight-v8.1' }); const img = new Image(); img.src = SHEET_URL + '?' + params.toString(); } catch (e) {} };

        /* ============================================
           UI å…ƒä»¶
           ============================================ */
        const MasterBadge = ({ num }) => { if (!isMasterNumber(num)) return null; const labels = { 11: 'âœ¨ç›´è¦ºå¤§å¸«', 22: 'ğŸ›ï¸å»ºé€ å¤§å¸«', 33: 'ğŸ’•ç™‚ç™’å¤§å¸«' }; return <span className="master-badge ml-2">{labels[num]}</span>; };

        const InputForm = ({ onCalculate, title, showName = false }) => {
            const [formData, setFormData] = useState({ name: '', year: '', month: '1', day: '1', lunarMonth: '', lunarDay: '', hourId: '' });
            const handleSubmit = (e) => { e.preventDefault(); if (!formData.year || !formData.lunarMonth || !formData.lunarDay) { alert('è«‹å¡«å¯«å®Œæ•´è³‡æ–™'); return; } logToSheet(formData); onCalculate(formData); };
            return (
                <div className="card p-6 fade-in">
                    {title && <h3 className="text-xl font-bold gold-text mb-4 serif">{title}</h3>}
                    <form onSubmit={handleSubmit} className="space-y-4">
                        {showName && <input type="text" placeholder="å§“åï¼ˆé¸å¡«ï¼‰" className="w-full p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} />}
                        <div className="grid grid-cols-3 gap-2">
                            <input type="number" placeholder="è¥¿å…ƒå¹´" className="p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.year} onChange={e => setFormData({...formData, year: e.target.value})} min="1900" max="2030" />
                            <select className="p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.month} onChange={e => setFormData({...formData, month: e.target.value})}>{Array.from({length: 12}, (_, i) => <option key={i+1} value={i+1}>{i+1}æœˆ</option>)}</select>
                            <select className="p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.day} onChange={e => setFormData({...formData, day: e.target.value})}>{Array.from({length: 31}, (_, i) => <option key={i+1} value={i+1}>{i+1}æ—¥</option>)}</select>
                        </div>
                        <div className="grid grid-cols-2 gap-2">
                            <select className="p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.lunarMonth} onChange={e => setFormData({...formData, lunarMonth: e.target.value})}><option value="">è¾²æ›†æœˆ</option>{Array.from({length: 12}, (_, i) => <option key={i+1} value={i+1}>{['æ­£','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹','å','åä¸€','åäºŒ'][i]}æœˆ</option>)}</select>
                            <select className="p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.lunarDay} onChange={e => setFormData({...formData, lunarDay: e.target.value})}><option value="">è¾²æ›†æ—¥</option>{Array.from({length: 30}, (_, i) => { const d = i + 1; const label = d <= 10 ? 'åˆ' + ['ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹','å'][d-1] : d < 20 ? 'å' + ['ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹'][d-11] : d === 20 ? 'äºŒå' : d < 30 ? 'å»¿' + ['ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹'][d-21] : 'ä¸‰å'; return <option key={d} value={d}>{label}</option>; })}</select>
                        </div>
                        <select className="w-full p-3 border rounded-lg bg-white/80 text-gray-800" value={formData.hourId} onChange={e => setFormData({...formData, hourId: e.target.value})}><option value="">æ™‚è¾°ï¼ˆé¸å¡«ï¼‰</option>{HOURS.slice(0, 12).map(h => <option key={h.id} value={h.id}>{h.name}</option>)}<option value="unknown">æ™‚è¾°ä¸è©³</option></select>
                        <button type="submit" className="w-full gold-btn py-3 rounded-lg">é–‹å§‹è¨ˆç®—</button>
                    </form>
                </div>
            );
        };

        /* ============================================
           â­ HRè­˜äººå®Œæ•´å ±å‘Šï¼ˆåŸºæ–¼é¦¥éˆç§˜ç¢¼H.O.U.R.ï¼‰
           ============================================ */
        const HRPage = ({ result, isNight }) => {
            const [hrResult, setHrResult] = useState(null);

            const HRFullReport = ({ data }) => {
                const { hour, palaces, bridges, analysis } = data;
                const hData = getNumData(hour.h);
                const oData = getNumData(hour.o);
                const uData = hour.u ? getNumData(hour.u) : null;
                const rData = getNumData(hour.r);

                return (
                    <div className="space-y-6 fade-in">
                        {/* æ ¸å¿ƒè­˜äººå¡ */}
                        <div className="card p-6 text-center bg-gradient-to-br from-blue-50 to-indigo-50">
                            <div className="text-6xl font-bold gold-text">{hour.o}{isMasterNumber(hour.o) && <MasterBadge num={hour.o} />}</div>
                            <div className="text-2xl font-bold mt-2 serif">{oData.hr?.type || oData.title}</div>
                            <div className="text-lg opacity-70">{oData.hr?.style || oData.essence}</div>
                        </div>

                        {/* H.O.U.R. å››ç¶­åˆ†æ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ”‘ H.O.U.R. å››ç¶­äººæ‰åˆ†æ</h4>
                            <div className="space-y-4">
                                <div className="p-4 rounded-lg bg-blue-50">
                                    <div className="flex justify-between items-center mb-2">
                                        <span className="font-bold text-blue-700">Hæ•¸ï¼ˆå…§åœ¨éœ€æ±‚ï¼‰</span>
                                        <span className="text-2xl font-bold gold-text">{hour.h}</span>
                                    </div>
                                    <p className="text-sm"><span className="font-bold">ä»–çœŸæ­£è¦çš„æ˜¯ï¼š</span>{hData.essence}</p>
                                    <p className="text-sm opacity-70">é¢è©¦çœ‹ä¸åˆ°ï¼Œä½†é€™æ˜¯ä»–é¸æ“‡ç•™ä¸‹æˆ–é›¢é–‹çš„é—œéµ</p>
                                </div>
                                <div className="p-4 rounded-lg bg-green-50">
                                    <div className="flex justify-between items-center mb-2">
                                        <span className="font-bold text-green-700">Oæ•¸ï¼ˆå¤–åœ¨è¡¨ç¾ï¼‰</span>
                                        <span className="text-2xl font-bold gold-text">{hour.o}</span>
                                    </div>
                                    <p className="text-sm"><span className="font-bold">é¢è©¦æ™‚ä½ æœƒçœ‹åˆ°ï¼š</span>{oData.light}</p>
                                    <p className="text-sm opacity-70">é€™æ˜¯ä»–çµ¦äººçš„ç¬¬ä¸€å°è±¡ï¼Œä¹Ÿæ˜¯æ—¥å¸¸å·¥ä½œçš„æ¨£å­</p>
                                </div>
                                {uData && (
                                    <div className="p-4 rounded-lg bg-purple-50">
                                        <div className="flex justify-between items-center mb-2">
                                            <span className="font-bold text-purple-700">Uæ•¸ï¼ˆéš±è—æ½›èƒ½ï¼‰</span>
                                            <span className="text-2xl font-bold gold-text">{hour.u}{isMasterNumber(hour.u) && <MasterBadge num={hour.u} />}</span>
                                        </div>
                                        <p className="text-sm"><span className="font-bold">é•·æœŸåŸ¹é¤Šå¾Œæœƒå±•ç¾ï¼š</span>{uData.essence}</p>
                                        <p className="text-sm opacity-70">é€™æ˜¯ä»–é‚„æ²’é–‹ç™¼çš„èƒ½åŠ›ï¼Œéœ€è¦æ™‚é–“å’Œæ©Ÿæœƒ</p>
                                    </div>
                                )}
                                <div className="p-4 rounded-lg bg-amber-50">
                                    <div className="flex justify-between items-center mb-2">
                                        <span className="font-bold text-amber-700">Ræ•¸ï¼ˆäººç”Ÿæ–¹å‘ï¼‰</span>
                                        <span className="text-2xl font-bold gold-text">{hour.r}</span>
                                    </div>
                                    <p className="text-sm"><span className="font-bold">ä»–æœ€çµ‚æœƒå¾€ï¼š</span>{rData.essence}çš„æ–¹å‘èµ°</p>
                                    <p className="text-sm opacity-70">é€™æ±ºå®šäº†ä»–çš„é•·æœŸç™¼å±•å’Œè·æ¶¯è¦åŠƒ</p>
                                </div>
                            </div>
                        </div>

                        {/* å·¥ä½œç‰¹è³ªè©•ä¼° */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ“Š å·¥ä½œç‰¹è³ªè©•ä¼°</h4>
                            <div className="grid grid-cols-2 gap-4">
                                <div className={`p-4 rounded-lg ${isNight ? 'bg-green-900/30' : 'bg-green-50'}`}>
                                    <h5 className="font-bold text-green-600 mb-2">âœ… æ ¸å¿ƒå„ªå‹¢</h5>
                                    <ul className="text-sm space-y-1">
                                        {(oData.hr?.strengths || [oData.light]).map((s, i) => <li key={i}>â–º {s}</li>)}
                                    </ul>
                                </div>
                                <div className={`p-4 rounded-lg ${isNight ? 'bg-red-900/30' : 'bg-red-50'}`}>
                                    <h5 className="font-bold text-red-600 mb-2">âš ï¸ æ½›åœ¨é¢¨éšª</h5>
                                    <ul className="text-sm space-y-1">
                                        {(oData.hr?.weaknesses || [oData.dark]).map((w, i) => <li key={i}>â–º {w}</li>)}
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {/* é©åˆèˆ‡ä¸é©åˆçš„è·ä½ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ’¼ è·ä½é©é…åº¦</h4>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <h5 className="font-bold mb-2">ğŸ‘ é©åˆçš„è·ä½</h5>
                                    <ul className="text-sm space-y-1 opacity-80">
                                        {(oData.hr?.bestRoles || ['éœ€é€²ä¸€æ­¥è©•ä¼°']).map((r, i) => <li key={i}>â–º {r}</li>)}
                                    </ul>
                                </div>
                                <div>
                                    <h5 className="font-bold mb-2">ğŸ‘ ä¸é©åˆçš„è·ä½</h5>
                                    <ul className="text-sm space-y-1 opacity-80">
                                        {(oData.hr?.worstRoles || ['éœ€é€²ä¸€æ­¥è©•ä¼°']).map((r, i) => <li key={i}>â–º {r}</li>)}
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {/* æ©‹æ¨‘æ•¸åˆ†æ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸŒ‰ å…§å¤–æ•´åˆåº¦ï¼ˆæ©‹æ¨‘æ•¸åˆ†æï¼‰</h4>
                            <div className="grid grid-cols-3 gap-4 text-center">
                                <div>
                                    <div className="text-3xl font-bold gold-text">{bridges.ho}</div>
                                    <div className="text-xs opacity-60">H-Oæ©‹æ¨‘</div>
                                    <div className="text-sm mt-1">{bridges.ho <= 2 ? 'å…§å¤–ä¸€è‡´ âœ“' : bridges.ho <= 4 ? 'éœ€è¦èª¿é©' : 'è½å·®è¼ƒå¤§ âš ï¸'}</div>
                                </div>
                                <div>
                                    <div className="text-3xl font-bold gold-text">{bridges.ou || 'â€”'}</div>
                                    <div className="text-xs opacity-60">O-Uæ©‹æ¨‘</div>
                                    <div className="text-sm mt-1">{!bridges.ou ? 'â€”' : bridges.ou <= 2 ? 'æ½›èƒ½æ˜“ç™¼æ®' : 'éœ€è¦åŸ¹é¤Š'}</div>
                                </div>
                                <div>
                                    <div className="text-3xl font-bold gold-text">{bridges.ur || 'â€”'}</div>
                                    <div className="text-xs opacity-60">U-Ræ©‹æ¨‘</div>
                                    <div className="text-sm mt-1">{!bridges.ur ? 'â€”' : bridges.ur <= 2 ? 'æ–¹å‘æ˜ç¢º' : 'éœ€è¦å¼•å°'}</div>
                                </div>
                            </div>
                            <p className="text-sm opacity-60 mt-4">æ©‹æ¨‘æ•¸è¶Šå°ï¼Œä»£è¡¨å…©å€‹é¢å‘è¶Šå®¹æ˜“æ•´åˆï¼›è¶Šå¤§å‰‡éœ€è¦æ›´å¤šæ™‚é–“èª¿é©</p>
                        </div>

                        {/* ç®¡ç†å»ºè­° */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ’¡ ç®¡ç†å»ºè­°</h4>
                            <div className="space-y-3 text-sm">
                                <div className="p-3 rounded-lg bg-blue-50">
                                    <span className="font-bold">å¦‚ä½•ç®¡ç†ï¼š</span>
                                    <p className="mt-1">{oData.hr?.manageTips || 'çµ¦äºˆé©ç•¶çš„è‡ªä¸»æ¬Šå’Œæ˜ç¢ºçš„ç›®æ¨™'}</p>
                                </div>
                                <div className="p-3 rounded-lg bg-green-50">
                                    <span className="font-bold">å¦‚ä½•æ¿€å‹µï¼š</span>
                                    <p className="mt-1">{oData.hr?.motivate || oData.essence + 'ç›¸é—œçš„æ¿€å‹µ'}</p>
                                </div>
                                <div className="p-3 rounded-lg bg-red-50">
                                    <span className="font-bold">é¢¨éšªé è­¦ï¼š</span>
                                    <p className="mt-1">{oData.hr?.warning || 'æ³¨æ„' + oData.dark}</p>
                                </div>
                            </div>
                        </div>

                        {/* ç©ºç¼ºæ•¸å­— */}
                        {analysis.missingNumbers.length > 0 && (
                            <div className="card p-6">
                                <h4 className="font-bold gold-text text-xl mb-4">ğŸ” å¯èƒ½çš„ç›²é»ï¼ˆç©ºç¼ºæ•¸å­—ï¼‰</h4>
                                <div className="space-y-2">
                                    {analysis.missingNumbers.map(n => (
                                        <div key={n} className="flex items-center gap-3 p-2 rounded bg-gray-50">
                                            <span className="text-2xl font-bold text-red-400">{n}</span>
                                            <div>
                                                <span className="font-bold">{NUMBER_DATA[n]?.title}</span>
                                                <span className="text-sm opacity-70 ml-2">â€” é€™å€‹èƒ½é‡è¼ƒå¼±ï¼Œå¯èƒ½éœ€è¦è£œå¼·æˆ–æ‰¾äº’è£œçš„åœ˜éšŠæˆå“¡</span>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* é¦¥éˆç¨å‰µæ´å¯Ÿ */}
                        <div className={`card p-6 ${isNight ? 'bg-gradient-to-br from-purple-900/50 to-pink-900/30' : 'bg-gradient-to-br from-amber-50 to-yellow-50'}`}>
                            <h4 className="font-bold gold-text text-xl mb-3">ğŸ’ é¦¥éˆç¨å‰µæ´å¯Ÿ</h4>
                            <p className="italic opacity-80">{oData.uniqueReading}</p>
                        </div>
                    </div>
                );
            };

            return (
                <div className="max-w-3xl mx-auto fade-in">
                    <div className="text-center mb-6">
                        <h2 className="text-3xl font-bold gold-text serif">ğŸ’¼ HRè­˜äººç³»çµ±</h2>
                        <p className="text-sm mt-2 opacity-60">åŸºæ–¼é¦¥éˆç§˜ç¢¼ H.O.U.R. å››ç¶­åº¦çš„å®Œæ•´äººæ‰è©•ä¼°</p>
                    </div>
                    {!hrResult ? (
                        <div className="space-y-4">
                            {result && <button onClick={() => setHrResult(result)} className="w-full gold-btn py-4 rounded-lg text-lg">ä½¿ç”¨æˆ‘çš„å‘½ç›¤ç”Ÿæˆå ±å‘Š</button>}
                            <div className="text-center text-sm opacity-50">æˆ–</div>
                            <InputForm title="è¼¸å…¥å“¡å·¥/æ‡‰å¾µè€…è³‡æ–™" showName={true} onCalculate={(data) => setHrResult(calculateHourLight(data))} />
                        </div>
                    ) : (
                        <div>
                            <button onClick={() => setHrResult(null)} className="text-sm opacity-60 hover:opacity-100 mb-4">â† é‡æ–°è¼¸å…¥</button>
                            <HRFullReport data={hrResult} />
                        </div>
                    )}
                </div>
            );
        };

        /* ============================================
           â­ æ·±å¤œç‰ˆè¦ªå¯†æŒ‡å—ï¼ˆ18ç¦å®Œæ•´ç‰ˆï¼‰
           ============================================ */
        const IntimacyPage = ({ result, isNight }) => {
            const [intimacyResult, setIntimacyResult] = useState(null);

            const IntimacyFullReport = ({ data }) => {
                const { hour, palaces } = data;
                const oData = getNumData(hour.o);
                const intimacy = oData.intimacy;
                const p7 = palaces[7];
                const p10 = palaces[10];
                const p11 = palaces[11];
                const love7 = LOVE_LANGUAGE_7[p7] || LOVE_LANGUAGE_7[1];
                const fear10 = FEAR_10[p10] || FEAR_10[1];
                const open11 = OPEN_11[p11] || OPEN_11[1];

                return (
                    <div className="space-y-6 fade-in">
                        {/* æ€§æ„Ÿæ¨™é¡Œ */}
                        <div className="card p-8 text-center sexy-gradient text-white">
                            <div className="text-6xl mb-4">ğŸ”¥</div>
                            <h3 className="text-3xl font-bold serif mb-2">è¦ªå¯†é—œä¿‚å®Œæ•´æŒ‡å—</h3>
                            <p className="opacity-90">æ·±åº¦æ¢ç´¢ä½ çš„æ…¾æœ›ã€ææ‡¼èˆ‡æ•é–‹æ–¹å¼</p>
                        </div>

                        {/* æ€§èƒ½é‡é¡å‹ */}
                        <div className="card p-6">
                            <div className="flex items-center gap-4 mb-4">
                                <span className="text-6xl font-bold gold-text">{hour.o}</span>
                                <div>
                                    <div className="text-2xl font-bold serif">{intimacy?.type || 'â€”'}</div>
                                    <div className="opacity-70">ä½ çš„æ€§èƒ½é‡åŸå‹</div>
                                </div>
                            </div>
                            <div className="p-4 rounded-lg bg-pink-900/20 mb-4">
                                <p className="font-bold text-pink-300 mb-2">ğŸ”¥ æ ¸å¿ƒæ…¾æœ›</p>
                                <p>{intimacy?.coreDesire || 'â€”'}</p>
                            </div>
                            <div className="p-4 rounded-lg bg-purple-900/20">
                                <p className="font-bold text-purple-300 mb-2">ğŸ’‹ åºŠä¸Šçš„ä½ </p>
                                <p>{intimacy?.inBed || 'â€”'}</p>
                            </div>
                        </div>

                        {/* é–‹æ©Ÿèˆ‡é—œæ©Ÿ */}
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="card p-6 bg-gradient-to-br from-green-900/40 to-emerald-900/30">
                                <h4 className="font-bold text-green-400 text-lg mb-3">âœ¨ é–‹æ©ŸæŒ‰éˆ•ï¼ˆTurn Onï¼‰</h4>
                                <ul className="space-y-2">
                                    {(intimacy?.turnOn || []).map((t, i) => <li key={i} className="flex items-center gap-2"><span className="text-green-400">â–º</span> {t}</li>)}
                                </ul>
                            </div>
                            <div className="card p-6 bg-gradient-to-br from-red-900/40 to-rose-900/30">
                                <h4 className="font-bold text-red-400 text-lg mb-3">âŒ é—œæ©ŸæŒ‰éˆ•ï¼ˆTurn Offï¼‰</h4>
                                <ul className="space-y-2">
                                    {(intimacy?.turnOff || []).map((t, i) => <li key={i} className="flex items-center gap-2"><span className="text-red-400">â–º</span> {t}</li>)}
                                </ul>
                            </div>
                        </div>

                        {/* å¥åº· vs å¤±è¡¡ */}
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="card p-6">
                                <h4 className="font-bold text-green-400 text-lg mb-3">ğŸ’• å¥åº·ç‹€æ…‹</h4>
                                <p className="text-lg">{intimacy?.healthyState || 'â€”'}</p>
                            </div>
                            <div className="card p-6">
                                <h4 className="font-bold text-red-400 text-lg mb-3">âš ï¸ å¤±è¡¡ç‹€æ…‹</h4>
                                <p className="text-lg">{intimacy?.shadowState || 'â€”'}</p>
                            </div>
                        </div>

                        {/* 7å®®ï¼šæ„›çš„èªè¨€ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ’• 7å®®ãƒ»ä½ æ¸´æœ›ä»€éº¼æ¨£çš„æ„›ï¼Ÿ</h4>
                            <div className="flex items-center gap-4 mb-4">
                                <span className="text-5xl font-bold gold-text">{p7}</span>
                                <div>
                                    <div className="font-bold text-lg">æ¸´æœ›ï¼š{love7.desire}</div>
                                    <div className="opacity-70">æ½›åœ¨èª²é¡Œï¼š{love7.issue}</div>
                                </div>
                            </div>
                            <div className="p-4 rounded-lg bg-pink-900/20">
                                <p className="font-bold text-pink-300 mb-1">ğŸ’¡ ä¼´ä¾¶æ”»ç•¥</p>
                                <p>{love7.tip}</p>
                            </div>
                        </div>

                        {/* 10å®®ï¼šæ·±å±¤ææ‡¼ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ˜° 10å®®ãƒ»ä½ å°æ€§çš„æ·±å±¤ææ‡¼</h4>
                            <div className="flex items-center gap-4 mb-4">
                                <span className="text-5xl font-bold gold-text">{p10}</span>
                                <div>
                                    <div className="font-bold text-lg text-red-400">{fear10.fear}</div>
                                    <div className="opacity-70">åœ¨åºŠä¸Šå¯èƒ½ï¼š{fear10.inBed}</div>
                                </div>
                            </div>
                            <div className="p-4 rounded-lg bg-purple-900/20">
                                <p className="font-bold text-purple-300 mb-1">ğŸ”® ç™‚ç™’æ–¹å‘</p>
                                <p>{fear10.heal}</p>
                            </div>
                        </div>

                        {/* 11å®®ï¼šæ•é–‹æ–¹å¼ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸ’ 11å®®ãƒ»ä½ å¦‚ä½•æ•é–‹èº«é«”ï¼Ÿ</h4>
                            <div className="flex items-center gap-4 mb-4">
                                <span className="text-5xl font-bold gold-text">{p11}</span>
                                <div>
                                    <div className="font-bold text-lg">{open11.way}</div>
                                    <div className="opacity-70">éœ€è¦ç·´ç¿’ï¼š{open11.learn}</div>
                                </div>
                            </div>
                        </div>

                        {/* ç™‚ç™’èˆ‡çµ¦ä¼´ä¾¶çš„è©± */}
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="card p-6 bg-gradient-to-br from-blue-900/30 to-cyan-900/20">
                                <h4 className="font-bold text-cyan-300 text-lg mb-3">ğŸŒŠ çµ¦è‡ªå·±çš„ç™‚ç™’</h4>
                                <p>{intimacy?.healingTip || 'â€”'}</p>
                            </div>
                            <div className="card p-6 bg-gradient-to-br from-pink-900/30 to-rose-900/20">
                                <h4 className="font-bold text-pink-300 text-lg mb-3">ğŸ’Œ çµ¦ä¼´ä¾¶çš„è©±</h4>
                                <p>{intimacy?.partnerTip || 'â€”'}</p>
                            </div>
                        </div>

                        {/* èª¿é »ç²¾æ²¹ */}
                        <div className="card p-6">
                            <h4 className="font-bold gold-text text-xl mb-4">ğŸŒ¹ è¦ªå¯†èª¿é »ç²¾æ²¹è™•æ–¹</h4>
                            <div className="grid grid-cols-2 gap-4">
                                <div className="p-4 rounded-lg bg-pink-900/20">
                                    <p className="font-bold text-pink-300 mb-2">æƒ³å¢åŠ è¦ªå¯†æ„Ÿ</p>
                                    <p className="text-sm">ç«ç‘°2æ»´ + ä¾è˜­3æ»´ + æª€é¦™2æ»´</p>
                                    <p className="text-xs opacity-60 mt-1">æ“´é¦™æˆ–èª¿æˆæŒ‰æ‘©æ²¹</p>
                                </div>
                                <div className="p-4 rounded-lg bg-orange-900/20">
                                    <p className="font-bold text-orange-300 mb-2">æƒ³æå‡æ€§èƒ½é‡</p>
                                    <p className="text-sm">è–‘2æ»´ + é»‘èƒ¡æ¤’2æ»´ + ä¾è˜­3æ»´</p>
                                    <p className="text-xs opacity-60 mt-1">æŒ‰æ‘©è…°éƒ¨å’Œä¸‹è…¹</p>
                                </div>
                                <div className="p-4 rounded-lg bg-purple-900/20">
                                    <p className="font-bold text-purple-300 mb-2">æƒ³é‡‹æ”¾æ€§å£“æŠ‘</p>
                                    <p className="text-sm">ä½›æ‰‹æŸ‘3æ»´ + è‹¦æ©™è‘‰2æ»´ + èŒ‰è‰2æ»´</p>
                                    <p className="text-xs opacity-60 mt-1">æ³¡æ¾¡æˆ–å¡—æŠ¹ä¸‹è…¹éƒ¨</p>
                                </div>
                                <div className="p-4 rounded-lg bg-blue-900/20">
                                    <p className="font-bold text-blue-300 mb-2">æƒ³ç™‚ç™’å‰µå‚·</p>
                                    <p className="text-sm">ä¹³é¦™3æ»´ + ç«ç‘°2æ»´ + å²©è˜­è‰2æ»´</p>
                                    <p className="text-xs opacity-60 mt-1">å†¥æƒ³æ™‚æ“´é¦™</p>
                                </div>
                            </div>
                        </div>

                        {/* é¦¥éˆç¨å‰µ */}
                        <div className="card p-6 bg-gradient-to-br from-pink-900/40 to-purple-900/40">
                            <h4 className="font-bold gold-text text-xl mb-3">ğŸ’ é¦¥éˆç¨å‰µæ´å¯Ÿ</h4>
                            <p className="italic text-lg">ã€Œ{oData.uniqueReading}ã€</p>
                        </div>

                        {/* çµèª */}
                        <div className="card p-6 text-center">
                            <p className="text-lg opacity-80 italic">ã€Œä½ çš„èº«é«”ä¸æ˜¯ä½ çš„æ•µäººï¼Œå®ƒæ˜¯éˆé­‚é¸æ“‡çš„è¼‰é«”ã€‚<br/>æ€§ä¸æ˜¯éª¯é«’çš„ï¼Œå®ƒæ˜¯ç”Ÿå‘½åŠ›çš„å±•ç¾ã€‚<br/>ç•¶ä½ èƒ½ä¸å¸¶ç¾æ¥åœ°æ„Ÿå—æ„‰æ‚…ï¼Œ<br/>ä¸å¸¶ææ‡¼åœ°æ•é–‹èº«é«”ï¼Œ<br/>é‚£ä¸€åˆ»ï¼Œä½ æ‰çœŸæ­£æ´»è‘—ã€‚ã€</p>
                        </div>
                    </div>
                );
            };

            return (
                <div className="max-w-3xl mx-auto fade-in">
                    <div className="text-center mb-6">
                        <h2 className="text-3xl font-bold gold-text serif">ğŸ”¥ è¦ªå¯†é—œä¿‚æŒ‡å—</h2>
                        <p className="text-sm mt-2 opacity-60">æ·±å¤œå°ˆå±¬ãƒ»æ¢ç´¢ä½ çš„æ…¾æœ›èˆ‡æ•é–‹</p>
                    </div>
                    {!intimacyResult ? (
                        <div className="space-y-4">
                            {result && <button onClick={() => setIntimacyResult(result)} className="w-full gold-btn py-4 rounded-lg text-lg">ä½¿ç”¨æˆ‘çš„å‘½ç›¤ç”Ÿæˆå ±å‘Š</button>}
                            <div className="text-center text-sm opacity-50">æˆ–</div>
                            <InputForm title="è¼¸å…¥è³‡æ–™" onCalculate={(data) => setIntimacyResult(calculateHourLight(data))} />
                        </div>
                    ) : (
                        <div>
                            <button onClick={() => setIntimacyResult(null)} className="text-sm opacity-60 hover:opacity-100 mb-4">â† é‡æ–°è¼¸å…¥</button>
                            <IntimacyFullReport data={intimacyResult} />
                        </div>
                    )}
                </div>
            );
        };

        /* ============================================
           åŸºç¤å‘½ç›¤ï¼ˆç°¡åŒ–ç‰ˆï¼‰
           ============================================ */
        const BasicPage = ({ result, setResult, isNight }) => {
            if (!result) {
                return (
                    <div className="max-w-xl mx-auto">
                        <div className="text-center mb-8">
                            <h2 className="text-3xl font-bold gold-text serif">é–‹å•Ÿä½ çš„å…§åœ¨åŸå ¡</h2>
                            <p className="text-sm mt-2 opacity-60">è¼¸å…¥å‡ºç”Ÿè³‡æ–™ï¼Œæ‰¾åˆ°ä½ çš„ç”Ÿå‘½å¯†ç¢¼</p>
                        </div>
                        <InputForm onCalculate={(data) => setResult(calculateHourLight(data))} />
                    </div>
                );
            }
            const { hour, palaces, analysis } = result;
            return (
                <div className="space-y-6 fade-in">
                    {analysis.hasMasterNumbers && (
                        <div className={`card p-6 text-center ${isNight ? 'bg-gradient-to-r from-purple-900/50 to-pink-900/50' : 'bg-gradient-to-r from-amber-100 to-yellow-100'}`}>
                            <div className="text-4xl mb-2">âœ¨</div>
                            <h3 className="text-2xl font-bold gold-text serif">ä½ æ“æœ‰å¤§å¸«æ•¸ï¼</h3>
                            <div className="flex justify-center gap-3 mt-3">{analysis.masterNumbersList.map(n => <div key={n} className="px-4 py-2 rounded-lg bg-white/20"><span className="text-2xl font-bold gold-text">{n}</span> <span>{getNumData(n)?.title}</span></div>)}</div>
                        </div>
                    )}
                    <section>
                        <h3 className="text-2xl font-bold gold-text mb-4 pl-4 border-l-4 border-current serif">ğŸ”‘ H.O.U.R. å››ä¸»æ•¸</h3>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            {[{ k: 'h', l: 'H ç™’æ•¸', s: 'å…§åœ¨éœ€æ±‚' }, { k: 'o', l: 'O è­˜æ•¸', s: 'å¤–åœ¨å‘ˆç¾' }, { k: 'u', l: 'U è§£æ•¸', s: 'éš±è—æ½›èƒ½' }, { k: 'r', l: 'R è¡Œæ•¸', s: 'äººç”Ÿä½¿å‘½' }].map(item => {
                                const val = hour[item.k];
                                return (
                                    <div key={item.k} className={`card p-5 text-center ${item.k === 'r' ? 'ring-2 ring-amber-400' : ''}`}>
                                        <div className="text-xs opacity-60">{item.l}</div>
                                        <div className="text-4xl font-bold gold-text my-2">{val || 'â€”'}{isMasterNumber(val) && <MasterBadge num={val} />}</div>
                                        <div className="text-xs opacity-50">{item.s}</div>
                                        <div className="text-sm font-bold mt-1">{getNumData(val)?.title || ''}</div>
                                    </div>
                                );
                            })}
                        </div>
                    </section>
                    <section>
                        <h3 className="text-2xl font-bold gold-text mb-4 pl-4 border-l-4 border-current serif">ğŸ° 12å®®ä½</h3>
                        <div className="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2">
                            {Object.entries(PALACE_DATA).map(([id, data]) => (
                                <div key={id} className="card p-3 text-center">
                                    <div className="text-xs opacity-50">{id}å®®</div>
                                    <div className="text-2xl font-bold gold-text">{palaces[id]}</div>
                                    <div className="text-xs font-bold">{data.name}</div>
                                </div>
                            ))}
                        </div>
                    </section>
                </div>
            );
        };

        /* ============================================
           ä¸»æ‡‰ç”¨
           ============================================ */
        const App = () => {
            const [result, setResult] = useState(null);
            const [isNight, setIsNight] = useState(false);
            const [activeTab, setActiveTab] = useState('basic');
            const [showAgeConfirm, setShowAgeConfirm] = useState(false);

            useEffect(() => { document.body.className = isNight ? 'night-mode' : 'day-mode'; }, [isNight]);

            const tabs = [
                { id: 'basic', label: 'ğŸ”‘ åŸºç¤å‘½ç›¤', icon: 'ğŸ”‘' },
                { id: 'hr', label: isNight ? 'ğŸ”¥ è¦ªå¯†æŒ‡å—' : 'ğŸ’¼ HRè­˜äºº', icon: isNight ? 'ğŸ”¥' : 'ğŸ’¼' }
            ];

            return (
                <div className="min-h-screen">
                    {showAgeConfirm && (
                        <div className="modal-overlay">
                            <div className="card modal-content max-w-md w-full mx-4 p-8 text-center">
                                <div className="text-5xl mb-4">ğŸ”¥</div>
                                <h3 className="text-2xl font-bold gold-text mb-4 serif">æ·±å¤œæ¨¡å¼</h3>
                                <p className="mb-6 opacity-80">æ·±å¤œæ¨¡å¼åŒ…å«ã€Œè¦ªå¯†é—œä¿‚æŒ‡å—ã€å…§å®¹ï¼Œ<br/>å«æœ‰æˆäººä¸»é¡Œï¼Œåƒ…ä¾›å¹´æ»¿18æ­²è€…ç€è¦½ã€‚</p>
                                <p className="text-lg font-bold mb-6">è«‹ç¢ºèªä½ å·²å¹´æ»¿18æ­²</p>
                                <div className="flex gap-4 justify-center">
                                    <button onClick={() => setShowAgeConfirm(false)} className="px-8 py-3 rounded-lg bg-gray-200 text-gray-700 font-bold">æœªæ»¿18æ­²</button>
                                    <button onClick={() => { setIsNight(true); setShowAgeConfirm(false); }} className="gold-btn px-8 py-3 rounded-lg font-bold">æˆ‘å·²æ»¿18æ­²</button>
                                </div>
                            </div>
                        </div>
                    )}

                    <header className={`backdrop-blur-md shadow-sm sticky top-0 z-50 ${isNight ? 'bg-gray-900/90' : 'bg-white/90'}`}>
                        <div className="container mx-auto px-4 py-3">
                            <div className="flex justify-between items-center mb-3">
                                <div>
                                    <h1 className="text-2xl font-bold gold-text tracking-widest serif">é¦¥éˆç§˜ç¢¼</h1>
                                    <p className="text-[10px] opacity-50">Hour Light v8.1</p>
                                </div>
                                <div className="flex items-center gap-2">
                                    {result && <button onClick={() => setResult(null)} className="text-xs opacity-60 hover:opacity-100 px-3 py-1">é‡æ–°è¨ˆç®—</button>}
                                    <button onClick={() => isNight ? setIsNight(false) : setShowAgeConfirm(true)} className="gold-btn px-3 py-1 rounded-full text-xs">{isNight ? 'ğŸ”¥ æ·±å¤œ' : 'â˜€ï¸ ç™½å¤©'}</button>
                                </div>
                            </div>
                            <div className="flex gap-2">
                                {tabs.map(tab => (
                                    <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`tab-btn px-4 py-2 text-sm ${activeTab === tab.id ? 'active font-bold' : 'opacity-60'}`}>
                                        <span className="hidden md:inline">{tab.label}</span>
                                        <span className="md:hidden">{tab.icon}</span>
                                    </button>
                                ))}
                            </div>
                        </div>
                    </header>

                    <main className="container mx-auto px-4 py-8">
                        {activeTab === 'basic' && <BasicPage result={result} setResult={setResult} isNight={isNight} />}
                        {activeTab === 'hr' && (isNight ? <IntimacyPage result={result} isNight={isNight} /> : <HRPage result={result} isNight={isNight} />)}
                    </main>

                    <footer className="text-center py-8 opacity-40 text-xs">
                        <p>Â© 2026 é¦¥éˆç§˜ç¢¼ Hour Light v8.1</p>
                        <p>å‰µå§‹äººï¼šç‹é€¸å› ãƒ» hourlight.github.io</p>
                    </footer>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
