<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<parameter name="viewport" content="width=device-width,initial-scale=1" />
<title>ç‘ªé›…æ›†è¨ˆç®—å™¨ï½œé¦¥éˆä¹‹é‘°</title>
<meta name="description" content="æ‰¾åˆ°ä½ çš„ç‘ªé›…åœ–é¨°ï¼Œè§£é–ä½ çš„å®‡å®™å°è¨˜ã€‚æºè‡ªå°ç£ï¼Œé¦¥éˆä¹‹é‘°ã€‚">
<link rel="icon" href="favicon.ico" />
<style>
  :root{
    --milk:#f9f5f0; --cocoa:#6b4f3e;
    --rose:#cda86e; --rose-dark:#a88257;
    --ink:#2a2a2a; --line:rgba(0,0,0,.10);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    background:url('https://github.com/HourLight/11/raw/main/background.jpg') center/cover fixed no-repeat;
    font-family:"Noto Sans TC","PingFang TC","Arial",sans-serif;
    color:var(--ink);
    padding:20px;
    min-height:100vh;
  }
  .container{
    max-width:700px;
    margin:0 auto;
    background:rgba(255,255,255,.95);
    backdrop-filter:blur(8px);
    border-radius:20px;
    padding:40px 32px;
    box-shadow:0 12px 40px rgba(0,0,0,.15);
  }
  h1{
    text-align:center;
    color:var(--cocoa);
    font-size:clamp(1.8rem,4vw,2.2rem);
    margin-bottom:8px;
    font-weight:900;
  }
  .subtitle{
    text-align:center;
    color:#888;
    font-size:0.9rem;
    margin-bottom:32px;
  }

  .input-section{
    background:rgba(249,245,240,.6);
    border-radius:16px;
    padding:24px;
    margin-bottom:24px;
  }
  .input-label{
    font-size:0.95rem;
    font-weight:700;
    color:var(--cocoa);
    margin-bottom:12px;
    display:block;
  }
  .date-input{
    width:100%;
    padding:14px 16px;
    border:2px solid var(--line);
    border-radius:12px;
    font-size:1rem;
    font-family:inherit;
    transition:.25s;
    background:#fff;
  }
  .date-input:focus{
    outline:none;
    border-color:var(--rose);
    box-shadow:0 0 0 3px rgba(205,168,110,.15);
  }

  .calc-btn{
    display:block;
    width:100%;
    background:linear-gradient(135deg,var(--rose),var(--rose-dark));
    color:#fff;
    border:none;
    padding:16px 24px;
    border-radius:14px;
    font-size:1.1rem;
    font-weight:900;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(205,168,110,.4);
    transition:.25s;
    margin-top:16px;
  }
  .calc-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 8px 24px rgba(205,168,110,.5);
  }

  .result-section{
    display:none;
    margin-top:32px;
  }
  .result-section.show{
    display:block;
    animation:fadeIn 0.5s;
  }
  @keyframes fadeIn{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:translateY(0)}
  }

  .maya-card{
    background:linear-gradient(135deg,rgba(205,168,110,.2),rgba(168,130,87,.15));
    border:3px solid var(--rose);
    border-radius:16px;
    padding:32px 24px;
    margin-bottom:24px;
    text-align:center;
  }
  .kin-number{
    font-size:1rem;
    color:#888;
    margin-bottom:8px;
    font-weight:600;
  }
  .totem-icon{
    font-size:4rem;
    margin:12px 0;
  }
  .totem-name{
    font-size:1.8rem;
    font-weight:900;
    color:var(--cocoa);
    margin-bottom:8px;
  }
  .tone-name{
    font-size:1.2rem;
    color:var(--rose);
    font-weight:700;
    margin-bottom:16px;
  }
  .totem-desc{
    font-size:1rem;
    color:#666;
    line-height:1.7;
  }

  .info-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
    gap:16px;
    margin-bottom:24px;
  }
  .info-card{
    background:#fff;
    border:2px solid var(--line);
    border-radius:12px;
    padding:20px 16px;
    text-align:center;
  }
  .info-card-title{
    font-size:0.85rem;
    color:#888;
    margin-bottom:8px;
    font-weight:600;
  }
  .info-card-value{
    font-size:1.1rem;
    font-weight:800;
    color:var(--cocoa);
  }

  .detail-section{
    background:rgba(249,245,240,.6);
    border-radius:12px;
    padding:20px;
    margin-bottom:20px;
  }
  .detail-title{
    font-size:1rem;
    font-weight:800;
    color:var(--cocoa);
    margin-bottom:12px;
  }
  .detail-text{
    font-size:0.95rem;
    color:#666;
    line-height:1.6;
  }

  .copy-btn{
    display:block;
    width:100%;
    background:#fff;
    border:2px solid var(--cocoa);
    color:var(--cocoa);
    padding:12px 20px;
    border-radius:12px;
    font-size:1rem;
    font-weight:800;
    cursor:pointer;
    transition:.25s;
  }
  .copy-btn:hover{
    background:var(--cocoa);
    color:#fff;
    transform:translateY(-2px);
  }
  .copy-btn.copied{
    background:#4caf50;
    border-color:#4caf50;
    color:#fff;
  }

  .back-home{
    display:block;
    text-align:center;
    margin-top:24px;
    color:var(--rose);
    text-decoration:none;
    font-weight:700;
    transition:.25s;
  }
  .back-home:hover{
    color:var(--rose-dark);
    text-decoration:underline;
  }

  @media(max-width:600px){
    .container{padding:28px 20px}
    .totem-icon{font-size:3rem}
    .totem-name{font-size:1.5rem}
  }
</style>
</head>
<body>
  <div class="container">
    <h1>ğŸŒ€ ç‘ªé›…æ›†è¨ˆç®—å™¨</h1>
    <p class="subtitle">ğŸ‡¹ğŸ‡¼ æºè‡ªå°ç£ï½œé¦¥éˆä¹‹é‘°</p>

    <div class="input-section">
      <label class="input-label">è«‹è¼¸å…¥ä½ çš„å‡ºç”Ÿæ—¥æœŸ</label>
      <input type="date" class="date-input" id="birthDate" max="2025-12-31">
      <button class="calc-btn" onclick="calculate()">ğŸ”® æ‰¾åˆ°æˆ‘çš„ç‘ªé›…å°è¨˜</button>
    </div>

    <div class="result-section" id="resultSection">
      <div class="maya-card">
        <div class="kin-number" id="kinNumber">KIN -</div>
        <div class="totem-icon" id="totemIcon">-</div>
        <div class="totem-name" id="totemName">-</div>
        <div class="tone-name" id="toneName">-</div>
        <div class="totem-desc" id="totemDesc">-</div>
      </div>

      <div class="info-grid">
        <div class="info-card">
          <div class="info-card-title">æ³¢ç¬¦</div>
          <div class="info-card-value" id="waveSpell">-</div>
        </div>
        <div class="info-card">
          <div class="info-card-title">èª¿æ€§</div>
          <div class="info-card-value" id="toneValue">-</div>
        </div>
        <div class="info-card">
          <div class="info-card-title">é¡è‰²</div>
          <div class="info-card-value" id="colorValue">-</div>
        </div>
      </div>

      <div class="detail-section">
        <div class="detail-title">âœ¨ ä½ çš„èƒ½é‡ç‰¹è³ª</div>
        <div class="detail-text" id="energyText">-</div>
      </div>

      <div class="detail-section">
        <div class="detail-title">ğŸ’« çµ¦ä½ çš„è¨Šæ¯</div>
        <div class="detail-text" id="messageText">-</div>
      </div>

      <button class="copy-btn" onclick="copyResult()">ğŸ“‹ ä¸€éµè¤‡è£½çµæœ</button>
    </div>

    <a href="index.html" class="back-home">ğŸ  è¿”å›é¦–é </a>
  </div>

<script>
// ç‘ªé›…20å€‹åœ–é¨°
const totems = [
  {name:'ç´…é¾',icon:'ğŸ‰',desc:'ç”Ÿå‘½çš„æºé ­ï¼Œæ»‹é¤Šèˆ‡èª•ç”Ÿçš„èƒ½é‡',energy:'ä½ æ“æœ‰å¼·å¤§çš„æ»‹é¤Šèƒ½é‡ï¼Œå¤©ç”Ÿæ˜¯ç…§é¡§è€…å’Œå‰µé€ è€…ã€‚ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ç¨®ç¥ç¦ï¼Œèƒ½å¤ å­•è‚²æ–°çš„å¯èƒ½æ€§ã€‚',message:'ç›¸ä¿¡ä½ å…§åœ¨çš„å‰µé€ åŠ›ï¼Œä½ æœ‰èƒ½åŠ›èª•ç”Ÿå…¨æ–°çš„è‡ªå·±ã€‚'},
  {name:'ç™½é¢¨',icon:'ğŸŒ¬ï¸',desc:'éˆæ€§çš„å‘¼å¸ï¼Œæºé€šèˆ‡å‚³éçš„èƒ½é‡',energy:'ä½ æ˜¯éˆæ€§çš„ä¿¡ä½¿ï¼Œå¤©ç”Ÿå–„æ–¼æºé€šå’Œå‚³éè¨Šæ¯ã€‚ä½ çš„è©±èªå……æ»¿åŠ›é‡ï¼Œèƒ½å¤ å•Ÿç™¼ä»–äººã€‚',message:'èªªå‡ºä½ çš„çœŸå¯¦ï¼Œè®“ä½ çš„è²éŸ³æˆç‚ºç™‚ç™’çš„é¢¨ã€‚'},
  {name:'è—å¤œ',icon:'ğŸŒ™',desc:'å¤¢æƒ³çš„å®ˆè­·è€…ï¼Œè±ç››èˆ‡ç›´è¦ºçš„èƒ½é‡',energy:'ä½ æ“æœ‰è±å¯Œçš„å…§åœ¨ä¸–ç•Œå’Œå¼·å¤§çš„ç›´è¦ºï¼Œå¤©ç”Ÿæ˜¯å¤¢æƒ³å®¶ã€‚ä½ çš„æƒ³åƒåŠ›èƒ½å¤ å‰µé€ å¥‡è¹Ÿã€‚',message:'ç›¸ä¿¡ä½ çš„å¤¢æƒ³ï¼Œå®ƒå€‘æ˜¯å®‡å®™çµ¦ä½ çš„è—åœ–ã€‚'},
  {name:'é»ƒç¨®å­',icon:'ğŸŒ±',desc:'æ½›èƒ½çš„è¦ºé†’ï¼Œæˆé•·èˆ‡é–‹èŠ±çš„èƒ½é‡',energy:'ä½ æ˜¯æ½›èƒ½çš„ç¨®å­ï¼Œå¤©ç”Ÿå……æ»¿æˆé•·çš„å‹•åŠ›ã€‚ä½ çš„æ¯ä¸€æ­¥éƒ½åœ¨é–‹èŠ±çµæœã€‚',message:'è€å¿ƒç­‰å¾…ä½ çš„ç¶»æ”¾æ™‚åˆ»ï¼Œä½ æ­£åœ¨æˆç‚ºæœ€ç¾çš„è‡ªå·±ã€‚'},
  {name:'ç´…è›‡',icon:'ğŸ',desc:'ç”Ÿå‘½åŠ›çš„æµå‹•ï¼Œè›»è®Šèˆ‡é‡ç”Ÿçš„èƒ½é‡',energy:'ä½ æ“æœ‰å¼·å¤§çš„ç”Ÿå‘½åŠ›å’Œè›»è®Šèƒ½åŠ›ï¼Œå¤©ç”Ÿèƒ½å¤ é‡ç”Ÿã€‚ä½ çš„æ¯ä¸€æ¬¡è›»çš®éƒ½æ˜¯é€²åŒ–ã€‚',message:'æ“æŠ±æ”¹è®Šï¼Œæ¯ä¸€æ¬¡è›»è®Šéƒ½è®“ä½ æ›´æ¥è¿‘çœŸå¯¦çš„è‡ªå·±ã€‚'},
  {name:'ç™½ä¸–ç•Œæ©‹',icon:'ğŸŒ‰',desc:'é€£çµçš„æ©‹æ¨‘ï¼Œæ­»äº¡èˆ‡é‡ç”Ÿçš„èƒ½é‡',energy:'ä½ æ˜¯é€£çµä¸åŒä¸–ç•Œçš„æ©‹æ¨‘ï¼Œå¤©ç”Ÿèƒ½å¤ æ”¾ä¸‹å’Œé‡ç”Ÿã€‚ä½ çš„å­˜åœ¨å¹«åŠ©ä»–äººè·¨è¶Šã€‚',message:'å­¸æœƒæ”¾ä¸‹ï¼Œæ¯ä¸€æ¬¡çµæŸéƒ½æ˜¯æ–°çš„é–‹å§‹ã€‚'},
  {name:'è—æ‰‹',icon:'âœ‹',desc:'ç™‚ç™’çš„é›™æ‰‹ï¼Œå®Œæˆèˆ‡å¯¦ç¾çš„èƒ½é‡',energy:'ä½ æ“æœ‰ç™‚ç™’çš„é›™æ‰‹å’Œå¯¦ç¾çš„èƒ½åŠ›ï¼Œå¤©ç”Ÿæ˜¯ç™‚ç™’å¸«å’Œå¯¦è¸å®¶ã€‚ä½ çš„è¡Œå‹•å……æ»¿åŠ›é‡ã€‚',message:'ç›¸ä¿¡ä½ çš„é›™æ‰‹ï¼Œå®ƒå€‘èƒ½å¤ å‰µé€ å’Œç™‚ç™’ã€‚'},
  {name:'é»ƒæ˜Ÿæ˜Ÿ',icon:'â­',desc:'è—è¡“çš„ç¾æ„Ÿï¼Œå’Œè«§èˆ‡å„ªé›…çš„èƒ½é‡',energy:'ä½ æ“æœ‰è—è¡“å®¶çš„éˆé­‚å’Œç¾å­¸çš„çœ¼å…‰ï¼Œå¤©ç”Ÿè¿½æ±‚å’Œè«§èˆ‡ç¾ã€‚ä½ çš„å­˜åœ¨å°±æ˜¯è—è¡“ã€‚',message:'æ´»å‡ºä½ çš„ç¾ï¼Œè®“ç”Ÿå‘½æˆç‚ºä¸€ä»¶è—è¡“å“ã€‚'},
  {name:'ç´…æœˆ',icon:'ğŸŒ•',desc:'æƒ…æ„Ÿçš„æµå‹•ï¼Œæ·¨åŒ–èˆ‡é‡‹æ”¾çš„èƒ½é‡',energy:'ä½ æ“æœ‰æ·±åˆ»çš„æƒ…æ„Ÿå’Œæ·¨åŒ–çš„èƒ½åŠ›ï¼Œå¤©ç”Ÿèƒ½å¤ é‡‹æ”¾å’Œç™‚ç™’ã€‚ä½ çš„æƒ…æ„Ÿæ˜¯ç¦®ç‰©ã€‚',message:'å…è¨±æƒ…æ„Ÿæµå‹•ï¼Œæ¯ä¸€æ¬¡é‡‹æ”¾éƒ½æ˜¯ç™‚ç™’ã€‚'},
  {name:'ç™½ç‹—',icon:'ğŸ•',desc:'å¿ èª çš„æ„›ï¼Œç„¡æ¢ä»¶çš„æ„›èˆ‡å¿ èª ',energy:'ä½ æ“æœ‰ç´”ç²¹çš„æ„›å’Œå¿ èª çš„å¿ƒï¼Œå¤©ç”Ÿæ˜¯æ„›çš„åŒ–èº«ã€‚ä½ çš„æ„›èƒ½å¤ ç™‚ç™’ä¸€åˆ‡ã€‚',message:'æ„›ä½ è‡ªå·±ï¼Œå°±åƒä½ æ„›åˆ¥äººä¸€æ¨£ç„¡æ¢ä»¶ã€‚'},
  {name:'è—çŒ´',icon:'ğŸµ',desc:'éŠæˆ²çš„é­”æ³•ï¼Œå–œæ‚…èˆ‡å‰µé€ çš„èƒ½é‡',energy:'ä½ æ“æœ‰ç©å¿ƒå’Œé­”æ³•ï¼Œå¤©ç”Ÿå……æ»¿å–œæ‚…å’Œå‰µæ„ã€‚ä½ çš„å­˜åœ¨å°±æ˜¯éŠæˆ²ã€‚',message:'ä¸è¦å¤ªåš´è‚…ï¼Œç”Ÿå‘½æœ¬èº«å°±æ˜¯ä¸€å ´éŠæˆ²ã€‚'},
  {name:'é»ƒäºº',icon:'ğŸ§‘',desc:'è‡ªç”±æ„å¿—ï¼Œæ™ºæ…§èˆ‡é¸æ“‡çš„èƒ½é‡',energy:'ä½ æ“æœ‰è‡ªç”±æ„å¿—å’Œæ™ºæ…§ï¼Œå¤©ç”Ÿæ˜¯æ€è€ƒè€…å’Œé¸æ“‡è€…ã€‚ä½ çš„é¸æ“‡å‰µé€ ä½ çš„å¯¦ç›¸ã€‚',message:'è¨˜å¾—ä½ æ°¸é æœ‰é¸æ“‡ï¼Œä½ çš„è‡ªç”±æ˜¯ä½ çš„åŠ›é‡ã€‚'},
  {name:'ç´…å¤©è¡Œè€…',icon:'ğŸš¶',desc:'æ¢ç´¢çš„å‹‡æ°£ï¼Œç©ºé–“èˆ‡ç§»å‹•çš„èƒ½é‡',energy:'ä½ æ˜¯å¤©ç”Ÿçš„æ¢éšªå®¶ï¼Œå……æ»¿å¥½å¥‡å¿ƒå’Œç§»å‹•çš„èƒ½é‡ã€‚ä½ çš„æ—…ç¨‹å°±æ˜¯ä½ çš„æˆé•·ã€‚',message:'å‹‡æ•¢æ¢ç´¢ï¼Œä¸–ç•Œåœ¨ç­‰å¾…ä½ å»ç™¼ç¾ã€‚'},
  {name:'ç™½å·«å¸«',icon:'ğŸ§™',desc:'é­”æ³•çš„åŠ›é‡ï¼Œç„¡æ™‚é–“æ€§èˆ‡æ¥æ”¶çš„èƒ½é‡',energy:'ä½ æ“æœ‰é­”æ³•èˆ¬çš„åŠ›é‡å’Œæ¥æ”¶çš„èƒ½åŠ›ï¼Œå¤©ç”Ÿèƒ½å¤ è¶…è¶Šæ™‚é–“ã€‚ä½ æ˜¯é­”æ³•å¸«ã€‚',message:'ç›¸ä¿¡é­”æ³•ï¼Œä½ å°±æ˜¯é­”æ³•æœ¬èº«ã€‚'},
  {name:'è—é·¹',icon:'ğŸ¦…',desc:'é è¦‹çš„è¦–é‡ï¼Œå¿ƒéˆèˆ‡é¡˜æ™¯çš„èƒ½é‡',energy:'ä½ æ“æœ‰é·¹çš„è¦–é‡å’Œé è¦‹ï¼Œå¤©ç”Ÿèƒ½å¤ çœ‹è¦‹å…¨è²Œã€‚ä½ çš„æ´å¯ŸåŠ›æ˜¯ç¦®ç‰©ã€‚',message:'å¾æ›´é«˜çš„è¦–è§’çœ‹å¾…ç”Ÿå‘½ï¼Œä½ æœƒçœ‹è¦‹ä¸åŒçš„é¢¨æ™¯ã€‚'},
  {name:'é»ƒæˆ°å£«',icon:'âš”ï¸',desc:'å‹‡æ°£çš„åŠ›é‡ï¼Œè³ªå•èˆ‡ç„¡æ‡¼çš„èƒ½é‡',energy:'ä½ æ˜¯å‹‡æ•¢çš„æˆ°å£«ï¼Œå¤©ç”Ÿç„¡æ‡¼å’Œè³ªå•ã€‚ä½ çš„å‹‡æ°£èƒ½å¤ çªç ´ä¸€åˆ‡é™åˆ¶ã€‚',message:'å‹‡æ•¢é¢å°ææ‡¼ï¼Œä½ æ¯”ä½ æƒ³åƒçš„æ›´å¼·å¤§ã€‚'},
  {name:'ç´…åœ°çƒ',icon:'ğŸŒ',desc:'å°èˆªçš„æ™ºæ…§ï¼Œå…±æ™‚æ€§èˆ‡é€²åŒ–çš„èƒ½é‡',energy:'ä½ æ“æœ‰åœ°çƒçš„æ™ºæ…§å’Œå°èˆªçš„èƒ½åŠ›ï¼Œå¤©ç”Ÿèƒ½å¤ çœ‹è¦‹å…±æ™‚æ€§ã€‚ä½ æ˜¯é€²åŒ–çš„å¼•å°è€…ã€‚',message:'ç›¸ä¿¡å®‡å®™çš„å®‰æ’ï¼Œä¸€åˆ‡éƒ½åœ¨å®Œç¾çš„æ™‚é–“ç™¼ç”Ÿã€‚'},
  {name:'ç™½é¡',icon:'ğŸª',desc:'æ˜ ç…§çš„çœŸå¯¦ï¼Œç„¡ç›¡èˆ‡ç§©åºçš„èƒ½é‡',energy:'ä½ æ˜¯çœŸå¯¦çš„é¡å­ï¼Œå¤©ç”Ÿèƒ½å¤ æ˜ ç…§çœŸç›¸ã€‚ä½ çš„å­˜åœ¨å¹«åŠ©ä»–äººçœ‹è¦‹è‡ªå·±ã€‚',message:'å‹‡æ•¢çœ‹è¦‹çœŸå¯¦çš„è‡ªå·±ï¼Œé‚£è£¡æœ‰ä½ çš„åŠ›é‡ã€‚'},
  {name:'è—é¢¨æš´',icon:'â›ˆï¸',desc:'è½‰åŒ–çš„åŠ›é‡ï¼Œè‡ªæˆ‘ç”¢ç”Ÿèˆ‡å‚¬åŒ–çš„èƒ½é‡',energy:'ä½ æ“æœ‰é¢¨æš´èˆ¬çš„è½‰åŒ–åŠ›é‡ï¼Œå¤©ç”Ÿæ˜¯å‚¬åŒ–åŠ‘ã€‚ä½ çš„å­˜åœ¨å¸¶ä¾†æ”¹è®Šã€‚',message:'æ“æŠ±é¢¨æš´ï¼Œå®ƒæœƒå¸¶ä½ åˆ°é”æ–°çš„å½¼å²¸ã€‚'},
  {name:'é»ƒå¤ªé™½',icon:'â˜€ï¸',desc:'å•Ÿè’™çš„å…‰èŠ’ï¼Œæ™®ä¸–ä¹‹ç«èˆ‡ç”Ÿå‘½çš„èƒ½é‡',energy:'ä½ æ˜¯å¤ªé™½èˆ¬çš„å­˜åœ¨ï¼Œå¤©ç”Ÿç™¼å…‰ç™¼ç†±ã€‚ä½ çš„å…‰èŠ’èƒ½å¤ ç…§äº®ä»–äººã€‚',message:'åšä½ è‡ªå·±ï¼Œä½ çš„å…‰èŠ’å°±æ˜¯ä½ çš„ç¦®ç‰©ã€‚'}
];

// 13å€‹èª¿æ€§
const tones = [
  {name:'ç£æ€§',desc:'å¸å¼•',energy:'å¸å¼•ç›®æ¨™'},
  {name:'æœˆäº®',desc:'æŒ‘æˆ°',energy:'è­˜åˆ¥æŒ‘æˆ°'},
  {name:'é›»åŠ›',desc:'æœå‹™',energy:'å•Ÿå‹•æœå‹™'},
  {name:'è‡ªæˆ‘å­˜åœ¨',desc:'å½¢å¼',energy:'å®šç¾©å½¢å¼'},
  {name:'è¶…é »',desc:'è³¦æ¬Š',energy:'è³¦äºˆåŠ›é‡'},
  {name:'éŸ»å¾‹',desc:'å¹³è¡¡',energy:'å¹³è¡¡èƒ½é‡'},
  {name:'å…±é³´',desc:'èª¿é »',energy:'èª¿é »ç®¡é“'},
  {name:'éŠ€æ²³',desc:'æ•´åˆ',energy:'æ•´åˆå’Œè«§'},
  {name:'å¤ªé™½',desc:'æ„åœ–',energy:'å¯¦ç¾æ„åœ–'},
  {name:'è¡Œæ˜Ÿ',desc:'é¡¯åŒ–',energy:'å®Œç¾é¡¯åŒ–'},
  {name:'å…‰è­œ',desc:'é‡‹æ”¾',energy:'é‡‹æ”¾è§£æ”¾'},
  {name:'æ°´æ™¶',desc:'åˆä½œ',energy:'æ™®ä¸–åˆä½œ'},
  {name:'å®‡å®™',desc:'è‡¨åœ¨',energy:'è¶…è¶Šè‡¨åœ¨'}
];

// è¨ˆç®—ç‘ªé›…KIN
function calculateKIN(date){
  const baseDate = new Date(1987,6,26); // 1987-07-26 æ˜¯ KIN 1
  const diffTime = date - baseDate;
  const diffDays = Math.floor(diffTime / (1000*60*60*24));
  let kin = (diffDays % 260) + 1;
  if(kin <= 0) kin += 260;
  return kin;
}

function calculate(){
  const dateInput = document.getElementById('birthDate').value;
  if(!dateInput){
    alert('è«‹å…ˆè¼¸å…¥ä½ çš„å‡ºç”Ÿæ—¥æœŸï¼');
    return;
  }

  const [year,month,day] = dateInput.split('-').map(Number);
  const birthDate = new Date(year,month-1,day);
  const kin = calculateKIN(birthDate);

  const totemIndex = (kin - 1) % 20;
  const toneIndex = (kin - 1) % 13;
  const waveIndex = Math.floor((kin - 1) / 13) % 20;

  const totem = totems[totemIndex];
  const tone = tones[toneIndex];
  const wave = totems[waveIndex];

  const colors = ['ç´…','ç™½','è—','é»ƒ'];
  const colorIndex = totemIndex % 4;

  document.getElementById('kinNumber').textContent = `KIN ${kin}`;
  document.getElementById('totemIcon').textContent = totem.icon;
  document.getElementById('totemName').textContent = totem.name;
  document.getElementById('toneName').textContent = tone.name;
  document.getElementById('totemDesc').textContent = totem.desc;
  document.getElementById('waveSpell').textContent = wave.name;
  document.getElementById('toneValue').textContent = tone.desc;
  document.getElementById('colorValue').textContent = colors[colorIndex];
  document.getElementById('energyText').textContent = totem.energy;
  document.getElementById('messageText').textContent = totem.message;

  document.getElementById('resultSection').classList.add('show');

  window.currentResult = {
    date: dateInput,
    kin: kin,
    totem: totem.name,
    tone: tone.name,
    wave: wave.name,
    color: colors[colorIndex],
    desc: totem.desc,
    energy: totem.energy,
    message: totem.message
  };
}

function copyResult(){
  if(!window.currentResult) return;
  
  const r = window.currentResult;
  const text = `ğŸŒ€ ç‘ªé›…æ›†è¨ˆç®—çµæœ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å‡ºç”Ÿæ—¥æœŸï¼š${r.date}
KINï¼š${r.kin}
åœ–é¨°ï¼š${r.totem}
èª¿æ€§ï¼š${r.tone}
æ³¢ç¬¦ï¼š${r.wave}
é¡è‰²ï¼š${r.color}

æ ¸å¿ƒç‰¹è³ªï¼š${r.desc}

èƒ½é‡ç‰¹è³ªï¼š${r.energy}

çµ¦ä½ çš„è¨Šæ¯ï¼š${r.message}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‡¹ğŸ‡¼ æºè‡ªå°ç£ï½œé¦¥éˆä¹‹é‘°`;

  navigator.clipboard.writeText(text).then(()=>{
    const btn = event.target;
    btn.textContent = 'âœ… å·²è¤‡è£½ï¼';
    btn.classList.add('copied');
    setTimeout(()=>{
      btn.textContent = 'ğŸ“‹ ä¸€éµè¤‡è£½çµæœ';
      btn.classList.remove('copied');
    },2000);
  }).catch(()=>{
    alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼š\n\n'+text);
  });
}
</script>
</body>
</html>
