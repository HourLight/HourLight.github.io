<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å¡”ç¾…æŠ½ç‰Œï½œé¦¥éˆä¹‹é‘°</title>
<meta name="description" content="ç°¡æ½”å„ªé›…çš„å¡”ç¾…æŠ½ç‰Œå·¥å…·ï¼Œæ”¯æ´æ­£é€†ä½ï¼Œå¯é¸æ“‡æŠ½ 1 / 3 / 5 / 7 / 9 / 12 å¼µç‰Œï¼Œä¸€éµè¤‡è£½çµæœã€‚">
<link rel="icon" href="favicon.ico" />

<!-- å…±ç”¨é¢¨æ ¼ï¼šé‡‘é»‘å®‡å®™å¥³ç¥ v2 -->
<link rel="stylesheet" href="hourlight-theme-v2.css" />

<style>
/* ====== å¡”ç¾…é é¢å°ˆç”¨å¾®èª¿ï¼Œå…¨éƒ¨å»ºç«‹åœ¨ v2 ä¹‹ä¸Š ====== */

/* å¤–å±¤å®¹å™¨ï¼šç”¨ hl-v2-wrap + glass ç•¶åº• */
.tarot-subtitle {
  text-align:center;
  margin-top:8px;
  font-size:0.95rem;
  opacity:0.82;
}

/* å¼µæ•¸é¸æ“‡å€ */
.tarot-count-selector{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:8px;
  margin: 4px 0 16px;
}

.tarot-count-btn{
  border-radius:999px;
  padding:7px 14px;
  font-size:0.85rem;
  font-weight:700;
  cursor:pointer;
  border:1.5px solid rgba(233,194,125,0.8);
  background:rgba(8,6,18,0.7);
  color:#fbead5;
  transition:all .22s var(--hl-v2-ease);
}
.tarot-count-btn:hover{
  background:linear-gradient(135deg,var(--hl-v2-gold),var(--hl-v2-gold-deep));
  color:#1b1010;
  transform:translateY(-1px);
  box-shadow:0 6px 16px rgba(0,0,0,0.65);
}
.tarot-count-btn.active{
  background:linear-gradient(135deg,var(--hl-v2-gold),var(--hl-v2-gold-deep));
  color:#1b1010;
  border-color:var(--hl-v2-gold-deep);
  box-shadow:0 6px 18px rgba(0,0,0,0.7);
}

/* æŠ½ç‰ŒæŒ‰éˆ•ï¼šç”¨ hl-v2-btn å†å¾®èª¿å¯¬åº¦ */
.tarot-draw-btn-wrap{
  text-align:center;
  margin-top:8px;
}
.tarot-draw-btn{
  min-width:230px;
  font-size:1rem;
}

/* å¡ç‰‡æ ¼ç·šï¼šæ²¿ç”¨ hl-v2-card-grid */
.tarot-grid{
  margin-top:14px;
}

/* å–®å¼µå¡”ç¾…å¡ï¼šç–Šåœ¨ hl-v2-card ä¸Š */
.tarot-card{
  text-align:center;
  padding:16px 10px;
  animation: hl-v2-card-in .55s ease-out backwards;
}
.tarot-card-icon{
  font-size:2.2rem;
  display:block;
  margin-bottom:10px;
}
.tarot-card-zh{
  font-size:1.02rem;
  font-weight:800;
  margin-bottom:2px;
}
.tarot-card-en{
  font-size:0.8rem;
  opacity:0.78;
  margin-bottom:6px;
}
.tarot-card-pos{
  display:inline-block;
  padding:3px 10px;
  border-radius:999px;
  font-size:0.75rem;
  font-weight:700;
}
.tarot-card-pos.upright{
  background:rgba(76,175,80,.15);
  color:#9ff9b2;
  border:1px solid rgba(129,199,132,0.7);
}
.tarot-card-pos.reversed{
  background:rgba(156,39,176,.15);
  color:#f0b5ff;
  border:1px solid rgba(186,104,200,0.7);
}
.tarot-card.reversed .tarot-card-icon{
  transform:rotate(180deg);
}

/* ç©ºç‹€æ…‹ */
.tarot-empty{
  grid-column:1/-1;
  text-align:center;
  font-size:0.9rem;
  opacity:0.78;
  padding:22px 10px;
}

/* è¤‡è£½æŒ‰éˆ• */
#tarotCopyBtn{
  margin-top:14px;
}

/* è¿”å›é¦–é  */
.tarot-back-home{
  display:block;
  margin-top:18px;
  text-align:center;
  font-size:0.9rem;
  text-decoration:none;
  color:#f7dca8;
}
.tarot-back-home:hover{
  text-decoration:underline;
}
</style>
</head>

<body class="hl-v2-cosmic">
<div class="hl-v2-wrap">

  <!-- HERO å€ -->
  <section class="hl-v2-glass hl-v2-hero">
    <h1 class="hl-v2-hero-title">é¦¥éˆä¹‹é‘°ï½œå¡”ç¾…æŠ½ç‰Œ</h1>
    <p class="hl-v2-hero-sub">ç°¡æ½”å„ªé›…å¡”ç¾…å·¥å…· Ã— æ”¯æ´æ­£é€†ä½ Ã— ä¸€éµè¤‡è£½æŠ½ç‰Œçµæœ</p>
    <p class="tarot-subtitle">ğŸ‡¹ğŸ‡¼ æºè‡ªå°ç£ï½œé¦¥éˆä¹‹é‘° Hour Light</p>
    <div class="hl-v2-badges">
      <span class="hl-v2-badge">22å¼µå¤§ç§˜å„€ï¼‹56å¼µå°ç§˜å„€</span>
      <span class="hl-v2-badge">æ”¯æ´ 1 / 3 / 5 / 7 / 9 / 12 å¼µ</span>
      <span class="hl-v2-badge">æ­£é€†ä½è‡ªå‹•æ¨™ç¤º</span>
    </div>
  </section>

  <!-- æŠ½ç‰Œæ§åˆ¶å€ -->
  <section class="hl-v2-glass">
    <h2 class="hl-v2-section-title" style="margin-top:4px;">é¸æ“‡æŠ½ç‰Œå¼µæ•¸</h2>

    <!-- å¼µæ•¸é¸æ“‡ -->
    <div class="tarot-count-selector" id="tarotCountSelector">
      <button class="tarot-count-btn" data-tarot-count="1">1 å¼µ</button>
      <button class="tarot-count-btn active" data-tarot-count="3">3 å¼µ</button>
      <button class="tarot-count-btn" data-tarot-count="5">5 å¼µ</button>
      <button class="tarot-count-btn" data-tarot-count="7">7 å¼µ</button>
      <button class="tarot-count-btn" data-tarot-count="9">9 å¼µ</button>
      <button class="tarot-count-btn" data-tarot-count="12">12 å¼µ</button>
    </div>

    <p class="hl-v2-text-center hl-v2-text-muted">
      å°æé†’ï¼šæŠ½ç‰Œå‰ï¼Œå…ˆåœ¨å¿ƒè£¡é»˜å¿µä¸€æ¬¡ä½ çš„å•é¡Œï¼Œ<br>
      æƒ³è‘—ã€Œæˆ‘è¦çœ‹åˆ°æ­¤åˆ»æœ€éœ€è¦çŸ¥é“çš„ç•«é¢ã€ï¼Œå†æŒ‰ä¸‹æŠ½ç‰Œã€‚
    </p>

    <!-- æŠ½ç‰ŒæŒ‰éˆ• -->
    <div class="tarot-draw-btn-wrap">
      <button id="tarotDrawBtn" class="hl-v2-btn hl-v2-btn-primary tarot-draw-btn">
        ğŸ”® é–‹å§‹æŠ½ç‰Œ
      </button>
    </div>
  </section>

  <!-- æŠ½å‡ºä¾†çš„ç‰Œ -->
  <section class="hl-v2-glass">
    <div id="tarotGrid" class="hl-v2-card-grid tarot-grid">
      <div class="tarot-empty">é¸æ“‡å¼µæ•¸å¾Œï¼Œé»æ“Šã€Œé–‹å§‹æŠ½ç‰Œã€ï¼Œé€™è£¡æœƒå‡ºç¾ä»Šæ—¥çš„å¡”ç¾…é™£åˆ—ã€‚</div>
    </div>

    <div class="hl-v2-btn-row">
      <button id="tarotCopyBtn" class="hl-v2-btn hl-v2-btn-secondary" style="display:none;">
        ğŸ“‹ ä¸€éµè¤‡è£½çµæœ
      </button>
    </div>

    <a href="index.html" class="tarot-back-home">ğŸ  è¿”å›é¦–é </a>
  </section>

  <!-- Footer -->
  <footer class="hl-v2-footer">
    <div class="hl-v2-footer-block">
      <strong>é¦¥éˆä¹‹é‘°ï½œå¡”ç¾…ç·šä¸ŠæŠ½ç‰Œå·¥å…·</strong><br>
      æœ¬å·¥å…·åƒ…ä¾›<strong>èº«å¿ƒæ”¾é¬†ã€æƒ…ç·’ç´“è§£ã€å£“åŠ›ç®¡ç†ã€èƒ½é‡èª¿é »èˆ‡æ°£è¡€å¾ªç’°èª¿ç†</strong>ç­‰æ—¥å¸¸åƒè€ƒä½¿ç”¨ï¼Œ<br>
      ä¸å±¬æ–¼ä»»ä½•é†«ç™‚è¡Œç‚ºï¼Œä¹Ÿä¸ç­‰åŒå¿ƒç†ç›¸é—œå°ˆæ¥­æœå‹™ã€‚<br>
      è‹¥æœ‰æ˜é¡¯æˆ–é•·æœŸèº«å¿ƒä¸é©ï¼Œè«‹å°‹æ±‚åˆæ ¼é†«ç™‚æˆ–å¿ƒç†ç›¸é—œå°ˆæ¥­å”åŠ©ã€‚<br><br>
      LINE å®˜æ–¹ï¼š<a href="https://lin.ee/vpbLhNjF" target="_blank">@hourlight</a><br>
      Â© 2025 é¦¥éˆä¹‹é‘° Hour Lightï½œHour Light Emotional Balance Studio, Taiwan
    </div>
  </footer>
</div>

<script>
// ========= å¡”ç¾…è³‡æ–™ï¼šå’Œä½ åŸæœ¬é‚£ç‰ˆä¸€æ¨£ï¼Œåªæ˜¯åŒ…é€² v2 ç‰ˆé é¢ =========

// 22 å¼µå¤§é˜¿çˆ¾å…‹é‚£
const majorArcana = [
  { zh:"æ„šè€…",   en:"The Fool",        icon:"ğŸŒŸ" },
  { zh:"é­”è¡“å¸«", en:"The Magician",   icon:"ğŸ©" },
  { zh:"å¥³ç¥­å¸", en:"The High Priestess", icon:"ğŸŒ™" },
  { zh:"çš‡å",   en:"The Empress",    icon:"ğŸ‘‘" },
  { zh:"çš‡å¸",   en:"The Emperor",    icon:"âš”ï¸" },
  { zh:"æ•™çš‡",   en:"The Hierophant", icon:"ğŸ“¿" },
  { zh:"æˆ€äºº",   en:"The Lovers",     icon:"ğŸ’•" },
  { zh:"æˆ°è»Š",   en:"The Chariot",    icon:"ğŸ‡" },
  { zh:"åŠ›é‡",   en:"Strength",       icon:"ğŸ¦" },
  { zh:"éš±è€…",   en:"The Hermit",     icon:"ğŸ•¯ï¸" },
  { zh:"å‘½é‹ä¹‹è¼ª", en:"Wheel of Fortune", icon:"ğŸ¡" },
  { zh:"æ­£ç¾©",   en:"Justice",        icon:"âš–ï¸" },
  { zh:"å€’åŠäºº", en:"The Hanged Man", icon:"ğŸ”„" },
  { zh:"æ­»ç¥",   en:"Death",          icon:"ğŸŒ‘" },
  { zh:"ç¯€åˆ¶",   en:"Temperance",     icon:"ğŸ¶" },
  { zh:"æƒ¡é­”",   en:"The Devil",      icon:"ğŸ˜ˆ" },
  { zh:"é«˜å¡”",   en:"The Tower",      icon:"ğŸ—¼" },
  { zh:"æ˜Ÿæ˜Ÿ",   en:"The Star",       icon:"â­" },
  { zh:"æœˆäº®",   en:"The Moon",       icon:"ğŸŒœ" },
  { zh:"å¤ªé™½",   en:"The Sun",        icon:"â˜€ï¸" },
  { zh:"å¯©åˆ¤",   en:"Judgement",      icon:"ğŸ“¯" },
  { zh:"ä¸–ç•Œ",   en:"The World",      icon:"ğŸŒ" }
];

// å°é˜¿çˆ¾å…‹é‚£å››èŠ±è‰²
const suits = {
  wands:      { zh:"æ¬Šæ–",  en:"Wands",      icon:"ğŸ”¥" },
  cups:       { zh:"è–æ¯",  en:"Cups",       icon:"ğŸ’§" },
  swords:     { zh:"å¯¶åŠ",  en:"Swords",     icon:"âš”ï¸" },
  pentacles:  { zh:"éŒ¢å¹£",  en:"Pentacles",  icon:"ğŸ’°" }
};

const ranks = [
  { zh:"ç‹ç‰Œ", en:"Ace" },
  { zh:"äºŒ",   en:"Two" },
  { zh:"ä¸‰",   en:"Three" },
  { zh:"å››",   en:"Four" },
  { zh:"äº”",   en:"Five" },
  { zh:"å…­",   en:"Six" },
  { zh:"ä¸ƒ",   en:"Seven" },
  { zh:"å…«",   en:"Eight" },
  { zh:"ä¹",   en:"Nine" },
  { zh:"å",   en:"Ten" },
  { zh:"ä¾è€…", en:"Page" },
  { zh:"é¨å£«", en:"Knight" },
  { zh:"ç‹å", en:"Queen" },
  { zh:"åœ‹ç‹", en:"King" }
];

// çµ„æˆå®Œæ•´ 78 å¼µå¡”ç¾…ç‰Œ
const allCards = [...majorArcana];
Object.values(suits).forEach(suit => {
  ranks.forEach(rank => {
    allCards.push({
      zh: `${suit.zh}${rank.zh}`,
      en: `${rank.en} of ${suit.en}`,
      icon: suit.icon
    });
  });
});

let selectedCount = 3;
let drawnCards = [];

const countBtns   = document.querySelectorAll('.tarot-count-btn');
const drawBtn     = document.getElementById('tarotDrawBtn');
const gridEl      = document.getElementById('tarotGrid');
const copyBtn     = document.getElementById('tarotCopyBtn');

// å¼µæ•¸é¸æ“‡
countBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    countBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    selectedCount = parseInt(btn.dataset.tarotCount, 10) || 3;
  });
});

// æŠ½ç‰Œ
drawBtn.addEventListener('click', () => {
  // æ´—ç‰Œ
  const shuffled = [...allCards].sort(() => Math.random() - 0.5);
  drawnCards = shuffled.slice(0, selectedCount).map(card => ({
    ...card,
    reversed: Math.random() > 0.5
  }));

  // æ¸…ç©º
  gridEl.innerHTML = '';

  // æ¸²æŸ“
  drawnCards.forEach((card, idx) => {
    const cardDiv = document.createElement('div');
    cardDiv.className = 'hl-v2-card tarot-card' + (card.reversed ? ' reversed' : '');
    cardDiv.style.animationDelay = `${idx * 0.08}s`;

    cardDiv.innerHTML = `
      <span class="tarot-card-icon">${card.icon}</span>
      <div class="tarot-card-zh">${card.zh}</div>
      <div class="tarot-card-en">${card.en}</div>
      <span class="tarot-card-pos ${card.reversed ? 'reversed' : 'upright'}">
        ${card.reversed ? 'é€†ä½' : 'æ­£ä½'}
      </span>
    `;
    gridEl.appendChild(cardDiv);
  });

  // é¡¯ç¤ºè¤‡è£½æŒ‰éˆ•
  copyBtn.style.display = 'inline-block';
  copyBtn.textContent = 'ğŸ“‹ ä¸€éµè¤‡è£½çµæœ';
  copyBtn.classList.remove('hl-v2-btn-primary');
});

// ä¸€éµè¤‡è£½çµæœ
copyBtn.addEventListener('click', () => {
  if (!drawnCards.length) return;

  const now = new Date();
  const yyyy = now.getFullYear();
  const mm   = String(now.getMonth() + 1).padStart(2, '0');
  const dd   = String(now.getDate()).padStart(2, '0');
  const hh   = String(now.getHours()).padStart(2, '0');
  const mi   = String(now.getMinutes()).padStart(2, '0');

  let text = 'ğŸ´ å¡”ç¾…æŠ½ç‰Œçµæœ\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
  drawnCards.forEach((card, i) => {
    text += `${i + 1}. ${card.zh} (${card.en}) - ${card.reversed ? 'é€†ä½' : 'æ­£ä½'}\n`;
  });
  text += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”\næŠ½ç‰Œæ™‚é–“ï¼š${yyyy}-${mm}-${dd} ${hh}:${mi}\nğŸ‡¹ğŸ‡¼ æºè‡ªå°ç£ï½œé¦¥éˆä¹‹é‘°`;

  if (!navigator.clipboard) {
    // å¾Œå‚™æ–¹æ¡ˆ
    const ta = document.createElement('textarea');
    ta.value = text;
    ta.style.position = 'fixed';
    ta.style.opacity = '0';
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
  } else {
    navigator.clipboard.writeText(text).catch(() => {
      // å¤±æ•—å°±ä¸Ÿå› alert
      alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼š\n\n' + text);
      return;
    });
  }

  copyBtn.textContent = 'âœ… å·²è¤‡è£½ï¼';
  copyBtn.classList.add('hl-v2-btn-primary');
  setTimeout(() => {
    copyBtn.textContent = 'ğŸ“‹ ä¸€éµè¤‡è£½çµæœ';
    copyBtn.classList.remove('hl-v2-btn-primary');
  }, 2000);
});
</script>
</body>
</html>
