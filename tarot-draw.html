<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å¡”ç¾…æŠ½ç‰Œï½œé¦¥éˆä¹‹é‘°</title>
<meta name="description" content="ç°¡æ½”å„ªé›…çš„å¡”ç¾…æŠ½ç‰Œå·¥å…·ï¼Œæ”¯æ´æ­£é€†ä½ï¼Œå¯é¸æ“‡æŠ½1/3/5/7/9/12å¼µç‰Œï¼Œä¸€éµè¤‡è£½çµæœã€‚">
<link rel="icon" href="favicon.ico" />
<style>
  :root{
    --milk:#f9f5f0; --cocoa:#6b4f3e;
    --rose:#cda86e; --rose-dark:#a88257;
    --ink:#2a2a2a; --line:rgba(0,0,0,.10);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    background:url('https://github.com/HourLight/11/raw/main/background.jpg') center/cover fixed no-repeat;
    font-family:"Noto Sans TC","PingFang TC","Arial",sans-serif;
    color:var(--ink);
    padding:20px;
    min-height:100vh;
  }
  .container{
    max-width:900px;
    margin:0 auto;
    background:rgba(255,255,255,.95);
    backdrop-filter:blur(8px);
    border-radius:20px;
    padding:32px;
    box-shadow:0 12px 40px rgba(0,0,0,.15);
  }
  h1{
    text-align:center;
    color:var(--cocoa);
    font-size:clamp(1.5rem,4vw,2rem);
    margin-bottom:8px;
    font-weight:900;
  }
  .subtitle{
    text-align:center;
    color:#888;
    font-size:0.9rem;
    margin-bottom:24px;
  }

  /* é¸æ“‡å¼µæ•¸ */
  .count-selector{
    display:flex;
    justify-content:center;
    gap:8px;
    margin-bottom:20px;
    flex-wrap:wrap;
  }
  .count-btn{
    background:#fff;
    border:2px solid var(--rose);
    color:var(--cocoa);
    padding:8px 16px;
    border-radius:12px;
    cursor:pointer;
    font-weight:700;
    transition:.25s;
    font-size:0.9rem;
  }
  .count-btn:hover{
    background:var(--rose);
    color:#fff;
    transform:translateY(-2px);
  }
  .count-btn.active{
    background:linear-gradient(135deg,var(--rose),var(--rose-dark));
    color:#fff;
    border-color:var(--rose-dark);
  }

  /* æŠ½ç‰ŒæŒ‰éˆ• */
  .draw-btn{
    display:block;
    width:100%;
    max-width:280px;
    margin:0 auto 24px;
    background:linear-gradient(135deg,var(--rose),var(--rose-dark));
    color:#fff;
    border:none;
    padding:14px 24px;
    border-radius:14px;
    font-size:1.1rem;
    font-weight:900;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(205,168,110,.4);
    transition:.25s;
  }
  .draw-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 8px 24px rgba(205,168,110,.5);
  }
  .draw-btn:active{
    transform:translateY(0);
  }

  /* å¡ç‰‡å®¹å™¨ */
  .cards-container{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
    gap:16px;
    margin-bottom:20px;
    min-height:200px;
  }
  
  /* å–®å¼µå¡ç‰‡ */
  .card{
    background:#fff;
    border:2px solid var(--line);
    border-radius:14px;
    padding:20px 12px;
    text-align:center;
    box-shadow:0 4px 12px rgba(0,0,0,.08);
    transition:.4s;
    opacity:0;
    transform:scale(0.8) rotateY(180deg);
    animation:cardAppear 0.6s forwards;
  }
  @keyframes cardAppear{
    to{opacity:1;transform:scale(1) rotateY(0deg)}
  }
  .card.reversed{
    background:linear-gradient(135deg,#f5f5f5,#e8e8e8);
  }
  .card:hover{
    transform:translateY(-4px) scale(1.02);
    box-shadow:0 8px 20px rgba(0,0,0,.12);
  }

  /* å¡ç‰‡åœ–ç¤º */
  .card-icon{
    font-size:3rem;
    margin-bottom:12px;
    display:block;
    transition:.3s;
  }
  .card.reversed .card-icon{
    transform:rotate(180deg);
  }

  /* å¡ç‰‡åç¨± */
  .card-name-zh{
    font-size:1.1rem;
    font-weight:800;
    color:var(--cocoa);
    margin-bottom:4px;
  }
  .card-name-en{
    font-size:0.85rem;
    color:#888;
    margin-bottom:8px;
  }
  .card-position{
    display:inline-block;
    padding:4px 12px;
    border-radius:999px;
    font-size:0.75rem;
    font-weight:700;
  }
  .card-position.upright{
    background:rgba(76,175,80,.15);
    color:#2e7d32;
  }
  .card-position.reversed{
    background:rgba(156,39,176,.15);
    color:#7b1fa2;
  }

  /* è¤‡è£½æŒ‰éˆ• */
  .copy-btn{
    display:block;
    width:100%;
    max-width:280px;
    margin:0 auto;
    background:#fff;
    border:2px solid var(--cocoa);
    color:var(--cocoa);
    padding:12px 20px;
    border-radius:12px;
    font-size:1rem;
    font-weight:800;
    cursor:pointer;
    transition:.25s;
  }
  .copy-btn:hover{
    background:var(--cocoa);
    color:#fff;
    transform:translateY(-2px);
  }
  .copy-btn.copied{
    background:#4caf50;
    border-color:#4caf50;
    color:#fff;
  }

  /* ç©ºç‹€æ…‹ */
  .empty-state{
    text-align:center;
    padding:40px 20px;
    color:#aaa;
    font-size:0.95rem;
  }

  /* è¿”å›é¦–é  */
  .back-home{
    display:block;
    text-align:center;
    margin-top:24px;
    color:var(--rose);
    text-decoration:none;
    font-weight:700;
    transition:.25s;
  }
  .back-home:hover{
    color:var(--rose-dark);
    text-decoration:underline;
  }

  /* éŸ¿æ‡‰å¼ */
  @media(max-width:600px){
    .cards-container{
      grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
      gap:12px;
    }
    .card{padding:16px 8px}
    .card-icon{font-size:2.5rem}
  }
</style>
</head>
<body>
  <div class="container">
    <h1>ğŸ´ å¡”ç¾…æŠ½ç‰Œ</h1>
    <p class="subtitle">ğŸ‡¹ğŸ‡¼ æºè‡ªå°ç£ï½œé¦¥éˆä¹‹é‘°</p>

    <!-- é¸æ“‡å¼µæ•¸ -->
    <div class="count-selector">
      <button class="count-btn" data-count="1">1å¼µ</button>
      <button class="count-btn active" data-count="3">3å¼µ</button>
      <button class="count-btn" data-count="5">5å¼µ</button>
      <button class="count-btn" data-count="7">7å¼µ</button>
      <button class="count-btn" data-count="9">9å¼µ</button>
      <button class="count-btn" data-count="12">12å¼µ</button>
    </div>

    <!-- æŠ½ç‰ŒæŒ‰éˆ• -->
    <button class="draw-btn" onclick="drawCards()">ğŸ”® é–‹å§‹æŠ½ç‰Œ</button>

    <!-- å¡ç‰‡å®¹å™¨ -->
    <div class="cards-container" id="cardsContainer">
      <div class="empty-state">é¸æ“‡å¼µæ•¸å¾Œï¼Œé»æ“Šã€Œé–‹å§‹æŠ½ç‰Œã€</div>
    </div>

    <!-- è¤‡è£½æŒ‰éˆ• -->
    <button class="copy-btn" id="copyBtn" onclick="copyResult()" style="display:none">
      ğŸ“‹ ä¸€éµè¤‡è£½çµæœ
    </button>

    <!-- è¿”å›é¦–é  -->
    <a href="index.html" class="back-home">ğŸ  è¿”å›é¦–é </a>
  </div>

<script>
// å¡”ç¾…ç‰Œè³‡æ–™ï¼ˆ22å¼µå¤§é˜¿çˆ¾å…‹é‚£ï¼‰
const majorArcana = [
  {zh:"æ„šè€…",en:"The Fool",icon:"ğŸŒŸ"},
  {zh:"é­”è¡“å¸«",en:"The Magician",icon:"ğŸ©"},
  {zh:"å¥³ç¥­å¸",en:"The High Priestess",icon:"ğŸŒ™"},
  {zh:"çš‡å",en:"The Empress",icon:"ğŸ‘‘"},
  {zh:"çš‡å¸",en:"The Emperor",icon:"âš”ï¸"},
  {zh:"æ•™çš‡",en:"The Hierophant",icon:"ğŸ“¿"},
  {zh:"æˆ€äºº",en:"The Lovers",icon:"ğŸ’•"},
  {zh:"æˆ°è»Š",en:"The Chariot",icon:"ğŸ‡"},
  {zh:"åŠ›é‡",en:"Strength",icon:"ğŸ¦"},
  {zh:"éš±è€…",en:"The Hermit",icon:"ğŸ•¯ï¸"},
  {zh:"å‘½é‹ä¹‹è¼ª",en:"Wheel of Fortune",icon:"ğŸ¡"},
  {zh:"æ­£ç¾©",en:"Justice",icon:"âš–ï¸"},
  {zh:"å€’åŠäºº",en:"The Hanged Man",icon:"ğŸ”„"},
  {zh:"æ­»ç¥",en:"Death",icon:"ğŸŒ‘"},
  {zh:"ç¯€åˆ¶",en:"Temperance",icon:"ğŸ¶"},
  {zh:"æƒ¡é­”",en:"The Devil",icon:"ğŸ˜ˆ"},
  {zh:"é«˜å¡”",en:"The Tower",icon:"ğŸ—¼"},
  {zh:"æ˜Ÿæ˜Ÿ",en:"The Star",icon:"â­"},
  {zh:"æœˆäº®",en:"The Moon",icon:"ğŸŒœ"},
  {zh:"å¤ªé™½",en:"The Sun",icon:"â˜€ï¸"},
  {zh:"å¯©åˆ¤",en:"Judgement",icon:"ğŸ“¯"},
  {zh:"ä¸–ç•Œ",en:"The World",icon:"ğŸŒ"}
];

// å°é˜¿çˆ¾å…‹é‚£ï¼ˆ56å¼µï¼‰
const suits = {
  wands: {zh:"æ¬Šæ–",en:"Wands",icon:"ğŸ”¥"},
  cups: {zh:"è–æ¯",en:"Cups",icon:"ğŸ’§"},
  swords: {zh:"å¯¶åŠ",en:"Swords",icon:"âš”ï¸"},
  pentacles: {zh:"éŒ¢å¹£",en:"Pentacles",icon:"ğŸ’°"}
};

const ranks = [
  {zh:"ç‹ç‰Œ",en:"Ace"},
  {zh:"äºŒ",en:"Two"},
  {zh:"ä¸‰",en:"Three"},
  {zh:"å››",en:"Four"},
  {zh:"äº”",en:"Five"},
  {zh:"å…­",en:"Six"},
  {zh:"ä¸ƒ",en:"Seven"},
  {zh:"å…«",en:"Eight"},
  {zh:"ä¹",en:"Nine"},
  {zh:"å",en:"Ten"},
  {zh:"ä¾è€…",en:"Page"},
  {zh:"é¨å£«",en:"Knight"},
  {zh:"ç‹å",en:"Queen"},
  {zh:"åœ‹ç‹",en:"King"}
];

// ç”Ÿæˆå®Œæ•´78å¼µå¡”ç¾…ç‰Œ
const allCards = [...majorArcana];
Object.entries(suits).forEach(([key,suit])=>{
  ranks.forEach(rank=>{
    allCards.push({
      zh:`${suit.zh}${rank.zh}`,
      en:`${rank.en} of ${suit.en}`,
      icon:suit.icon
    });
  });
});

let selectedCount = 3;
let drawnCards = [];

// é¸æ“‡å¼µæ•¸
document.querySelectorAll('.count-btn').forEach(btn=>{
  btn.addEventListener('click',function(){
    document.querySelectorAll('.count-btn').forEach(b=>b.classList.remove('active'));
    this.classList.add('active');
    selectedCount = parseInt(this.dataset.count);
  });
});

// æŠ½ç‰Œ
function drawCards(){
  const container = document.getElementById('cardsContainer');
  const copyBtn = document.getElementById('copyBtn');
  
  // æ´—ç‰Œ
  const shuffled = [...allCards].sort(()=>Math.random()-0.5);
  drawnCards = shuffled.slice(0,selectedCount).map(card=>({
    ...card,
    reversed: Math.random()>0.5
  }));

  // æ¸…ç©ºå®¹å™¨
  container.innerHTML = '';

  // æ¸²æŸ“å¡ç‰‡
  drawnCards.forEach((card,index)=>{
    const cardEl = document.createElement('div');
    cardEl.className = 'card' + (card.reversed?' reversed':'');
    cardEl.style.animationDelay = `${index*0.1}s`;
    cardEl.innerHTML = `
      <span class="card-icon">${card.icon}</span>
      <div class="card-name-zh">${card.zh}</div>
      <div class="card-name-en">${card.en}</div>
      <span class="card-position ${card.reversed?'reversed':'upright'}">
        ${card.reversed?'é€†ä½':'æ­£ä½'}
      </span>
    `;
    container.appendChild(cardEl);
  });

  // é¡¯ç¤ºè¤‡è£½æŒ‰éˆ•
  copyBtn.style.display = 'block';
  copyBtn.textContent = 'ğŸ“‹ ä¸€éµè¤‡è£½çµæœ';
  copyBtn.classList.remove('copied');
}

// è¤‡è£½çµæœ
function copyResult(){
  const now = new Date();
  const time = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}-${String(now.getDate()).padStart(2,'0')} ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
  
  let text = 'ğŸ´ å¡”ç¾…æŠ½ç‰Œçµæœ\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
  drawnCards.forEach((card,i)=>{
    text += `${i+1}. ${card.zh} (${card.en}) - ${card.reversed?'é€†ä½':'æ­£ä½'}\n`;
  });
  text += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”\næŠ½ç‰Œæ™‚é–“ï¼š${time}\nğŸ‡¹ğŸ‡¼ æºè‡ªå°ç£ï½œé¦¥éˆä¹‹é‘°`;

  // è¤‡è£½åˆ°å‰ªè²¼ç°¿
  navigator.clipboard.writeText(text).then(()=>{
    const btn = document.getElementById('copyBtn');
    btn.textContent = 'âœ… å·²è¤‡è£½ï¼';
    btn.classList.add('copied');
    setTimeout(()=>{
      btn.textContent = 'ğŸ“‹ ä¸€éµè¤‡è£½çµæœ';
      btn.classList.remove('copied');
    },2000);
  }).catch(err=>{
    alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼š\n\n'+text);
  });
}
</script>
</body>
</html>
