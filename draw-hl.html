<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>é¦¥éˆä¹‹é‘°ï½œå…§åœ¨GPS ç·šä¸ŠæŠ½ç‰Œ</title>
  <meta name="description" content="130 å¼µç‰Œå¡ï¼Œå¹«ä½ åœ¨æ··äº‚ä¸­é‡æ–°å°é »ã€‚ä¸æ˜¯ç®—å‘½ï¼Œæ˜¯æ—¥å¸¸å¾®èª¿å™¨èˆ‡æƒ…ç·’ç´“è§£å°å¹«æ‰‹ã€‚" />
  <link rel="icon" href="favicon.ico" />
  <style>
    :root {
      --hl-font-main: "Noto Sans TC","PingFang TC","Microsoft JhengHei",system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      --hl-v2-bg-deep: #05030a;
      --hl-v2-bg-soft: #14101b;
      --hl-v2-bg-panel: rgba(18,13,28,0.96);
      --hl-v2-ink-main: #f9f0e5;
      --hl-v2-ink-soft: #e2d3c4;
      --hl-v2-gold: #e9c27d;
      --hl-v2-gold-deep: #cda86e;
      --hl-v2-plum: #5c3a63;
      --hl-v2-rose: #f0b5b3;
      --hl-v2-border-soft: rgba(255,255,255,0.12);
      --hl-v2-shadow-md: 0 10px 28px rgba(0,0,0,0.55);
      --hl-v2-shadow-lg: 0 18px 48px rgba(0,0,0,0.85);
      --hl-v2-ease: cubic-bezier(0.4, 0, 0.2, 1);
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    html{scroll-behavior:smooth}
    body.hl-v2-cosmic {
      min-height: 100vh;
      font-family: var(--hl-font-main);
      color: var(--hl-v2-ink-main);
      line-height: 1.8;
      padding: 24px 16px 72px;
      background:
        radial-gradient(circle at 10% 0%, rgba(233,194,125,0.16) 0, transparent 55%),
        radial-gradient(circle at 80% 100%, rgba(132,112,255,0.2) 0, transparent 55%),
        radial-gradient(circle at 50% 40%, rgba(255,255,255,0.06) 0, transparent 60%),
        url('background.jpg') center/cover fixed no-repeat,
        var(--hl-v2-bg-deep);
    }
    .hl-v2-wrap {
      max-width: 1080px;
      margin: 0 auto;
      position: relative;
    }
    .hl-v2-glass {
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 20px;
      backdrop-filter: blur(18px) saturate(150%);
      background:
        radial-gradient(circle at top left, rgba(233,194,125,0.18), transparent 55%),
        rgba(10,6,24,0.92);
      border: 1px solid rgba(233,194,125,0.5);
      box-shadow: 0 20px 50px rgba(0,0,0,0.9), 0 0 30px rgba(233,194,125,0.18);
    }
    .hl-v2-hero {
      text-align:center;
      padding: 26px 22px;
    }
    .hl-v2-hero-title {
      margin:0;
      font-size:clamp(1.9rem,5vw,2.5rem);
      letter-spacing:.08em;
      font-weight:900;
      background: linear-gradient(135deg,#fbe6c2 0%,#e9c27d 30%,#cda86e 70%,#fff9ea 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .hl-v2-hero-sub {
      margin-top:10px;
      font-size:1rem;
      font-weight:600;
      color:#f3dcc5;
    }
    .hl-v2-badges {
      margin-top:12px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      justify-content:center;
    }
    .hl-v2-badge {
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      color:#20120a;
      background:linear-gradient(135deg,var(--hl-v2-gold),var(--hl-v2-gold-deep));
      box-shadow:inset 0 0 4px rgba(255,255,255,0.35), 0 4px 12px rgba(0,0,0,0.35);
      font-weight:700;
    }
    .hl-v2-section-title {
      text-align:center;
      margin:0 0 16px;
      font-size:1.2rem;
      font-weight:800;
      color:var(--hl-v2-gold);
    }
    .hl-v2-text-center { text-align:center; }
    .hl-v2-hint {
      text-align: center;
      color: var(--hl-v2-ink-soft);
      font-size: 14px;
      margin: 10px 0;
      line-height: 1.7;
    }
    .hl-v2-btn-row {
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:center;
      margin-top:10px;
    }
    .hl-v2-btn {
      display:inline-block;
      text-decoration:none;
      font-family:var(--hl-font-main);
      font-weight:800;
      font-size:0.95rem;
      padding:11px 20px;
      border-radius:999px;
      cursor:pointer;
      border:none;
      transition:all .25s var(--hl-v2-ease);
    }
    .hl-v2-btn-primary {
      background:linear-gradient(135deg,var(--hl-v2-gold),var(--hl-v2-gold-deep));
      color:#20120a;
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 20px rgba(233,194,125,0.65);
    }
    .hl-v2-btn-primary:hover {
      transform:translateY(-2px);
      box-shadow: 0 14px 34px rgba(0,0,0,0.95), 0 0 26px rgba(233,194,125,0.85);
    }
    .hl-v2-btn-primary:active { transform:translateY(-1px); }
    .hl-v2-btn-primary[disabled] { opacity:.5; cursor:not-allowed; transform:none; }
    .hl-v2-btn-secondary {
      background:transparent;
      border:1.6px solid var(--hl-v2-gold-deep);
      color:var(--hl-v2-gold-deep);
    }
    .hl-v2-btn-secondary:hover {
      background:rgba(233,194,125,0.15);
      color:var(--hl-v2-gold);
    }
    .hl-v2-btn-secondary[disabled] { opacity:.5; cursor:not-allowed; transform:none; }
    .hl-v2-mode-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    @media(max-width:900px) {
      .hl-v2-mode-grid { grid-template-columns: repeat(3, 1fr); }
    }
    @media(max-width:560px) {
      .hl-v2-mode-grid { grid-template-columns: repeat(2, 1fr); }
    }
    .hl-v2-mode-btn {
      border: none;
      cursor: pointer;
      padding: 14px 12px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
      color: #20120a;
      font-weight: 900;
      font-size: 15px;
      font-family: var(--hl-font-main);
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 20px rgba(233,194,125,0.65);
      transition: all .25s var(--hl-v2-ease);
    }
    .hl-v2-mode-btn.free {
      background: linear-gradient(135deg, #fff8e7, #ffe4a0);
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 24px rgba(255,230,160,0.8);
      border: 2px solid var(--hl-v2-gold);
    }
    .hl-v2-mode-btn.free small { color: #8b5a00; font-weight: 700; }
    .hl-v2-mode-btn.free:hover {
      box-shadow: 0 14px 34px rgba(0,0,0,0.95), 0 0 30px rgba(255,230,160,1);
    }
    .hl-v2-mode-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 14px 34px rgba(0,0,0,0.95), 0 0 26px rgba(233,194,125,0.85);
    }
    .hl-v2-mode-btn:active { transform: translateY(-1px); }
    .hl-v2-mode-btn small { display: block; font-size: 11px; opacity: 0.85; margin-top: 4px; }
    .hl-v2-toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      justify-content: center;
      margin: 16px 0 12px;
    }
    .hl-v2-card-grid {
      display:flex;
      flex-wrap:wrap;
      gap:18px;
      margin-top:12px;
      justify-content: center;
    }
    .hl-v2-card-item {
      width: 200px;
      max-width: 200px;
      flex-shrink: 0;
      border-radius:14px;
      border:1px solid rgba(233,194,125,0.4);
      background:
        radial-gradient(circle at top left, rgba(233,194,125,0.16), transparent 60%),
        rgba(9,6,20,0.96);
      box-shadow:0 14px 34px rgba(0,0,0,0.9);
      overflow:hidden;
      transition:all .3s var(--hl-v2-ease);
      animation: hl-v2-card-in .45s ease-out backwards;
    }
    @media(max-width:560px){
      .hl-v2-card-item { width: 160px; max-width: 160px; }
    }
    .hl-v2-card-item:hover {
      transform:translateY(-6px) scale(1.03);
      border-color: var(--hl-v2-gold);
      box-shadow: 0 18px 40px rgba(0,0,0,0.95), 0 0 20px rgba(233,194,125,0.25);
    }
    .hl-v2-card-thumb {
      display:block;
      width:100%;
      aspect-ratio:7/10;
      object-fit:contain;
      background:radial-gradient(circle at center,#211527,#050309);
    }
    .hl-v2-card-cap {
      padding:8px 10px;
      text-align:center;
      font-weight:800;
      font-size:13px;
      color:#fbead5;
      background:
        radial-gradient(circle at top left, rgba(233,194,125,0.12), transparent 60%),
        rgba(5,5,15,0.98);
      border-top:1px solid rgba(233,194,125,0.3);
    }
    @keyframes hl-v2-card-in {
      from { opacity:0; transform:translateY(20px) scale(0.94);}
      to { opacity:1; transform:translateY(0) scale(1);}
    }

    /* ========== æ·±åº¦è§£è®€å¤§æ°£ç‰ˆ ========== */
    .hl-bestie-reading {
      margin-top: 24px;
      padding: 28px 24px;
      border-radius: 20px;
      background:
        radial-gradient(circle at top left, rgba(240,181,179,0.15), transparent 50%),
        radial-gradient(circle at bottom right, rgba(233,194,125,0.12), transparent 50%),
        rgba(12,8,22,0.96);
      border: 2px solid rgba(240,181,179,0.5);
      box-shadow: 0 16px 48px rgba(0,0,0,0.8), 0 0 24px rgba(240,181,179,0.15);
      max-width: 720px;
      margin-left: auto;
      margin-right: auto;
    }
    .hl-bestie-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }
    .hl-bestie-icon { font-size: 2rem; }
    .hl-bestie-title {
      font-size: 1.3rem;
      font-weight: 900;
      color: var(--hl-v2-rose);
    }
    .hl-bestie-subtitle {
      font-size: 0.85rem;
      color: var(--hl-v2-ink-soft);
      margin-top: 2px;
    }
    .hl-bestie-content {
      color: var(--hl-v2-ink-main);
      font-size: 1rem;
      line-height: 2;
    }
    .hl-bestie-opener {
      color: var(--hl-v2-rose);
      font-weight: 700;
      font-size: 1.05rem;
      margin-bottom: 16px;
      padding-left: 16px;
      border-left: 3px solid var(--hl-v2-rose);
    }
    .hl-bestie-body {
      margin-bottom: 20px;
      color: var(--hl-v2-ink-soft);
    }
    .hl-bestie-closer {
      background: rgba(233,194,125,0.1);
      border-radius: 12px;
      padding: 16px 20px;
      border-left: 3px solid var(--hl-v2-gold);
    }
    .hl-bestie-closer-label {
      display: inline-block;
      font-size: 0.75rem;
      font-weight: 800;
      color: var(--hl-v2-gold);
      margin-bottom: 8px;
      letter-spacing: 1px;
    }
    .hl-bestie-closer-text {
      color: var(--hl-v2-ink-main);
      font-weight: 500;
    }

    /* ========== å¼•æµå€å¡Š ========== */
    .hl-bestie-cta {
      margin-top: 24px;
      padding: 20px;
      border-radius: 16px;
      text-align: center;
      background: linear-gradient(135deg, rgba(92,58,99,0.4), rgba(20,16,27,0.9));
      border: 1px solid rgba(240,181,179,0.3);
    }
    .hl-bestie-cta-text {
      color: var(--hl-v2-ink-soft);
      font-size: 0.9rem;
      margin-bottom: 12px;
      line-height: 1.7;
    }
    .hl-bestie-cta-text strong { color: var(--hl-v2-gold); }
    .hl-bestie-cta-btn {
      display: inline-block;
      padding: 12px 24px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--hl-v2-rose), #d4918f);
      color: #2a1515;
      font-weight: 800;
      font-size: 0.9rem;
      text-decoration: none;
      box-shadow: 0 8px 20px rgba(0,0,0,0.6), 0 0 15px rgba(240,181,179,0.3);
      transition: all .25s var(--hl-v2-ease);
    }
    .hl-bestie-cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 28px rgba(0,0,0,0.7), 0 0 20px rgba(240,181,179,0.5);
    }

    /* èˆŠç‰ˆä¿ç•™ç›¸å®¹ */
    .hl-v2-card-explain {
      margin-top:10px;
      padding:14px 16px;
      border-radius:14px;
      border:1.8px solid rgba(233,194,125,0.8);
      background:
        radial-gradient(circle at top left, rgba(233,194,125,0.18), transparent 55%),
        rgba(10,6,24,0.98);
      box-shadow:0 12px 40px rgba(0,0,0,0.9);
      color:#f7eee2;
      font-size:13px;
      line-height:1.8;
    }
    .hl-v2-card-explain-kicker {
      display:inline-block;
      padding:3px 10px;
      border-radius:999px;
      background:linear-gradient(135deg,var(--hl-v2-gold),var(--hl-v2-gold-deep));
      color:#1b1010;
      font-weight:900;
      font-size:12px;
      margin-right:6px;
    }
    .hl-v2-card-explain-title {
      font-weight:900;
      color:#ffe9c0;
      font-size:13px;
      margin-right:6px;
    }
    .hl-v2-card-explain-body {
      white-space:pre-wrap;
      color:#f6ecde;
    }
    .hl-v2-light-section {
      border-radius: 20px;
      padding: 32px 28px;
      margin: 24px 0;
      text-align: center;
      backdrop-filter: blur(18px) saturate(150%);
      background:
        radial-gradient(circle at top, rgba(240,181,179,0.25), transparent 50%),
        radial-gradient(circle at bottom, rgba(233,194,125,0.2), transparent 50%),
        rgba(10,6,24,0.95);
      border: 2px solid rgba(240,181,179,0.5);
      box-shadow: 0 20px 50px rgba(0,0,0,0.9), 0 0 30px rgba(240,181,179,0.2);
    }
    .hl-v2-light-icon { font-size: 3rem; margin-bottom: 16px; }
    .hl-v2-light-title {
      font-size: 1.5rem;
      font-weight: 900;
      color: var(--hl-v2-rose);
      margin-bottom: 8px;
      letter-spacing: 2px;
    }
    .hl-v2-light-subtitle {
      font-size: 0.95rem;
      color: var(--hl-v2-gold);
      margin-bottom: 16px;
      font-weight: 700;
    }
    .hl-v2-light-desc {
      font-size: 0.92rem;
      color: var(--hl-v2-ink-soft);
      line-height: 1.9;
      max-width: 600px;
      margin: 0 auto 20px;
    }
    .hl-v2-light-features {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      margin-bottom: 24px;
    }
    .hl-v2-light-feature {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 16px;
      border-radius: 999px;
      background: rgba(240,181,179,0.15);
      border: 1px solid rgba(240,181,179,0.4);
      color: var(--hl-v2-ink-soft);
      font-size: 0.85rem;
      font-weight: 600;
    }
    .hl-v2-light-btn {
      display: inline-block;
      padding: 14px 32px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--hl-v2-rose), #d4918f);
      color: #2a1515;
      font-weight: 900;
      font-size: 1rem;
      text-decoration: none;
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 20px rgba(240,181,179,0.5);
      transition: all .25s var(--hl-v2-ease);
    }
    .hl-v2-light-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 34px rgba(0,0,0,0.95), 0 0 26px rgba(240,181,179,0.7);
    }
    .hl-v2-cta {
      border-radius: 20px;
      padding: 32px 24px;
      text-align: center;
      margin: 24px 0;
      backdrop-filter: blur(18px) saturate(150%);
      background:
        radial-gradient(circle at top left, rgba(233,194,125,0.25), transparent 50%),
        radial-gradient(circle at bottom right, rgba(132,112,255,0.15), transparent 50%),
        rgba(10,6,24,0.95);
      border: 1px solid rgba(233,194,125,0.4);
      box-shadow: 0 20px 50px rgba(0,0,0,0.9), 0 0 30px rgba(233,194,125,0.18);
    }
    .hl-v2-cta h3 {
      color: var(--hl-v2-gold);
      font-size: 1.4rem;
      font-weight: 900;
      margin-bottom: 12px;
    }
    .hl-v2-cta p {
      color: var(--hl-v2-ink-soft);
      font-size: 0.95rem;
      line-height: 1.7;
      margin-bottom: 20px;
    }
    .hl-v2-cta-btns {
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-width: 400px;
      margin: 0 auto;
    }
    .hl-v2-cta-btn {
      display: block;
      text-decoration: none;
      padding: 14px 24px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 1rem;
      transition: all .25s var(--hl-v2-ease);
      text-align: center;
      font-family: var(--hl-font-main);
    }
    .hl-v2-cta-btn.primary {
      background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
      color: #20120a;
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 20px rgba(233,194,125,0.65);
    }
    .hl-v2-cta-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 34px rgba(0,0,0,0.95), 0 0 26px rgba(233,194,125,0.85);
    }
    .hl-v2-cta-btn.secondary {
      background: transparent;
      color: var(--hl-v2-gold);
      border: 2px solid var(--hl-v2-gold-deep);
    }
    .hl-v2-cta-btn.secondary:hover {
      background: rgba(233,194,125,0.15);
    }
    .hl-v2-footer {
      margin-top:24px;
      text-align:center;
    }
    .hl-v2-footer-block {
      border-radius:16px;
      padding:20px;
      font-size:13px;
      line-height:1.75;
      background:rgba(6,5,14,0.6);
      border:1px solid rgba(233,194,125,0.3);
      color:var(--hl-v2-ink-soft);
      box-shadow:0 10px 30px rgba(0,0,0,0.5);
    }
    .hl-v2-footer-block strong { color:var(--hl-v2-gold); }
    .hl-v2-footer-block a { color:var(--hl-v2-gold-deep); text-decoration:none; }
    .hl-v2-footer-block a:hover { color:var(--hl-v2-gold); text-decoration:underline; }
    .hl-v2-footer-block a.hl-v2-footer-link { color: #2D1810; }
    .hl-v2-footer-block a.hl-v2-footer-link:hover { color: #2D1810; }
    .hl-v2-footer-link {
      display: inline-block;
      text-decoration: none;
      color: #2D1810;
      font-weight: 900;
      background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
      padding: 12px 20px;
      border-radius: 24px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 20px rgba(233,194,125,0.65);
      margin-top: 12px;
      transition: all .25s var(--hl-v2-ease);
    }
    .hl-v2-footer-link:hover {
      transform: translateY(-2px);
      color: #2D1810;
    }
    .hl-v2-modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.7);
      backdrop-filter: blur(6px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10001;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .hl-v2-modal-overlay.show {
      opacity: 1;
      pointer-events: all;
    }
    .hl-v2-modal-content {
      background:
        radial-gradient(circle at top left, rgba(233,194,125,0.18), transparent 55%),
        rgba(10,6,24,0.98);
      border: 1px solid rgba(233,194,125,0.5);
      border-radius: 20px;
      padding: 32px 28px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 20px 60px rgba(0,0,0,.8), 0 0 30px rgba(233,194,125,0.18);
      transform: scale(0.9);
      transition: transform 0.3s;
    }
    .hl-v2-modal-overlay.show .hl-v2-modal-content {
      transform: scale(1);
    }
    .hl-v2-modal-header {
      text-align: center;
      margin-bottom: 20px;
    }
    .hl-v2-modal-icon { font-size: 48px; margin-bottom: 12px; }
    .hl-v2-modal-title {
      font-size: 24px;
      font-weight: 900;
      color: var(--hl-v2-gold);
      margin-bottom: 8px;
    }
    .hl-v2-modal-subtitle {
      font-size: 15px;
      color: var(--hl-v2-ink-soft);
      line-height: 1.6;
    }
    .hl-v2-modal-body { margin: 24px 0; }
    .hl-v2-modal-question {
      background: rgba(30,20,40,0.8);
      border: 2px solid var(--hl-v2-gold-deep);
      border-radius: 12px;
      padding: 16px;
      min-height: 80px;
      font-size: 15px;
      color: var(--hl-v2-ink-main);
      resize: vertical;
      width: 100%;
      font-family: var(--hl-font-main);
    }
    .hl-v2-modal-question::placeholder { color: rgba(255,255,255,0.4); }
    .hl-v2-modal-question:focus {
      outline: none;
      border-color: var(--hl-v2-gold);
      box-shadow: 0 0 0 3px rgba(233,194,125,.2);
    }
    .hl-v2-modal-footer {
      display: flex;
      gap: 12px;
      justify-content: center;
    }
    .hl-v2-modal-btn {
      padding: 14px 28px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 800;
      cursor: pointer;
      border: none;
      transition: all .25s var(--hl-v2-ease);
      font-family: var(--hl-font-main);
    }
    .hl-v2-modal-btn-primary {
      background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
      color: #20120a;
      box-shadow: 0 10px 26px rgba(0,0,0,0.9), 0 0 20px rgba(233,194,125,0.65);
    }
    .hl-v2-modal-btn-primary:hover { transform: translateY(-2px); }
    .hl-v2-modal-btn-secondary {
      background: transparent;
      color: var(--hl-v2-gold-deep);
      border: 2px solid var(--hl-v2-gold-deep);
    }
    .hl-v2-modal-btn-secondary:hover {
      background: rgba(233,194,125,0.15);
    }
    .hl-v2-toast {
      position: fixed;
      left: 50%;
      bottom: 30px;
      transform: translateX(-50%);
      background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
      color: #20120a;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 700;
      z-index: 9999;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      animation: hl-v2-toast-in 0.3s ease-out;
    }
    @keyframes hl-v2-toast-in {
      from { opacity: 0; transform: translateX(-50%) translateY(20px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
    .hl-float-btn {
      position: fixed;
      right: 20px;
      bottom: 24px;
      z-index: 9000;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 14px 22px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
      color: #20120a;
      text-decoration: none;
      font-weight: 800;
      font-size: 0.95rem;
      box-shadow: 0 8px 28px rgba(0,0,0,0.5), 0 0 20px rgba(233,194,125,0.4);
      transition: all 0.3s var(--hl-v2-ease);
      animation: hl-float-pulse 2s ease-in-out infinite;
    }
    .hl-float-btn:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 12px 36px rgba(0,0,0,0.6), 0 0 30px rgba(233,194,125,0.6);
    }
    .hl-float-icon { font-size: 1.2rem; }
    .hl-float-text { letter-spacing: 1px; }
    @keyframes hl-float-pulse {
      0%, 100% { box-shadow: 0 8px 28px rgba(0,0,0,0.5), 0 0 20px rgba(233,194,125,0.4); }
      50% { box-shadow: 0 8px 28px rgba(0,0,0,0.5), 0 0 35px rgba(233,194,125,0.7); }
    }
    @media (max-width: 480px) {
      .hl-float-btn { right: 16px; bottom: 20px; padding: 12px 18px; font-size: 0.85rem; }
      .hl-float-text { display: none; }
      .hl-float-icon { font-size: 1.4rem; }
    }

    /* ========== èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶æŒ‰éˆ• ========== */
    .music-toggle {
      position: fixed;
      top: 18px;
      right: 18px;
      background: rgba(10, 6, 24, 0.85);
      border: 1px solid rgba(233, 194, 125, 0.5);
      border-radius: 50%;
      width: 48px;
      height: 48px;
      cursor: pointer;
      font-size: 1.4rem;
      color: var(--hl-v2-gold);
      transition: all 0.3s var(--hl-v2-ease);
      z-index: 9500;
      backdrop-filter: blur(10px);
    }
    .music-toggle:hover {
      background: rgba(233, 194, 125, 0.15);
      box-shadow: 0 0 20px rgba(233, 194, 125, 0.4);
    }
    .music-toggle.playing {
      border-color: var(--hl-v2-gold);
      box-shadow: 0 0 15px rgba(233, 194, 125, 0.5);
    }
  </style>
</head>
<body class="hl-v2-cosmic">

<!-- ========== èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶ ========== -->
<audio id="bgMusic" loop><source src="https://hourlight.github.io/432Hz.mp3" type="audio/mpeg"></audio>
<button class="music-toggle" id="musicToggle" onclick="toggleBgMusic()">ğŸ”‡</button>

<div class="hl-v2-wrap">

  <section class="hl-v2-glass hl-v2-hero">
    <h1 class="hl-v2-hero-title">é¦¥éˆä¹‹é‘°ï½œå…§åœ¨GPS ç·šä¸ŠæŠ½ç‰Œ</h1>
    <p class="hl-v2-hero-sub">130 å¼µç‰Œå¡ Ã— H.O.U.R. å››æ­¥ï¼Œä¸æ˜¯ç®—å‘½ï¼Œæ˜¯æ—¥å¸¸å¾®èª¿å™¨èˆ‡æƒ…ç·’ç´“è§£å°å¹«æ‰‹</p>
    <div class="hl-v2-badges">
      <span class="hl-v2-badge">å…§åœ¨åŸå ¡</span>
      <span class="hl-v2-badge">æ„å¿µå¼èŠ³é¦™èª¿é »</span>
      <span class="hl-v2-badge">åº§æ¨™å“²å­¸</span>
    </div>
  </section>

  <section class="hl-v2-glass">
    <h3 class="hl-v2-section-title">âœ¨ é¸æ“‡æŠ½ç‰Œå¼µæ•¸</h3>
    <div class="hl-v2-mode-grid" style="grid-template-columns: repeat(3, 1fr); max-width: 500px; margin: 0 auto 12px;">
      <button class="hl-v2-mode-btn free" data-n="1">æŠ½ 1 å¼µ<small>âœ¨ å…è²»é«”é©—</small></button>
      <button class="hl-v2-mode-btn free" data-n="3">æŠ½ 3 å¼µ<small>âœ¨ å…è²»é«”é©—</small></button>
      <button class="hl-v2-mode-btn" data-n="7">æŠ½ 7 å¼µ<small>ä¸ƒä½èƒ½é‡è§£æ</small></button>
    </div>
    <div class="hl-v2-mode-grid" style="grid-template-columns: repeat(3, 1fr); margin-bottom: 16px;">
      <button class="hl-v2-mode-btn" data-n="12">æŠ½ 12 å¼µ<small>12é–€å®šä½æ ¡æº–</small></button>
      <button class="hl-v2-mode-btn" data-n="15">æŠ½ 15 å¼µ<small>å¤©è³¦æ ¹æºè§£æ–¹</small></button>
      <button class="hl-v2-mode-btn" data-n="21">æŠ½ 21 å¼µ<small>HOURLIT å®Œæ•´çŸ©é™£</small></button>
    </div>
    <p class="hl-v2-hint">ğŸ’¡ <strong>1~3å¼µå…è²»é«”é©—</strong>ï¼ˆé¡¯ç¤ºå®Œæ•´è¦ºå¯Ÿï¼‹è¡Œå‹•æŒ‡å¼•ï¼‰<br><strong>7å¼µä»¥ä¸Š</strong>è«‹è¤‡è£½ç‰Œé™£çµæœï¼Œé ç´„é¦¥éˆè¦ºå¯Ÿå¸«æ·±åº¦è§£è®€</p>
  </section>

  <section class="hl-v2-glass">
    <div class="hl-v2-toolbar">
      <button class="hl-v2-btn hl-v2-btn-secondary" id="copyBtn" disabled>ğŸ“‹ è¤‡è£½ç‰Œé™£çµæœ</button>
      <button class="hl-v2-btn hl-v2-btn-secondary" id="shareBtn" disabled>ğŸ”— ç”¢ç”Ÿé€£çµ</button>
      <button class="hl-v2-btn hl-v2-btn-secondary" id="clearBtn">ğŸ”„ æ¸…é™¤é‡æŠ½</button>
      <a class="hl-v2-btn hl-v2-btn-primary" href="https://line.me/R/ti/p/~judyanee" target="_blank" rel="noopener">ğŸŒ¿ LINE é ç´„</a>
    </div>
    <p class="hl-v2-hint" id="guideHint">ğŸ’« æŠ½ç‰Œå¾Œæœƒé¡¯ç¤ºå¡åœ–èˆ‡å¡è™Ÿ<br><strong>1~3å¼µå…è²»</strong>é¡¯ç¤ºå®Œæ•´è¦ºå¯Ÿï¼‹è¡Œå‹•æŒ‡å¼•ï¼Œ<strong>12å¼µä»¥ä¸Šè«‹è¤‡è£½çµæœé ç´„æ·±åº¦è§£è®€</strong></p>
    <div id="grid" class="hl-v2-card-grid"></div>
  </section>

  <section class="hl-v2-light-section">
    <div class="hl-v2-light-icon">ğŸª¶</div>
    <h2 class="hl-v2-light-title">é¦¥éˆè¼•ç›ˆï½œæ„è­˜ç˜¦èº«å”è­°</h2>
    <p class="hl-v2-light-subtitle">28å¼µç‰Œå¡ Ã— 7ç¨®é¡å‹ Ã— 4å±¤é¢å‘</p>
    <p class="hl-v2-light-desc">
      é«”æ…‹å¡é—œï¼Œå¾ˆå¤šæ™‚å€™ä¸æ˜¯ä¸åŠªåŠ›ï¼Œè€Œæ˜¯ç¯€å¥èˆ‡å£“åŠ›ä¸€ç›´åœ¨æ‰“æ¶ã€‚<br>
      é€éæ·±åº¦å°è©±ï¼‹28å¼µç‰Œå¡çš„ç·šç´¢æ•´ç†ï¼Œå”åŠ©ä½ çœ‹è¦‹æ…£æ€§æ¨¡å¼èˆ‡æ—¥å¸¸ç¯€é»ï¼Œ<br>
      æŠŠå¯åŸ·è¡Œçš„å°èª¿æ•´è½åœ°æˆè¡Œå‹•ï¼Œè®“ã€Œæ›´è¼•ç›ˆã€è®Šæˆä½ åšå¾—åˆ°çš„ç”Ÿæ´»æ–¹å¼ã€‚
    </p>
    <div class="hl-v2-light-features">
      <span class="hl-v2-light-feature">ğŸ” æ ¹æºç‰Œ</span>
      <span class="hl-v2-light-feature">ğŸ˜¨ ææ‡¼ç‰Œ</span>
      <span class="hl-v2-light-feature">âœ¨ é«˜æˆ‘ç‰Œ</span>
      <span class="hl-v2-light-feature">ğŸŒ¿ ç²¾æ²¹ç‰Œ</span>
    </div>
    <a href="draw-light.html" class="hl-v2-light-btn">ğŸª¶ å‰å¾€é¦¥éˆè¼•ç›ˆæŠ½ç‰Œ</a>
  </section>

  <section class="hl-v2-cta">
    <h3>ğŸŒŸ æƒ³è¦æ›´æ·±å…¥çš„è§£è®€ï¼Ÿ</h3>
    <p>é¦¥éˆä¹‹é‘°æä¾›å®Œæ•´çš„æƒ…ç·’èª¿é »æœå‹™<br>å¾ 1 å¼µåˆ° 21 å¼µï¼Œä¸åŒæ·±åº¦çš„æ¢ç´¢æ–¹æ¡ˆ<br><strong>12å¼µ HOURä¸‰å±¤</strong>ï¼šèº«å¿ƒã€é—œä¿‚ã€è²¡å¯Œã€å¤©å‘½å››å¤§ä¸»è»¸<br><strong>21å¼µ HOURÃ—LIGHT</strong>ï¼šå®Œæ•´çŸ©é™£æ·±åº¦è§£è®€<br>è®“é¦¥éˆè¦ºå¯Ÿå¸«é™ªä½ æ‰¾å›å…§åœ¨çš„å®‰å®šèˆ‡åŠ›é‡</p>
    <div class="hl-v2-cta-btns">
      <a href="https://line.me/R/ti/p/~judyanee" class="hl-v2-cta-btn primary" target="_blank" rel="noopener">ğŸ’¬ LINE è«®è©¢èˆ‡é ç´„</a>
      <a href="https://line.me/R/ti/p/~judyanee" class="hl-v2-cta-btn secondary" target="_blank" rel="noopener">âœ¨ æˆç‚ºé¦¥éˆè¦ºå¯Ÿå¸«</a>
      <a href="index.html" class="hl-v2-cta-btn secondary">ğŸ  è¿”å›é¦–é </a>
    </div>
  </section>

  <footer class="hl-v2-footer">
    <div class="hl-v2-footer-block">
      <strong>é¦¥éˆä¹‹é‘°ï½œå…§åœ¨ GPS ç·šä¸ŠæŠ½ç‰Œç³»çµ±</strong><br>è®“æ¯ä¸€æ¬¡æŠ½ç‰Œï¼Œéƒ½æˆç‚ºä½ ç…§é¡§è‡ªå·±ã€èª¿æ•´ç”Ÿæ´»ç¯€å¥çš„å°ç·´ç¿’ã€‚<br><br>
      ğŸ›¡ï¸ <strong>ä½¿ç”¨èªªæ˜èˆ‡å®‰å…¨è²æ˜</strong><br>æœ¬ç³»çµ±åƒ…æä¾›<strong>èº«å¿ƒæ”¾é¬†ã€æƒ…ç·’ç´“è§£ã€å£“åŠ›ç®¡ç†ã€èƒ½é‡èª¿é »èˆ‡æ°£è¡€å¾ªç’°èª¿ç†</strong>ç­‰æ—¥å¸¸åƒè€ƒï¼Œ<br>ä¸å±¬æ–¼ä»»ä½•é†«ç™‚è¡Œç‚ºï¼Œä¹Ÿä¸ç­‰åŒå¿ƒç†ç›¸é—œå°ˆæ¥­æœå‹™ã€‚<br>è‹¥æœ‰æ˜é¡¯æˆ–é•·æœŸèº«å¿ƒä¸é©ï¼Œè«‹å‹™å¿…å°‹æ±‚åˆæ ¼é†«ç™‚æˆ–å¿ƒç†ç›¸é—œå°ˆæ¥­å”åŠ©ã€‚<br><br>
      LINE å®˜æ–¹ï¼š<a href="https://lin.ee/vpbLhNjF" target="_blank" rel="noopener">@hourlight</a><br>
      Â© 2026 é¦¥éˆä¹‹é‘° Hour Lightï½œHour Light Emotional Balance Studio, Taiwanï½œAll Rights Reserved<br>
      <a class="hl-v2-footer-link" href="https://lin.ee/vpbLhNjF" target="_blank" rel="noopener">ğŸ’¬ è¯çµ¡æˆ‘å€‘</a>
    </div>
  </footer>

</div>

<a href="https://line.me/R/ti/p/~judyanee" target="_blank" rel="noopener" class="hl-float-btn">
  <span class="hl-float-icon">ğŸ’¬</span>
  <span class="hl-float-text">LINE è«®è©¢</span>
</a>

<div id="confirmModal" class="hl-v2-modal-overlay">
  <div class="hl-v2-modal-content">
    <div class="hl-v2-modal-header">
      <div class="hl-v2-modal-icon">ğŸ”®</div>
      <h2 class="hl-v2-modal-title">æº–å‚™å¥½äº†å—ï¼Ÿ</h2>
      <p class="hl-v2-modal-subtitle">è«‹å…ˆåœ¨å¿ƒä¸­æƒ³å¥½ä½ è¦å•çš„å•é¡Œ<br>ç„¶å¾ŒæŒ‰ä¸‹ç¢ºå®šé–‹å§‹æŠ½ç‰Œ</p>
    </div>
    <div class="hl-v2-modal-body">
      <textarea id="modalQuestion" class="hl-v2-modal-question" placeholder="ä½ ä¹Ÿå¯ä»¥åœ¨é€™è£¡å¯«ä¸‹å•é¡Œï¼ˆé¸å¡«ï¼‰"></textarea>
    </div>
    <div class="hl-v2-modal-footer">
      <button class="hl-v2-modal-btn hl-v2-modal-btn-secondary" id="modalCancel">å–æ¶ˆ</button>
      <button class="hl-v2-modal-btn hl-v2-modal-btn-primary" id="modalConfirm">âœ¨ ç¢ºå®šï¼Œé–‹å§‹æŠ½ç‰Œ</button>
    </div>
  </div>
</div>

<!-- ========== è¼‰å…¥ç‰Œå¡è³‡æ–™ ========== -->
<script src="cardData.js"></script>

<script>
// ========== èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶ ==========
function toggleBgMusic() {
  const audio = document.getElementById('bgMusic');
  const btn = document.getElementById('musicToggle');
  if (audio.paused) {
    audio.volume = 0.3;
    audio.play();
    btn.textContent = 'ğŸ”Š';
    btn.classList.add('playing');
  } else {
    audio.pause();
    btn.textContent = 'ğŸ”‡';
    btn.classList.remove('playing');
  }
}

// ========== ç‰Œå¡æª”æ¡ˆæ¸…å–® ==========
const allFiles = [
  "A00.png","A01.png","A02.png","A03.png","A04.png","A05.png","A06.png","A07.png","A08.png","A09.png","A10.png",
  "A11.png","A12.png","A13.png","A14.png","A15.png","A16.png","A17.png","A18.png","A19.png","A20.png","A21.png",
  "001.png","002.png","003.png","004.png","005.png","006.png","007.png","008.png","009.png","010.png",
  "011.png","012.png","013.png","014.png","015.png","016.png","017.png","018.png","019.png","020.png",
  "021.png","022.png","023.png","024.png","025.png","026.png","027.png","028.png","029.png","030.png",
  "031.png","032.png","033.png","034.png","035.png","036.png","037.png","038.png","039.png","040.png",
  "041.png","042.png","043.png","044.png","045.png","046.png","047.png","048.png","049.png","050.png",
  "051.png","052.png","053.png","054.png","055.png","056.png","057.png","058.png","059.png","060.png",
  "061.png","062.png","063.png","064.png","065.png","066.png","067.png","068.png","069.png","070.png",
  "071.png","072.png","073.png","074.png","075.png","076.png","077.png","078.png","079.png","080.png",
  "081.png","082.png","083.png","084.png","085.png","086.png","087.png","088.png","089.png","090.png",
  "091.png","092.png","093.png","094.png","095.png","096.png","097.png","098.png","099.png","100.png",
  "101.png","102.png","103.png","104.png","105.png","106.png","107.png","108.png"
];

// ========== æŠ½ç‰Œé‚è¼¯ ==========
let selected = [];
let userQuestion = '';
const grid = document.getElementById('grid');
const copyBtn = document.getElementById('copyBtn');
const shareBtn = document.getElementById('shareBtn');
const clearBtn = document.getElementById('clearBtn');
const guideHint = document.getElementById('guideHint');
const modal = document.getElementById('confirmModal');
const modalQuestion = document.getElementById('modalQuestion');
const modalConfirm = document.getElementById('modalConfirm');
const modalCancel = document.getElementById('modalCancel');

let pendingN = 0;

document.querySelectorAll('.hl-v2-mode-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    pendingN = parseInt(btn.dataset.n, 10);
    modalQuestion.value = '';
    modal.classList.add('show');
  });
});

modalCancel.addEventListener('click', () => modal.classList.remove('show'));
modal.addEventListener('click', e => { if (e.target === modal) modal.classList.remove('show'); });

modalConfirm.addEventListener('click', () => {
  userQuestion = modalQuestion.value.trim();
  modal.classList.remove('show');
  drawCards(pendingN);
});

function drawCards(n) {
  const pool = [...Array(allFiles.length).keys()];
  for (let i = pool.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [pool[i], pool[j]] = [pool[j], pool[i]];
  }
  selected = pool.slice(0, n);
  renderCards(n <= 3);
  copyBtn.disabled = false;
  shareBtn.disabled = false;
  updateURL(selected.map(i => allFiles[i].replace('.png', '')).join(','));
}

function renderCards(showExplain) {
  grid.innerHTML = '';
  const n = selected.length;

  const layouts = {
    1: [{ label: "âœ¨ ä»Šæ—¥è¨Šæ¯", indices: [0] }],
    3: [
      { label: "â‘ ç¾æ³ï½œç¾åœ¨æ˜¯ä»€éº¼ç‹€æ…‹ï¼Ÿ", indices: [0] },
      { label: "â‘¡æ ¸å¿ƒï½œçœŸæ­£çš„é‡é»æ˜¯ï¼Ÿ", indices: [1] },
      { label: "â‘¢æŒ‡å¼•ï½œä¸‹ä¸€æ­¥æ€éº¼èµ°ï¼Ÿ", indices: [2] }
    ],
    7: [
      { label: "â‘ ç¾æ³ï½œäº‹æƒ…ç¾åœ¨é•·ä»€éº¼æ¨£ï¼Ÿ", indices: [0] },
      { label: "â‘¡è¡¨å±¤ï½œæˆ‘ä»¥ç‚ºçš„å•é¡Œæ˜¯ï¼Ÿ", indices: [1] },
      { label: "â‘¢åº•å±¤ï½œçœŸæ­£çš„è­°é¡Œæ˜¯ï¼Ÿ", indices: [2] },
      { label: "â‘£ç›²é»ï½œæˆ‘æ²’çœ‹è¦‹ä»€éº¼ï¼Ÿ", indices: [3] },
      { label: "â‘¤è³‡æºï½œæˆ‘æ‰‹ä¸Šæœ‰ä»€éº¼ç‰Œï¼Ÿ", indices: [4] },
      { label: "â‘¥è¡Œå‹•ï½œç¾åœ¨è©²åšä»€éº¼ï¼Ÿ", indices: [5] },
      { label: "â‘¦è¨Šæ¯ï½œé«˜æˆ‘æƒ³å°æˆ‘èªªï¼Ÿ", indices: [6] }
    ],
    12: [
      { label: "ç¬¬1é–€ï½œèµ·é»å®šä½", indices: [0] },
      { label: "ç¬¬2é–€ï½œåƒ¹å€¼å¬å–š", indices: [1] },
      { label: "ç¬¬3é–€ï½œä¿è­·æ©Ÿåˆ¶", indices: [2] },
      { label: "ç¬¬4é–€ï½œæ”¯æ´ç³»çµ±", indices: [3] },
      { label: "ç¬¬5é–€ï½œè·¨è¶Šé–€æª»", indices: [4] },
      { label: "ç¬¬6é–€ï½œè©¦ç…‰å°èˆª", indices: [5] },
      { label: "ç¬¬7é–€ï½œé—œä¿‚é¡åƒ", indices: [6] },
      { label: "ç¬¬8é–€ï½œæ ¸å¿ƒè€ƒé©—", indices: [7] },
      { label: "ç¬¬9é–€ï½œçè³ç·šç´¢", indices: [8] },
      { label: "ç¬¬10é–€ï½œå›ç¨‹ç­–ç•¥", indices: [9] },
      { label: "ç¬¬11é–€ï½œé‡ç”Ÿå‡ç´š", indices: [10] },
      { label: "ç¬¬12é–€ï½œå¸¶å›å¯¶ç‰©", indices: [11] }
    ],
    15: [
      { label: "A1ï½œå¤©è³¦ç·šç´¢", indices: [0] },
      { label: "A2ï½œå¤©è³¦è­‰æ“š", indices: [1] },
      { label: "A3ï½œå¤©è³¦é‚Šç•Œ", indices: [2] },
      { label: "B1ï½œæ½›èƒ½æ–¹å‘", indices: [3] },
      { label: "B2ï½œæ½›èƒ½è³‡æº", indices: [4] },
      { label: "B3ï½œæ½›èƒ½åŠ é€Ÿ", indices: [5] },
      { label: "C1ï½œæ ¹æºå…¥å£", indices: [6] },
      { label: "C2ï½œæ ¹æºæ­¸å› ", indices: [7] },
      { label: "C3ï½œæ ¹æºçœŸç›¸", indices: [8] },
      { label: "D1ï½œå¡é»ä¿¡å¿µ", indices: [9] },
      { label: "D2ï½œå¡é»ç¿’æ…£", indices: [10] },
      { label: "D3ï½œå¡é»ä»£åƒ¹", indices: [11] },
      { label: "E1ï½œè§£æ–¹ç­–ç•¥", indices: [12] },
      { label: "E2ï½œè§£æ–¹è¡Œå‹•", indices: [13] },
      { label: "E3ï½œè§£æ–¹æ”¯æ´", indices: [14] }
    ],
    21: [
      { label: "H1ï½œèº«é«”è¨Šè™Ÿ", indices: [0] },
      { label: "H2ï½œæƒ…ç·’æº«åº¦", indices: [1] },
      { label: "H3ï½œèƒ½é‡ç‹€æ…‹", indices: [2] },
      { label: "O1ï½œäº‹å¯¦æ ¸å°", indices: [3] },
      { label: "O2ï½œè©®é‡‹æ‹†è§£", indices: [4] },
      { label: "O3ï½œç›²é»ç…§è¦‹", indices: [5] },
      { label: "U1ï½œå¤©è³¦ç¢ºèª", indices: [6] },
      { label: "U2ï½œæ½›èƒ½å¬å–š", indices: [7] },
      { label: "U3ï½œèƒ½åŠ›ç¼ºå£", indices: [8] },
      { label: "R1ï½œè¡Œå‹•å„ªå…ˆ", indices: [9] },
      { label: "R2ï½œè¡Œå‹•é˜»åŠ›", indices: [10] },
      { label: "R3ï½œè¡Œå‹•åŠ©åŠ›", indices: [11] },
      { label: "L1ï½œè¦ºå¯Ÿå…‰é»", indices: [12] },
      { label: "L2ï½œè¦ºé†’æ™‚åˆ»", indices: [13] },
      { label: "L3ï½œå…‰çš„æ–¹å‘", indices: [14] },
      { label: "I1ï½œå…§åœ¨è¡çª", indices: [15] },
      { label: "I2ï½œæ•´åˆè³‡æº", indices: [16] },
      { label: "I3ï½œæ•´åˆå®£è¨€", indices: [17] },
      { label: "T1ï½œè›»è®Šå¥‘æ©Ÿ", indices: [18] },
      { label: "T2ï½œè›»è®Šä»£åƒ¹", indices: [19] },
      { label: "T3ï½œè›»è®Šé¡˜æ™¯", indices: [20] }
    ]
  };

  if (layouts[n]) {
    layouts[n].forEach(group => {
      const groupDiv = document.createElement('div');
      groupDiv.style.cssText = 'width:100%;margin:16px 0 8px;';

      const groupTitle = document.createElement('h4');
      groupTitle.style.cssText = 'color:var(--hl-v2-gold);font-size:1rem;font-weight:800;text-align:center;margin-bottom:12px;';
      groupTitle.textContent = group.label;
      groupDiv.appendChild(groupTitle);

      const cardRow = document.createElement('div');
      cardRow.style.cssText = 'display:flex;flex-wrap:wrap;gap:18px;justify-content:center;';

      group.indices.forEach(idx => {
        if (idx < selected.length) cardRow.appendChild(createCardEl(selected[idx], false));
      });

      groupDiv.appendChild(cardRow);
      grid.appendChild(groupDiv);
    });
  } else {
    const cardRow = document.createElement('div');
    cardRow.style.cssText = 'display:flex;flex-wrap:wrap;gap:18px;justify-content:center;';
    selected.forEach((idx, i) => {
      cardRow.appendChild(createCardEl(idx, false));
    });
    grid.appendChild(cardRow);
  }

  // 1~3å¼µï¼šé¡¯ç¤ºæ·±åº¦è§£è®€
  if (n <= 3) {
    selected.forEach((idx, cardIndex) => {
      const file = allFiles[idx];
      const code = file.replace('.png', '');
      const info = window.cardData ? window.cardData[code] : {};
      const cardName = info.name || info.title || '';

      const readingDiv = document.createElement('div');
      readingDiv.className = 'hl-bestie-reading';

      const senseText = info.sense || info['è¦ºå¯Ÿ'] || '';
      const actionText = info.action || info['è¡Œå‹•æŒ‡å¼•'] || '';

      readingDiv.innerHTML = `
        <div class="hl-bestie-header">
          <span class="hl-bestie-icon">âœ¨</span>
          <div>
            <div class="hl-bestie-title">${code} ${cardName}</div>
            <div class="hl-bestie-subtitle">è¦ºå¯Ÿèˆ‡è¡Œå‹•</div>
          </div>
        </div>
        <div class="hl-bestie-content">
          <div class="hl-bestie-opener">${senseText}</div>
          ${actionText ? `<div class="hl-bestie-closer"><div class="hl-bestie-closer-label">âœ¨ è¡Œå‹•æŒ‡å¼•</div><div class="hl-bestie-closer-text">${actionText}</div></div>` : ''}
        </div>
      `;

      grid.appendChild(readingDiv);
    });

    // å¼•æµå€å¡Š
    const suggestOptions = [
      {n: 12, name: 'HOUR ä¸‰å±¤è§£æ', desc: 'èº«å¿ƒã€é—œä¿‚ã€è²¡å¯Œã€å¤©å‘½å››å¤§ä¸»è»¸'},
      {n: 15, name: 'ç”Ÿå‘½è—åœ–', desc: 'æ›´æ·±å±¤çš„å…§åœ¨è¨Šæ¯'},
      {n: 21, name: 'HOURÃ—LIGHT å®Œæ•´çŸ©é™£', desc: 'å…¨æ–¹ä½æ·±åº¦è§£è®€'}
    ];
    const suggest = suggestOptions[Math.floor(Math.random() * 3)];

    const ctaDiv = document.createElement('div');
    ctaDiv.className = 'hl-bestie-cta';
    ctaDiv.innerHTML = `
      <div class="hl-bestie-cta-text">
        ğŸ’­ ${n === 1 ? 'é€™å¼µç‰Œé»å‡ºäº†ä½ ç¾åœ¨çš„ç‹€æ…‹' : 'é€™ ' + n + ' å¼µç‰Œæ­ç¤ºäº†ä½ ç›®å‰çš„èƒ½é‡ç‹€æ…‹'}ï¼Œä½†æ•…äº‹é‚„æ²’èªªå®Œ...<br>
        æƒ³çœ‹è¦‹æ›´å®Œæ•´çš„è¨Šæ¯ï¼Ÿè©¦è©¦ <strong>${suggest.n} å¼µã€Œ${suggest.name}ã€</strong><br>
        <span style="font-size:13px;opacity:0.85;">${suggest.desc}</span>
      </div>
      <a href="https://line.me/R/ti/p/~judyanee" target="_blank" rel="noopener" class="hl-bestie-cta-btn">
        ğŸ’¬ é ç´„é¦¥éˆè¦ºå¯Ÿå¸«æ·±åº¦è§£è®€
      </a>
    `;
    grid.appendChild(ctaDiv);
  }
}

function createCardEl(idx, showExplain) {
  const file = allFiles[idx];
  const code = file.replace('.png', '');
  const info = window.cardData ? window.cardData[code] : {};

  const wrap = document.createElement('div');
  wrap.className = 'hl-v2-card-item';
  wrap.style.animationDelay = `${idx * 0.06}s`;

  const cardName = info.name || info.title || '';

  wrap.innerHTML = `<img class="hl-v2-card-thumb" src="${file}" alt="${code}" loading="lazy"><div class="hl-v2-card-cap">${code}${cardName ? ' ' + cardName : ''}</div>`;

  return wrap;
}

// ========== è¤‡è£½çµæœ ==========
copyBtn.addEventListener('click', () => {
  const n = selected.length;

  const layouts = {
    1: ["âœ¨ ä»Šæ—¥è¨Šæ¯"],
    3: ["â‘ ç¾æ³", "â‘¡æ ¸å¿ƒ", "â‘¢æŒ‡å¼•"],
    7: ["â‘ ç¾æ³", "â‘¡è¡¨å±¤", "â‘¢åº•å±¤", "â‘£ç›²é»", "â‘¤è³‡æº", "â‘¥è¡Œå‹•", "â‘¦è¨Šæ¯"],
    12: ["ç¬¬1é–€ï½œèµ·é»å®šä½", "ç¬¬2é–€ï½œåƒ¹å€¼å¬å–š", "ç¬¬3é–€ï½œä¿è­·æ©Ÿåˆ¶", "ç¬¬4é–€ï½œæ”¯æ´ç³»çµ±", "ç¬¬5é–€ï½œè·¨è¶Šé–€æª»", "ç¬¬6é–€ï½œè©¦ç…‰å°èˆª", "ç¬¬7é–€ï½œé—œä¿‚é¡åƒ", "ç¬¬8é–€ï½œæ ¸å¿ƒè€ƒé©—", "ç¬¬9é–€ï½œçè³ç·šç´¢", "ç¬¬10é–€ï½œå›ç¨‹ç­–ç•¥", "ç¬¬11é–€ï½œé‡ç”Ÿå‡ç´š", "ç¬¬12é–€ï½œå¸¶å›å¯¶ç‰©"],
    15: ["A1ï½œå¤©è³¦ç·šç´¢", "A2ï½œå¤©è³¦è­‰æ“š", "A3ï½œå¤©è³¦é‚Šç•Œ", "B1ï½œæ½›èƒ½æ–¹å‘", "B2ï½œæ½›èƒ½è³‡æº", "B3ï½œæ½›èƒ½åŠ é€Ÿ", "C1ï½œæ ¹æºå…¥å£", "C2ï½œæ ¹æºæ­¸å› ", "C3ï½œæ ¹æºçœŸç›¸", "D1ï½œå¡é»ä¿¡å¿µ", "D2ï½œå¡é»ç¿’æ…£", "D3ï½œå¡é»ä»£åƒ¹", "E1ï½œè§£æ–¹ç­–ç•¥", "E2ï½œè§£æ–¹è¡Œå‹•", "E3ï½œè§£æ–¹æ”¯æ´"],
    21: ["H1ï½œèº«é«”è¨Šè™Ÿ", "H2ï½œæƒ…ç·’æº«åº¦", "H3ï½œèƒ½é‡ç‹€æ…‹", "O1ï½œäº‹å¯¦æ ¸å°", "O2ï½œè©®é‡‹æ‹†è§£", "O3ï½œç›²é»ç…§è¦‹", "U1ï½œå¤©è³¦ç¢ºèª", "U2ï½œæ½›èƒ½å¬å–š", "U3ï½œèƒ½åŠ›ç¼ºå£", "R1ï½œè¡Œå‹•å„ªå…ˆ", "R2ï½œè¡Œå‹•é˜»åŠ›", "R3ï½œè¡Œå‹•åŠ©åŠ›", "L1ï½œè¦ºå¯Ÿå…‰é»", "L2ï½œè¦ºé†’æ™‚åˆ»", "L3ï½œå…‰çš„æ–¹å‘", "I1ï½œå…§åœ¨è¡çª", "I2ï½œæ•´åˆè³‡æº", "I3ï½œæ•´åˆå®£è¨€", "T1ï½œè›»è®Šå¥‘æ©Ÿ", "T2ï½œè›»è®Šä»£åƒ¹", "T3ï½œè›»è®Šé¡˜æ™¯"]
  };

  let txt = `ã€é¦¥éˆä¹‹é‘°ï½œå…§åœ¨GPS æŠ½ç‰Œçµæœã€‘\n`;
  txt += `æŠ½ç‰Œå¼µæ•¸ï¼š${n} å¼µ\n`;

  if (userQuestion && userQuestion.trim()) {
    txt += `æå•ï¼š${userQuestion}\n`;
  }
  txt += `\n`;

  if (layouts[n]) {
    layouts[n].forEach((label, i) => {
      if (i < selected.length) {
        const code = allFiles[selected[i]].replace('.png','');
        const info = window.cardData ? window.cardData[code] : {};
        txt += `â–¸ ${label}\n`;
        txt += `  ${code} ${info.title || ''}\n`;
        if (info['è¦ºå¯Ÿ']) {
          txt += `  ğŸ’­ ${info['è¦ºå¯Ÿ'].substring(0, 80)}...\n`;
        }
        txt += `\n`;
      }
    });
  } else {
    selected.forEach((idx, i) => {
      const code = allFiles[idx].replace('.png','');
      const info = window.cardData ? window.cardData[code] : {};
      txt += `${i+1}. ${code}${info.title ? ' ' + info.title : ''}\n`;
    });
  }

  txt += `\nğŸ’« æƒ³äº†è§£ç‰Œå¡çš„æ·±å±¤è¨Šæ¯ï¼Ÿ\né ç´„é¦¥éˆè¦ºå¯Ÿå¸«ç‚ºæ‚¨å®Œæ•´è§£è®€ ğŸ‘‰ https://line.me/R/ti/p/~judyanee`;

  navigator.clipboard.writeText(txt).then(() => showToast('å·²è¤‡è£½ï¼å¯è²¼åˆ° LINE é ç´„è§£è®€'));
});

// ========== ç”¢ç”Ÿé€£çµ ==========
shareBtn.addEventListener('click', () => {
  const url = new URL(location.href);
  url.searchParams.set('pick', selected.map(i => allFiles[i].replace('.png','')).join(','));
  navigator.clipboard.writeText(url.toString()).then(() => showToast('é€£çµå·²è¤‡è£½ï¼'));
});

// ========== æ¸…é™¤ ==========
clearBtn.addEventListener('click', () => {
  selected = [];
  userQuestion = '';
  grid.innerHTML = '';
  copyBtn.disabled = true;
  shareBtn.disabled = true;
  updateURL(null);
  guideHint.innerHTML = 'ğŸ’« æŠ½ç‰Œå¾Œæœƒé¡¯ç¤ºå¡åœ–èˆ‡å¡è™Ÿ<br><strong>1å¼µå…è²»</strong>é¡¯ç¤ºå®Œæ•´æ·±åº¦è§£è®€ï¼Œ<strong>3å¼µä»¥ä¸Šè«‹è¤‡è£½çµæœé ç´„è§£è®€</strong>';
});

// ========== Toasté€šçŸ¥ ==========
function showToast(msg) {
  const toast = document.createElement('div');
  toast.className = 'hl-v2-toast';
  toast.textContent = msg;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 1800);
}

// ========== URLæ›´æ–° ==========
function updateURL(pickStr) {
  const url = new URL(location.href);
  if (pickStr) url.searchParams.set('pick', pickStr);
  else url.searchParams.delete('pick');
  history.replaceState(null, '', url);
}

// ========== å¾URLé‚„åŸ ==========
function restoreFromURL() {
  const url = new URL(location.href);
  const pick = (url.searchParams.get('pick') || '').trim();
  if (!pick) return;

  const codes = pick.split(',').map(s => s.trim()).filter(Boolean);
  const codeToIdx = new Map(allFiles.map((f, i) => [f.replace('.png', ''), i]));
  const idxs = codes.map(c => codeToIdx.get(c)).filter(n => Number.isInteger(n));

  if (idxs.length) {
    selected = idxs;
    renderCards(idxs.length <= 3);
    copyBtn.disabled = false;
    shareBtn.disabled = false;
  }
}

restoreFromURL();
</script>

</body>
</html>
