<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>æ•¸å­—èƒ½é‡åˆ†æå™¨ï½œæ‰‹æ©Ÿè™Ÿç¢¼ Ã— ç”Ÿå‘½éˆæ•¸ï½œé¦¥éˆä¹‹é‘°</title>
<meta name="description" content="åŸºæ–¼å…«æ˜Ÿç£å ´ç†è«–ï¼Œç‚ºä½ æ­ç¤ºéš±è—åœ¨æ•¸å­—èƒŒå¾Œçš„èƒ½é‡å¯†ç¢¼ã€‚æ‰‹æ©Ÿè™Ÿç¢¼åˆ†æã€ç”Ÿå‘½éˆæ•¸è¨ˆç®—ã€äº”ç¶­èƒ½é‡é›·é”åœ–ã€‚">
<link rel="icon" href="favicon.ico" />
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
/* ==============================
   é¦¥éˆä¹‹é‘° Hour Light v2
   é»‘é‡‘å®‡å®™ä¸»é¡Œ - æ•¸å­—èƒ½é‡åˆ†æå™¨
   ============================== */

:root {
  --hl-font-main: "Noto Sans TC","PingFang TC","Microsoft JhengHei",system-ui,-apple-system,BlinkMacSystemFont,sans-serif;

  /* é»‘é‡‘å®‡å®™ç³» */
  --hl-v2-bg-deep: #05030a;
  --hl-v2-bg-soft: #14101b;
  --hl-v2-bg-panel: rgba(18,13,28,0.96);
  --hl-v2-ink-main: #f9f0e5;
  --hl-v2-ink-soft: #e2d3c4;

  --hl-v2-gold: #e9c27d;
  --hl-v2-gold-deep: #cda86e;
  --hl-v2-plum: #5c3a63;
  --hl-v2-rose: #f0b5b3;

  --hl-v2-border-soft: rgba(255,255,255,0.12);
  --hl-v2-shadow-md: 0 10px 28px rgba(0,0,0,0.55);

  --hl-v2-ease: cubic-bezier(0.4, 0, 0.2, 1);

  /* ç‹€æ…‹è‰² */
  --green: #4ade80;
  --red: #f87171;
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth}

body {
  min-height: 100vh;
  font-family: var(--hl-font-main);
  color: var(--hl-v2-ink-main);
  line-height: 1.8;
  padding: 24px 16px 48px;
  background:
    radial-gradient(ellipse 120% 80% at 50% 20%, rgba(92,58,99,0.25) 0%, transparent 50%),
    radial-gradient(ellipse 80% 60% at 80% 80%, rgba(233,194,125,0.08) 0%, transparent 40%),
    linear-gradient(180deg, var(--hl-v2-bg-deep) 0%, var(--hl-v2-bg-soft) 100%);
  background-attachment: fixed;
}

/* å®¹å™¨ */
.container {
  max-width: 900px;
  margin: 0 auto;
  background: var(--hl-v2-bg-panel);
  backdrop-filter: blur(16px) saturate(140%);
  border-radius: 20px;
  padding: 40px 32px;
  box-shadow: var(--hl-v2-shadow-md);
  border: 1px solid var(--hl-v2-border-soft);
}

/* æ¨™é¡Œ */
h1 {
  text-align: center;
  font-size: clamp(1.8rem, 4vw, 2.4rem);
  margin-bottom: 8px;
  font-weight: 900;
  background: linear-gradient(135deg, var(--hl-v2-gold), #fff8e7, var(--hl-v2-gold-deep));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.subtitle {
  text-align: center;
  color: var(--hl-v2-ink-soft);
  font-size: 0.95rem;
  margin-bottom: 32px;
  line-height: 1.7;
}

/* è¼¸å…¥å€ */
.input-section {
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--hl-v2-border-soft);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.input-group {
  margin-bottom: 20px;
}

.input-group:last-of-type {
  margin-bottom: 0;
}

.input-label {
  font-size: 0.95rem;
  font-weight: 700;
  color: var(--hl-v2-gold);
  margin-bottom: 10px;
  display: block;
}

.input-label .required {
  color: var(--red);
  margin-left: 4px;
}

.input-field {
  width: 100%;
  padding: 14px 16px;
  border: 1px solid var(--hl-v2-border-soft);
  border-radius: 12px;
  font-size: 1rem;
  font-family: inherit;
  transition: all .25s var(--hl-v2-ease);
  background: rgba(255,255,255,0.06);
  color: var(--hl-v2-ink-main);
}

.input-field:focus {
  outline: none;
  border-color: var(--hl-v2-gold);
  box-shadow: 0 0 0 3px rgba(233,194,125,0.15);
}

.input-field::placeholder {
  color: var(--hl-v2-ink-soft);
  opacity: 0.6;
}

/* æ—¥æœŸè¼¸å…¥ç‰¹æ®Šè™•ç† */
.input-field[type="date"] {
  color-scheme: dark;
}

.input-hint {
  font-size: 0.85rem;
  color: var(--hl-v2-ink-soft);
  margin-top: 8px;
  opacity: 0.8;
}

/* åˆ†ææŒ‰éˆ• */
.analyze-btn {
  display: block;
  width: 100%;
  background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
  color: #1a1a1a;
  border: none;
  padding: 16px 24px;
  border-radius: 14px;
  font-size: 1.1rem;
  font-weight: 900;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(233,194,125,0.35);
  transition: all .25s var(--hl-v2-ease);
  margin-top: 24px;
  font-family: inherit;
}

.analyze-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(233,194,125,0.5);
}

/* çµæœå€ */
.result-section {
  display: none;
}

.result-section.show {
  display: block;
  animation: fadeIn 0.5s var(--hl-v2-ease);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ç¸½åˆ†å¡ */
.score-card {
  background: linear-gradient(135deg, rgba(233,194,125,0.15), rgba(92,58,99,0.2));
  border: 2px solid var(--hl-v2-gold);
  border-radius: 16px;
  padding: 32px;
  margin-bottom: 28px;
  text-align: center;
}

.score-value {
  font-size: 4rem;
  font-weight: 900;
  background: linear-gradient(135deg, var(--hl-v2-gold), #fff8e7);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1;
}

.score-level {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--hl-v2-ink-main);
}

/* å€å¡Šå¡ç‰‡ */
.section-card {
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--hl-v2-border-soft);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.section-title {
  font-size: 1.2rem;
  font-weight: 900;
  color: var(--hl-v2-gold);
  margin-bottom: 20px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--hl-v2-border-soft);
}

/* å…«æ˜Ÿé …ç›® */
.star-item {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  margin-bottom: 10px;
  border-radius: 10px;
  background: rgba(255,255,255,0.03);
  transition: all .25s var(--hl-v2-ease);
}

.star-item:last-child {
  margin-bottom: 0;
}

.star-item.lucky {
  background: rgba(74,222,128,0.1);
  border-left: 4px solid var(--green);
}

.star-item.unlucky {
  background: rgba(248,113,113,0.1);
  border-left: 4px solid var(--red);
}

.star-name {
  font-weight: 800;
  color: var(--hl-v2-ink-main);
  margin-right: 12px;
}

.star-desc {
  color: var(--hl-v2-ink-soft);
  font-size: 0.9rem;
}

/* åœ–è¡¨å®¹å™¨ */
.chart-wrapper {
  max-width: 400px;
  margin: 0 auto;
  padding: 20px 0;
}

/* ç”Ÿå‘½éˆæ•¸çµæœ */
.lifepath-result {
  text-align: center;
  padding: 20px;
}

.lifepath-number {
  font-size: 3.5rem;
  font-weight: 900;
  background: linear-gradient(135deg, var(--hl-v2-gold), #fff8e7);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.lifepath-title {
  font-size: 1.3rem;
  font-weight: 800;
  color: var(--hl-v2-ink-main);
  margin: 10px 0;
}

.lifepath-desc {
  color: var(--hl-v2-ink-soft);
  font-size: 0.95rem;
}

/* å»ºè­°å¡ç‰‡ */
.recommendations {
  background: linear-gradient(135deg, rgba(124,77,255,0.08), rgba(255,107,53,0.06));
  border: 1px solid var(--hl-v2-border-soft);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.rec-item {
  background: rgba(255,255,255,0.04);
  border-radius: 12px;
  padding: 16px 20px;
  margin-bottom: 12px;
  border-left: 4px solid var(--hl-v2-gold);
  color: var(--hl-v2-ink-soft);
  font-size: 0.95rem;
  line-height: 1.7;
}

.rec-item:last-child {
  margin-bottom: 0;
}

.rec-item strong {
  color: var(--hl-v2-ink-main);
  display: block;
  margin-bottom: 6px;
}

/* è²æ˜å€ */
.disclaimer {
  background: rgba(255,183,77,0.1);
  border-left: 4px solid #ffb74d;
  padding: 20px;
  border-radius: 10px;
  margin: 25px 0;
  color: var(--hl-v2-ink-soft);
  font-size: 0.9rem;
  line-height: 1.7;
}

.disclaimer strong {
  color: var(--hl-v2-ink-main);
}

/* CTA å€ */
.cta-section {
  background: linear-gradient(135deg, var(--hl-v2-plum), rgba(92,58,99,0.8));
  border: 1px solid var(--hl-v2-border-soft);
  color: var(--hl-v2-ink-main);
  border-radius: 16px;
  padding: 32px;
  text-align: center;
}

.cta-title {
  font-size: 1.4rem;
  font-weight: 900;
  margin-bottom: 16px;
  background: linear-gradient(135deg, var(--hl-v2-gold), #fff8e7);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.cta-btn {
  display: inline-block;
  padding: 14px 28px;
  border-radius: 999px;
  font-weight: 800;
  text-decoration: none;
  transition: all .25s var(--hl-v2-ease);
  margin: 6px;
  font-size: 0.95rem;
}

.cta-btn-primary {
  background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
  color: #1a1a1a;
  box-shadow: 0 4px 14px rgba(233,194,125,0.3);
}

.cta-btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(233,194,125,0.45);
}

.cta-btn-line {
  background: #06C755;
  color: #fff;
  box-shadow: 0 4px 14px rgba(6,199,85,0.3);
}

.cta-btn-line:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(6,199,85,0.45);
}

/* è¿”å›é€£çµ */
.back-section {
  text-align: center;
  margin-top: 28px;
}

.back-link {
  display: inline-block;
  background: linear-gradient(135deg, var(--hl-v2-gold), var(--hl-v2-gold-deep));
  color: #1a1a1a;
  font-weight: 800;
  padding: 12px 22px;
  border-radius: 999px;
  text-decoration: none;
  box-shadow: 0 4px 14px rgba(233,194,125,0.3);
  transition: all .25s var(--hl-v2-ease);
}

.back-link:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(233,194,125,0.45);
}

/* ç©ºç‹€æ…‹ */
.empty-state {
  text-align: center;
  color: var(--hl-v2-ink-soft);
  padding: 20px;
  font-size: 0.95rem;
}

/* RWD */
@media(max-width:600px) {
  .container {
    padding: 28px 20px;
  }
  .score-value {
    font-size: 3rem;
  }
}
</style>
</head>

<body>
<div class="container">
  <h1>ğŸ”® æ•¸å­—èƒ½é‡åˆ†æå™¨</h1>
  <p class="subtitle">
    é¦¥éˆä¹‹é‘° é‡å­éˆæ•¸â„¢ï½œåŸºæ–¼å…«æ˜Ÿç£å ´ç†è«–ï¼Œç‚ºä½ æ­ç¤ºéš±è—åœ¨æ•¸å­—èƒŒå¾Œçš„èƒ½é‡å¯†ç¢¼
  </p>

  <!-- è¼¸å…¥å€ -->
  <div class="input-section">
    <div class="input-group">
      <label class="input-label">
        æ‰‹æ©Ÿè™Ÿç¢¼<span class="required">*</span>
      </label>
      <input type="tel" id="phoneInput" class="input-field" placeholder="è«‹è¼¸å…¥10ä½æ‰‹æ©Ÿè™Ÿç¢¼ï¼ˆä¾‹å¦‚ï¼š0912345678ï¼‰" maxlength="10">
      <div class="input-hint">æ‰‹æ©Ÿè™Ÿç¢¼æ˜¯ä½ æœ€å¸¸ä½¿ç”¨çš„æ•¸å­—ç£å ´ï¼Œå½±éŸ¿è‘—ä½ çš„èƒ½é‡é »ç‡</div>
    </div>
    <div class="input-group">
      <label class="input-label">
        å‡ºç”Ÿæ—¥æœŸ<span class="required">*</span>
      </label>
      <input type="date" id="birthInput" class="input-field" min="1900-01-01" max="2025-12-31">
      <div class="input-hint">ç”Ÿæ—¥æ±ºå®šäº†ä½ çš„ç”Ÿå‘½éˆæ•¸ï¼Œæ˜¯ä½ èˆ‡ç”Ÿä¿±ä¾†çš„èƒ½é‡å°è¨˜</div>
    </div>
    <button class="analyze-btn" onclick="analyzeEnergy()">âœ¨ é–‹å§‹åˆ†ææˆ‘çš„æ•¸å­—èƒ½é‡</button>
  </div>

  <!-- çµæœå€ -->
  <div id="resultSection" class="result-section">
    <div class="score-card">
      <div class="score-value" id="totalScore">--</div>
      <div class="score-level" id="scoreLevel">--</div>
    </div>

    <div class="section-card">
      <h2 class="section-title">ğŸ“± æ‰‹æ©Ÿè™Ÿç¢¼å…«æ˜Ÿç£å ´åˆ†æ</h2>
      <div id="starsContainer"></div>
    </div>

    <div class="section-card">
      <h2 class="section-title">ğŸ“Š äº”ç¶­èƒ½é‡é›·é”åœ–</h2>
      <div class="chart-wrapper">
        <canvas id="energyChart"></canvas>
      </div>
    </div>

    <div class="section-card">
      <h2 class="section-title">ğŸŒŸ ç”Ÿå‘½éˆæ•¸åˆ†æ</h2>
      <div id="lifePathContainer"></div>
    </div>

    <div class="recommendations">
      <h2 class="section-title">ğŸ’¡ èƒ½é‡èª¿é »å»ºè­°</h2>
      <div id="recommendationsContainer"></div>
    </div>

    <div class="disclaimer">
      <strong>âš ï¸ é‡è¦è²æ˜</strong><br>
      æœ¬åˆ†æåƒ…ä¾›å£“åŠ›ç®¡ç†ã€æƒ…ç·’ç´“è§£ã€èƒ½é‡èª¿é »èˆ‡æ°£è¡€å¾ªç’°èª¿ç†ç­‰æ—¥å¸¸åƒè€ƒï¼Œéé†«ç™‚è¡Œç‚ºï¼Œäº¦ä¸ç­‰åŒä»»ä½•å½¢å¼ä¹‹å¿ƒç†å°ˆæ¥­æœå‹™æˆ–å‘½ç†é æ¸¬ã€‚
    </div>

    <div class="cta-section">
      <div class="cta-title">æƒ³è¦æ›´æ·±å…¥çš„èƒ½é‡èª¿é »ï¼Ÿ</div>
      <p style="color:var(--hl-v2-ink-soft);margin-bottom:16px;font-size:0.95rem;">
        è®“å°ˆæ¥­èª¿é »å¸«ç‚ºä½ è§£è®€æ›´æ·±å±¤çš„æ•¸å­—è¨Šæ¯
      </p>
      <a href="https://lin.ee/vpbLhNjF" target="_blank" rel="noopener" class="cta-btn cta-btn-line">ğŸ’¬ LINE @hourlight</a>
      <a href="draw-hl.html" class="cta-btn cta-btn-primary">ğŸ”® å…è²»æŠ½ç‰Œ</a>
    </div>
  </div>

  <div class="back-section">
    <a href="index.html" class="back-link">ğŸ  è¿”å›é¦–é </a>
  </div>
</div>

<script>
// å…«æ˜Ÿç£å ´å°ç…§è¡¨
const EIGHT_STARS = {
  '14': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '41': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '67': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '76': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '39': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '93': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '28': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  '82': {name: 'ç”Ÿæ°£', type: 'lucky', desc: 'è²´äººé‹å¼·ï¼Œæ™ºæ…§æ¨‚è§€ï¼Œäººç·£ä½³'},
  
  '13': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '31': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '68': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '86': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '49': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '94': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '27': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  '72': {name: 'å¤©é†«', type: 'lucky', desc: 'è²¡é‹æ¥µä½³ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œå¥åº·é‹å¥½'},
  
  '19': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '91': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '78': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '87': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '34': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '43': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '26': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  '62': {name: 'å»¶å¹´', type: 'lucky', desc: 'äº‹æ¥­æœ‰æˆï¼Œé ˜å°åŠ›å¼·ï¼Œæ„Ÿæƒ…é †åˆ©'},
  
  '11': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '22': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '33': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '44': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '66': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '77': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '88': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  '99': {name: 'ä¼ä½', type: 'lucky', desc: 'è€å¿ƒç­‰å¾…ï¼Œæ½›åŠ›ç„¡é™ï¼Œç©©å®šç™¼å±•'},
  
  '17': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '71': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '89': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '98': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '46': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '64': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '23': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  '32': {name: 'ç¦å®³', type: 'unlucky', desc: 'å£èˆŒæ˜¯éï¼Œæ˜“æœ‰èª¤æœƒï¼Œéœ€å¤šæºé€š'},
  
  '12': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '21': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '69': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '96': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '48': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '84': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '37': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  '73': {name: 'çµ•å‘½', type: 'unlucky', desc: 'æŠ•è³‡æ³¢å‹•å¤§ï¼Œéœ€è¬¹æ…ç†è²¡'},
  
  '16': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '61': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '47': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '74': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '38': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '83': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '29': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  '92': {name: 'å…­ç…', type: 'unlucky', desc: 'æ„Ÿæƒ…å¤šè®Šï¼Œæ¡ƒèŠ±é‹æ—ºä½†éœ€æ…é¸'},
  
  '18': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '81': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '79': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '97': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '36': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '63': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '24': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'},
  '42': {name: 'äº”é¬¼', type: 'unlucky', desc: 'æ˜“æœ‰å°äººï¼Œæ„å¤–æ”¯å‡ºï¼Œéœ€æé˜²'}
};

// ç”Ÿå‘½éˆæ•¸ç‰¹è³ª
const LIFE_PATH_TRAITS = {
  1: {title: 'é ˜å°è€…', desc: 'ç¨ç«‹è‡ªä¸»ï¼Œé–‹å‰µç²¾ç¥ï¼Œæœ‰é ˜å°é­…åŠ›'},
  2: {title: 'å”èª¿è€…', desc: 'å–„æ–¼æºé€šï¼Œé‡è¦–å’Œè«§ï¼Œç›´è¦ºæ•éŠ³'},
  3: {title: 'å‰µé€ è€…', desc: 'å……æ»¿å‰µæ„ï¼Œè¡¨é”åŠ›å¼·ï¼Œæ¨‚è§€é–‹æœ—'},
  4: {title: 'å»ºè¨­è€…', desc: 'å‹™å¯¦ç©©é‡ï¼Œçµ„ç¹”åŠ›å¼·ï¼Œå€¼å¾—ä¿¡è³´'},
  5: {title: 'å†’éšªå®¶', desc: 'ç†±æ„›è‡ªç”±ï¼Œå‹‡æ–¼å˜—è©¦ï¼Œè®ŠåŒ–å¤šç«¯'},
  6: {title: 'ç…§é¡§è€…', desc: 'å¯Œæœ‰æ„›å¿ƒï¼Œè²¬ä»»æ„Ÿé‡ï¼Œè¿½æ±‚å®Œç¾'},
  7: {title: 'æ™ºè€…', desc: 'è¿½æ±‚çœŸç†ï¼Œæ·±åº¦æ€è€ƒï¼Œç›´è¦ºå¼·å¤§'},
  8: {title: 'å¯¦è¸å®¶', desc: 'ç›®æ¨™æ˜ç¢ºï¼ŒåŸ·è¡ŒåŠ›å¼·ï¼Œè²¡é‹äº¨é€š'},
  9: {title: 'å®Œæˆè€…', desc: 'èƒ¸æ‡·å¯¬å»£ï¼Œç„¡ç§å¥‰ç»ï¼Œæ™ºæ…§åœ“æ»¿'},
  11: {title: 'å•Ÿç¤ºè€…', desc: 'éˆæ€§å°å¸«ï¼Œç›´è¦ºè¶…å¼·ï¼Œå…·å•Ÿç™¼åŠ›'},
  22: {title: 'å»ºé€ å¤§å¸«', desc: 'å¯¦ç¾å¤¢æƒ³ï¼Œæ¶æ§‹å®å¤§ï¼Œå½±éŸ¿æ·±é '},
  33: {title: 'ç™‚ç™’å¤§å¸«', desc: 'ç„¡æ¢ä»¶çš„æ„›ï¼Œæœå‹™çœ¾ç”Ÿï¼Œéˆæ€§æ¥µé«˜'}
};

let energyChartInstance = null;

function analyzeEnergy() {
  const phone = document.getElementById('phoneInput').value.trim();
  const birth = document.getElementById('birthInput').value;

  // é©—è­‰
  if (!phone || phone.length !== 10 || !/^09\d{8}$/.test(phone)) {
    alert('è«‹è¼¸å…¥æ­£ç¢ºçš„10ä½æ‰‹æ©Ÿè™Ÿç¢¼ï¼ˆä»¥09é–‹é ­ï¼‰');
    return;
  }
  if (!birth) {
    alert('è«‹é¸æ“‡æ‚¨çš„å‡ºç”Ÿæ—¥æœŸ');
    return;
  }

  // åˆ†æå…«æ˜Ÿ
  const stars = [];
  let lucky = 0, unlucky = 0;
  for (let i = 0; i < phone.length - 1; i++) {
    const combo = phone[i] + phone[i + 1];
    if (EIGHT_STARS[combo]) {
      stars.push({...EIGHT_STARS[combo], combo});
      if (EIGHT_STARS[combo].type === 'lucky') lucky++;
      else unlucky++;
    }
  }

  // è¨ˆç®—ç”Ÿå‘½éˆæ•¸
  const digits = birth.replace(/-/g, '').split('').map(Number);
  let sum = digits.reduce((a, b) => a + b, 0);
  while (sum > 9 && sum !== 11 && sum !== 22 && sum !== 33) {
    sum = sum.toString().split('').map(Number).reduce((a, b) => a + b, 0);
  }

  // è¨ˆç®—äº”ç¶­åˆ†æ•¸
  const luckyRatio = (lucky + unlucky) > 0 ? lucky / (lucky + unlucky) : 0.5;
  const scores = {
    wealth: Math.round(40 + luckyRatio * 40 + Math.random() * 20),
    health: Math.round(45 + luckyRatio * 35 + Math.random() * 20),
    career: Math.round(40 + luckyRatio * 40 + Math.random() * 20),
    relationship: Math.round(45 + luckyRatio * 35 + Math.random() * 20),
    overall: Math.round(50 + luckyRatio * 30 + Math.random() * 20)
  };

  // é¡¯ç¤ºç¸½åˆ†
  document.getElementById('totalScore').textContent = scores.overall;
  let levelText = '';
  if (scores.overall >= 80) levelText = 'âœ¨ èƒ½é‡å……æ²›';
  else if (scores.overall >= 65) levelText = 'ğŸŒŸ èƒ½é‡è‰¯å¥½';
  else levelText = 'ğŸ”„ å»ºè­°èª¿é »';
  document.getElementById('scoreLevel').textContent = levelText;

  // é¡¯ç¤ºå…«æ˜Ÿåˆ†æ
  const starsContainer = document.getElementById('starsContainer');
  if (stars.length === 0) {
    starsContainer.innerHTML = '<div class="empty-state">æœªæª¢æ¸¬åˆ°æ¨™æº–å…«æ˜Ÿçµ„åˆ</div>';
  } else {
    starsContainer.innerHTML = stars.map(s => `
      <div class="star-item ${s.type}">
        <span class="star-name">${s.name}ï¼ˆ${s.combo}ï¼‰</span>
        <span class="star-desc">${s.desc}</span>
      </div>
    `).join('');
  }

  // é¡¯ç¤ºç”Ÿå‘½éˆæ•¸
  const trait = LIFE_PATH_TRAITS[sum] || {title: 'ç‰¹æ®Šæ•¸å­—', desc: 'ç¨ç‰¹çš„ç”Ÿå‘½èƒ½é‡ï¼Œå…·æœ‰ç‰¹æ®Šä½¿å‘½'};
  document.getElementById('lifePathContainer').innerHTML = `
    <div class="lifepath-result">
      <div class="lifepath-number">${sum}</div>
      <div class="lifepath-title">${trait.title}</div>
      <div class="lifepath-desc">${trait.desc}</div>
    </div>
  `;

  // é¡¯ç¤ºå»ºè­°
  const recContainer = document.getElementById('recommendationsContainer');
  let recHTML = '';
  if (unlucky > lucky) {
    recHTML = `
      <div class="rec-item">
        <strong>ğŸ”„ å»ºè­°å„ªåŒ–è™Ÿç¢¼ç£å ´</strong>
        æ‚¨çš„æ‰‹æ©Ÿè™Ÿç¢¼å‡¶æ˜Ÿè¼ƒå¤šï¼Œå»ºè­°é€éèƒ½é‡èª¿é »ä¾†å¹³è¡¡ç£å ´ï¼Œæˆ–è€ƒæ…®é¸æ“‡å‰æ˜Ÿçµ„åˆè¼ƒå¤šçš„è™Ÿç¢¼ã€‚
      </div>
      <div class="rec-item">
        <strong>ğŸ”® æ­é…ç‰Œå¡æ·±åº¦è§£è®€</strong>
        æ•¸å­—åªæ˜¯è¡¨è±¡ï¼Œé€é 130 å¼µé¦¥éˆä¹‹é‘°ç‰Œå¡ï¼Œå¯ä»¥æ›´æ·±å…¥äº†è§£æ‚¨ç•¶ä¸‹çš„èƒ½é‡ç‹€æ…‹èˆ‡èª¿æ•´æ–¹å‘ã€‚
      </div>
    `;
  } else {
    recHTML = `
      <div class="rec-item">
        <strong>âœ¨ èƒ½é‡å¹³è¡¡è‰¯å¥½</strong>
        æ‚¨çš„æ‰‹æ©Ÿè™Ÿç¢¼å‰æ˜Ÿè¼ƒå¤šï¼Œå»ºè­°ç¹¼çºŒä¿æŒç•¶å‰è™Ÿç¢¼ï¼Œå–„ç”¨é€™ä»½æ­£å‘èƒ½é‡ã€‚
      </div>
      <div class="rec-item">
        <strong>ğŸŒŸ æŒçºŒæå‡é »ç‡</strong>
        å¯é€éæ¯æ—¥ç²¾æ²¹èª¿é¦™ã€ç‰Œå¡å°ç„¦ç­‰æ–¹å¼ï¼Œè®“å¥½é‹æŒçºŒæ”¾å¤§ã€‚
      </div>
    `;
  }
  recContainer.innerHTML = recHTML;

  // ç¹ªè£½é›·é”åœ–
  const ctx = document.getElementById('energyChart').getContext('2d');
  if (energyChartInstance) energyChartInstance.destroy();
  
  energyChartInstance = new Chart(ctx, {
    type: 'radar',
    data: {
      labels: ['è²¡å¯Œ', 'å¥åº·', 'äº‹æ¥­', 'äººéš›', 'æ•´é«”'],
      datasets: [{
        data: [scores.wealth, scores.health, scores.career, scores.relationship, scores.overall],
        backgroundColor: 'rgba(233, 194, 125, 0.2)',
        borderColor: 'rgba(233, 194, 125, 1)',
        borderWidth: 2,
        pointBackgroundColor: 'rgba(233, 194, 125, 1)',
        pointBorderColor: '#fff',
        pointHoverBackgroundColor: '#fff',
        pointHoverBorderColor: 'rgba(233, 194, 125, 1)'
      }]
    },
    options: {
      responsive: true,
      scales: {
        r: {
          beginAtZero: true,
          max: 100,
          ticks: {
            color: 'rgba(249, 240, 229, 0.6)',
            backdropColor: 'transparent'
          },
          grid: {
            color: 'rgba(255, 255, 255, 0.1)'
          },
          angleLines: {
            color: 'rgba(255, 255, 255, 0.1)'
          },
          pointLabels: {
            color: 'rgba(249, 240, 229, 0.9)',
            font: {
              size: 12,
              weight: '600'
            }
          }
        }
      },
      plugins: {
        legend: {
          display: false
        }
      }
    }
  });

  // é¡¯ç¤ºçµæœå€ä¸¦æ»¾å‹•
  document.getElementById('resultSection').classList.add('show');
  document.getElementById('resultSection').scrollIntoView({behavior: 'smooth'});
}
</script>
</body>
</html>
